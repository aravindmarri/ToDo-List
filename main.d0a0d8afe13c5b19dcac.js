(self.webpackChunktodo_app=self.webpackChunktodo_app||[]).push([[179],{8255:rt=>{function ke(Y){return Promise.resolve().then(()=>{var p=new Error("Cannot find module '"+Y+"'");throw p.code="MODULE_NOT_FOUND",p})}ke.keys=()=>[],ke.resolve=ke,ke.id=8255,rt.exports=ke},7716:(rt,ke,Y)=>{"use strict";Y.d(ke,{deG:()=>bE,tb:()=>by,AFp:()=>LT,ip1:()=>_y,CZH:()=>ud,hGG:()=>eF,z2F:()=>np,sBO:()=>Ex,Sil:()=>ld,_Vd:()=>yc,EJc:()=>jT,SBq:()=>bs,qLn:()=>Nu,vpe:()=>Wo,gxx:()=>gf,tBr:()=>Va,XFs:()=>qe,OlP:()=>Zn,zs3:()=>kn,ZZ4:()=>Hm,aQg:()=>Gm,soG:()=>Cy,YKP:()=>AD,v3s:()=>dS,h0i:()=>vc,PXZ:()=>KO,R0b:()=>bo,FiY:()=>Ws,Lbi:()=>UT,g9A:()=>BT,Qsj:()=>hx,FYo:()=>Ff,JOm:()=>Vo,Tiy:()=>Yb,q3G:()=>fn,tp0:()=>Er,EAV:()=>pS,Rgc:()=>Kh,dDg:()=>nS,DyG:()=>Jc,q4F:()=>Qb,GfV:()=>Kb,s_b:()=>Wm,ifc:()=>Xe,eFA:()=>Y0,G48:()=>qO,Gpc:()=>ie,f3M:()=>oh,X6Q:()=>W0,_c5:()=>CS,VLi:()=>zO,c2e:()=>j0,zSh:()=>Wg,wAp:()=>_t,vHH:()=>Ie,EiD:()=>ta,mCW:()=>Fi,qzn:()=>Xs,JVY:()=>yg,pB0:()=>Kl,eBb:()=>ph,L6k:()=>Xd,LAX:()=>ps,cg1:()=>xf,Tjo:()=>vS,kL8:()=>xb,yhl:()=>mg,dqk:()=>sn,sIi:()=>Qg,CqO:()=>rb,QGY:()=>nb,F4k:()=>xw,RDi:()=>jc,AaK:()=>he,z3N:()=>fs,qOj:()=>iw,TTD:()=>bl,_Bn:()=>Wb,xp6:()=>ua,uIk:()=>aw,ekj:()=>Tf,Suo:()=>fT,Xpm:()=>yr,lG2:()=>yl,Yz7:()=>Jt,cJS:()=>Wt,oAB:()=>ml,Yjl:()=>_l,Y36:()=>rm,_UZ:()=>Aw,BQk:()=>om,ynx:()=>tb,qZA:()=>eb,TgZ:()=>Xv,EpF:()=>Mw,n5z:()=>ag,Ikx:()=>fc,LFG:()=>ln,$8M:()=>ug,NdJ:()=>sm,CRH:()=>dO,kcU:()=>Wc,O4$:()=>$c,oxw:()=>kw,ALo:()=>Qf,lcZ:()=>uT,xi3:()=>S0,Hsn:()=>CM,F$t:()=>bM,Q6J:()=>Sw,VKq:()=>ay,iGM:()=>dT,MAs:()=>Qv,CHM:()=>Sl,LSH:()=>vh,kYT:()=>Ea,Udp:()=>fa,WFA:()=>Ow,d8E:()=>Mb,YNc:()=>oM,_uU:()=>dm,Oqu:()=>Hw,hij:()=>If,AsE:()=>Gw,Gf:()=>x0});var p=Y(9765),fe=Y(5319),P=Y(7574),se=Y(6682),Ee=Y(8819);function ae(s){for(let a in s)if(s[a]===ae)return a;throw Error("Could not find renamed property on target object.")}function pe(s,a){for(const l in a)a.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=a[l])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function re(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const W=ae({__forward_ref__:ae});function ie(s){return s.__forward_ref__=ie,s.toString=function(){return he(this())},s}function G(s){return X(s)?s():s}function X(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===ie}class Ie extends Error{constructor(a,l){super(function(s,a){return`${s?`NG0${s}: `:""}${a}`}(a,l)),this.code=a}}function Ve(s){return"string"==typeof s?s:null==s?"":String(s)}function He(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ve(s)}function on(s,a){const l=a?` in ${a}`:"";throw new Ie("201",`No provider for ${He(s)} found${l}`)}function ct(s,a){null==s&&function(s,a,l,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${l} ${h} ${a} <=Actual]`))}(a,s,null,"!=")}function Jt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Wt(s){return{providers:s.providers||[],imports:s.imports||[]}}function On(s){return an(s,jt)||an(s,Wn)}function an(s,a){return s.hasOwnProperty(a)?s[a]:null}function Wi(s){return s&&(s.hasOwnProperty(Mt)||s.hasOwnProperty(En))?s[Mt]:null}const jt=ae({\u0275prov:ae}),Mt=ae({\u0275inj:ae}),Wn=ae({ngInjectableDef:ae}),En=ae({ngInjectorDef:ae});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let vn;function Pn(s){const a=vn;return vn=s,a}function rr(s,a,l){const h=On(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&qe.Optional?null:void 0!==a?a:void on(he(s),"Injector")}function fi(s){return{toString:s}.toString()}var Xn=(()=>((Xn=Xn||{})[Xn.OnPush=0]="OnPush",Xn[Xn.Default=1]="Default",Xn))(),Xe=(()=>((Xe=Xe||{})[Xe.Emulated=0]="Emulated",Xe[Xe.None=2]="None",Xe[Xe.ShadowDom=3]="ShadowDom",Xe))();const At="undefined"!=typeof globalThis&&globalThis,gl="undefined"!=typeof window&&window,To="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Sr="undefined"!=typeof global&&global,sn=At||Sr||gl||To,le={},ge=[],ue=ae({\u0275cmp:ae}),We=ae({\u0275dir:ae}),Et=ae({\u0275pipe:ae}),dn=ae({\u0275mod:ae}),gn=ae({\u0275loc:ae}),tn=ae({\u0275fac:ae}),ir=ae({__NG_ELEMENT_ID__:ae});let Fr=0;function yr(s){return fi(()=>{const l={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Xn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ge,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Xe.Emulated,id:"c",styles:s.styles||ge,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.directives,_=s.features,C=s.pipes;return h.id+=Fr++,h.inputs=hu(s.inputs,l),h.outputs=hu(s.outputs),_&&_.forEach(w=>w(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(Os):null,h.pipeDefs=C?()=>("function"==typeof C?C():C).map(cu):null,h})}function Os(s){return or(s)||function(s){return s[We]||null}(s)}function cu(s){return function(s){return s[Et]||null}(s)}const Lc={};function ml(s){return fi(()=>{const a={type:s.type,bootstrap:s.bootstrap||ge,declarations:s.declarations||ge,imports:s.imports||ge,exports:s.exports||ge,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Lc[s.id]=s.type),a})}function Ea(s,a){return fi(()=>{const l=pi(s,!0);l.declarations=a.declarations||ge,l.imports=a.imports||ge,l.exports=a.exports||ge})}function hu(s,a){if(null==s)return le;const l={};for(const h in s)if(s.hasOwnProperty(h)){let m=s[h],_=m;Array.isArray(m)&&(_=m[1],m=m[0]),l[m]=h,a&&(a[m]=_)}return l}const yl=yr;function _l(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function or(s){return s[ue]||null}function pi(s,a){const l=s[dn]||null;if(!l&&!0===a)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return l}function Fn(s){return Array.isArray(s)&&"object"==typeof s[1]}function oi(s){return Array.isArray(s)&&!0===s[1]}function rs(s){return 0!=(8&s.flags)}function _r(s){return 2==(2&s.flags)}function du(s){return 1==(1&s.flags)}function Yi(s){return null!==s.template}function N(s){return 0!=(512&s[2])}function is(s,a){return s.hasOwnProperty(tn)?s[tn]:null}class kd{constructor(a,l,h){this.previousValue=a,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function bl(){return Bc}function Bc(s){return s.type.prototype.ngOnChanges&&(s.setInput=Hp),jp}function jp(){const s=Cl(this),a=null==s?void 0:s.current;if(a){const l=s.previous;if(l===le)s.previous=a;else for(let h in a)l[h]=a[h];s.current=null,this.ngOnChanges(a)}}function Hp(s,a,l,h){const m=Cl(s)||function(s,a){return s[wa]=a}(s,{previous:le,current:null}),_=m.current||(m.current={}),C=m.previous,w=this.declaredInputs[l],T=C[w];_[w]=new kd(T&&T.currentValue,a,C===le),s[h]=a}bl.ngInherit=!0;const wa="__ngSimpleChanges__";function Cl(s){return s[wa]||null}const wn="http://www.w3.org/2000/svg";let Uc;function jc(s){Uc=s}function Ln(s){return!!s.listen}const St={createRenderer:(s,a)=>void 0!==Uc?Uc:"undefined"!=typeof document?document:void 0};function In(s){for(;Array.isArray(s);)s=s[0];return s}function mu(s,a){return In(a[s])}function Qi(s,a){return In(a[s.index])}function ks(s,a){return s.data[a]}function Ps(s,a){return s[a]}function yi(s,a){const l=a[s];return Fn(l)?l:l[0]}function qp(s){return 4==(4&s[2])}function $p(s){return 128==(128&s[2])}function Ns(s,a){return null==a?null:s[a]}function Nd(s){s[18]=0}function Fs(s,a){s[5]+=a;let l=s,h=s[3];for(;null!==h&&(1===a&&1===l[5]||-1===a&&0===l[5]);)h[5]+=a,l=h,h=h[3]}const Ct={lFrame:ss(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function R_(){return Ct.bindingsEnabled}function Pe(){return Ct.lFrame.lView}function Xt(){return Ct.lFrame.tView}function Sl(s){return Ct.lFrame.contextLView=s,s[8]}function qn(){let s=Al();for(;null!==s&&64===s.type;)s=s.parent;return s}function Al(){return Ct.lFrame.currentTNode}function si(s,a){const l=Ct.lFrame;l.currentTNode=s,l.isParent=a}function Il(){return Ct.lFrame.isParent}function Ml(){Ct.lFrame.isParent=!1}function Ta(){return Ct.isInCheckNoChangesMode}function os(s){Ct.isInCheckNoChangesMode=s}function cr(){const s=Ct.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Oi(){return Ct.lFrame.bindingIndex}function xo(){return Ct.lFrame.bindingIndex++}function Zi(s){const a=Ct.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,l}function Qp(s,a){const l=Ct.lFrame;l.bindingIndex=l.bindingRootIndex=s,_i(a)}function _i(s){Ct.lFrame.currentDirectiveIndex=s}function xl(s){const a=Ct.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function Gc(){return Ct.lFrame.currentQueryIndex}function Ls(s){Ct.lFrame.currentQueryIndex=s}function Zp(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function zc(s,a,l){if(l&qe.SkipSelf){let m=a,_=s;for(;!(m=m.parent,null!==m||l&qe.Host||(m=Zp(_),null===m||(_=_[15],10&m.type))););if(null===m)return!1;a=m,s=_}const h=Ct.lFrame=qc();return h.currentTNode=a,h.lView=s,!0}function Sa(s){const a=qc(),l=s[1];Ct.lFrame=a,a.currentTNode=l.firstChild,a.lView=s,a.tView=l,a.contextLView=s,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function qc(){const s=Ct.lFrame,a=null===s?null:s.child;return null===a?ss(s):a}function ss(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Jp(){const s=Ct.lFrame;return Ct.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Xp=Jp;function as(){const s=Jp();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function vr(){return Ct.lFrame.selectedIndex}function ao(s){Ct.lFrame.selectedIndex=s}function Qn(){const s=Ct.lFrame;return ks(s.tView,s.selectedIndex)}function $c(){Ct.lFrame.currentNamespace=wn}function Wc(){Ct.lFrame.currentNamespace=null}function Vs(s,a){for(let l=a.directiveStart,h=a.directiveEnd;l<h;l++){const _=s.data[l].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:w,ngAfterViewInit:T,ngAfterViewChecked:x,ngOnDestroy:R}=_;C&&(s.contentHooks||(s.contentHooks=[])).push(-l,C),w&&((s.contentHooks||(s.contentHooks=[])).push(l,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,w)),T&&(s.viewHooks||(s.viewHooks=[])).push(-l,T),x&&((s.viewHooks||(s.viewHooks=[])).push(l,x),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,x)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(l,R)}}function Bs(s,a,l){Us(s,a,3,l)}function Ol(s,a,l,h){(3&s[2])===l&&Us(s,a,l,h)}function Rl(s,a){let l=s[2];(3&l)===a&&(l&=2047,l+=1,s[2]=l)}function Us(s,a,l,h){const _=null!=h?h:-1,C=a.length-1;let w=0;for(let T=void 0!==h?65535&s[18]:0;T<C;T++)if("number"==typeof a[T+1]){if(w=a[T],null!=h&&w>=h)break}else a[T]<0&&(s[18]+=65536),(w<_||-1==_)&&(eg(s,l,a,T),s[18]=(4294901760&s[18])+T+2),T++}function eg(s,a,l,h){const m=l[h]<0,_=l[h+1],w=s[m?-l[h]:l[h]];if(m){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{_.call(w)}finally{}}}else try{_.call(w)}finally{}}class _u{constructor(a,l,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}function Bd(s,a,l){const h=Ln(s);let m=0;for(;m<l.length;){const _=l[m];if("number"==typeof _){if(0!==_)break;m++;const C=l[m++],w=l[m++],T=l[m++];h?s.setAttribute(a,w,T,C):a.setAttributeNS(C,w,T)}else{const C=_,w=l[++m];uo(C)?h&&s.setProperty(a,C,w):h?s.setAttribute(a,C,w):a.setAttribute(C,w),m++}}return m}function ng(s){return 3===s||4===s||6===s}function uo(s){return 64===s.charCodeAt(0)}function Pl(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let l=-1;for(let h=0;h<a.length;h++){const m=a[h];"number"==typeof m?l=m:0===l||rg(s,l,m,null,-1===l||2===l?a[++h]:null)}}return s}function rg(s,a,l,h,m){let _=0,C=s.length;if(-1===a)C=-1;else for(;_<s.length;){const w=s[_++];if("number"==typeof w){if(w===a){C=-1;break}if(w>a){C=_-1;break}}}for(;_<s.length;){const w=s[_];if("number"==typeof w)break;if(w===l){if(null===h)return void(null!==m&&(s[_+1]=m));if(h===s[_+1])return void(s[_+2]=m)}_++,null!==h&&_++,null!==m&&_++}-1!==C&&(s.splice(C,0,a),_=C+1),s.splice(_++,0,l),null!==h&&s.splice(_++,0,h),null!==m&&s.splice(_++,0,m)}function Yc(s){return-1!==s}function Aa(s){return 32767&s}function Nl(s,a){let l=function(s){return s>>16}(s),h=a;for(;l>0;)h=h[15],l--;return h}let ig=!0;function Ia(s){const a=ig;return ig=s,a}let vE=0;function vu(s,a){const l=jn(s,a);if(-1!==l)return l;const h=a[1];h.firstCreatePass&&(s.injectorIndex=a.length,jd(h.data,s),jd(a,null),jd(h.blueprint,null));const m=ot(s,a),_=s.injectorIndex;if(Yc(m)){const C=Aa(m),w=Nl(m,a),T=w[1].data;for(let x=0;x<8;x++)a[_+x]=w[C+x]|T[C+x]}return a[_+8]=m,_}function jd(s,a){s.push(0,0,0,0,0,0,0,0,a)}function jn(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function ot(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,h=null,m=a;for(;null!==m;){const _=m[1],C=_.type;if(h=2===C?_.declTNode:1===C?m[6]:null,null===h)return-1;if(l++,m=m[15],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return-1}function Vt(s,a,l){!function(s,a,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(ir)&&(h=l[ir]),null==h&&(h=l[ir]=vE++);const m=255&h;a.data[s+(m>>5)]|=1<<m}(s,a,l)}function ki(s,a,l){if(l&qe.Optional)return s;on(a,"NodeInjector")}function Fl(s,a,l,h){if(l&qe.Optional&&void 0===h&&(h=null),0==(l&(qe.Self|qe.Host))){const m=s[9],_=Pn(void 0);try{return m?m.get(a,h,l&qe.Optional):rr(a,h,l&qe.Optional)}finally{Pn(_)}}return ki(h,a,l)}function Ll(s,a,l,h=qe.Default,m){if(null!==s){const _=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(ir)?s[ir]:void 0;return"number"==typeof a?a>=0?255&a:Hd:a}(l);if("function"==typeof _){if(!zc(a,s,h))return h&qe.Host?ki(m,l,h):Fl(a,l,h,m);try{const C=_(h);if(null!=C||h&qe.Optional)return C;on(l)}finally{Xp()}}else if("number"==typeof _){let C=null,w=jn(s,a),T=-1,x=h&qe.Host?a[16][6]:null;for((-1===w||h&qe.SkipSelf)&&(T=-1===w?ot(s,a):a[w+8],-1!==T&&Vl(h,!1)?(C=a[1],w=Aa(T),a=Nl(T,a)):w=-1);-1!==w;){const R=a[1];if(Gd(_,w,R.data)){const V=Zc(w,a,l,C,h,x);if(V!==Yr)return V}T=a[w+8],-1!==T&&Vl(h,a[1].data[w+8]===x)&&Gd(_,w,a)?(C=R,w=Aa(T),a=Nl(T,a)):w=-1}}}return Fl(a,l,h,m)}const Yr={};function Hd(){return new Cu(qn(),Pe())}function Zc(s,a,l,h,m,_){const C=a[1],w=C.data[s+8],R=bu(w,C,l,null==h?_r(w)&&ig:h!=C&&0!=(3&w.type),m&qe.Host&&_===w);return null!==R?Hn(a,C,R,w):Yr}function bu(s,a,l,h,m){const _=s.providerIndexes,C=a.data,w=1048575&_,T=s.directiveStart,R=_>>20,U=m?w+R:s.directiveEnd;for(let Q=h?w:w+R;Q<U;Q++){const oe=C[Q];if(Q<T&&l===oe||Q>=T&&oe.type===l)return Q}if(m){const Q=C[T];if(Q&&Yi(Q)&&Q.type===l)return T}return null}function Hn(s,a,l,h){let m=s[l];const _=a.data;if(function(s){return s instanceof _u}(m)){const C=m;C.resolving&&function(s,a){throw new Ie("200",`Circular dependency in DI detected for ${s}`)}(He(_[l]));const w=Ia(C.canSeeViewProviders);C.resolving=!0;const T=C.injectImpl?Pn(C.injectImpl):null;zc(s,h,qe.Default);try{m=s[l]=C.factory(void 0,_,s,h),a.firstCreatePass&&l>=h.directiveStart&&function(s,a,l){const{ngOnChanges:h,ngOnInit:m,ngDoCheck:_}=a.type.prototype;if(h){const C=Bc(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,C),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,C)}m&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,m),_&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,_))}(l,_[l],a)}finally{null!==T&&Pn(T),Ia(w),C.resolving=!1,Xp()}}return m}function Gd(s,a,l){return!!(l[a+(s>>5)]&1<<s)}function Vl(s,a){return!(s&qe.Self||s&qe.Host&&a)}class Cu{constructor(a,l){this._tNode=a,this._lView=l}get(a,l){return Ll(this._tNode,this._lView,a,void 0,l)}}function ag(s){return fi(()=>{const a=s.prototype.constructor,l=a[tn]||zd(a),h=Object.prototype;let m=Object.getPrototypeOf(s.prototype).constructor;for(;m&&m!==h;){const _=m[tn]||zd(m);if(_&&_!==l)return _;m=Object.getPrototypeOf(m)}return _=>new _})}function zd(s){return X(s)?()=>{const a=zd(G(s));return a&&a()}:is(s)}function ug(s){return function(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const l=s.attrs;if(l){const h=l.length;let m=0;for(;m<h;){const _=l[m];if(ng(_))break;if(0===_)m+=2;else if("number"==typeof _)for(m++;m<h&&"string"==typeof l[m];)m++;else{if(_===a)return l[m+1];m+=2}}}return null}(qn(),s)}const ls="__parameters__";function Oo(s,a,l){return fi(()=>{const h=function(s){return function(...l){if(s){const h=s(...l);for(const m in h)this[m]=h[m]}}}(a);function m(..._){if(this instanceof m)return h.apply(this,_),this;const C=new m(..._);return w.annotation=C,w;function w(T,x,R){const V=T.hasOwnProperty(ls)?T[ls]:Object.defineProperty(T,ls,{value:[]})[ls];for(;V.length<=R;)V.push(null);return(V[R]=V[R]||[]).push(C),T}}return l&&(m.prototype=Object.create(l.prototype)),m.prototype.ngMetadataName=s,m.annotationCls=m,m})}class Zn{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Jt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const bE=new Zn("AnalyzeForEntryComponents"),Jc=Function;function Ji(s,a){void 0===a&&(a=s);for(let l=0;l<s.length;l++){let h=s[l];Array.isArray(h)?(a===s&&(a=s.slice(0,l)),Ji(h,a)):a!==s&&a.push(h)}return a}function Ur(s,a){s.forEach(l=>Array.isArray(l)?Ur(l,a):a(l))}function hs(s,a,l){a>=s.length?s.push(l):s.splice(a,0,l)}function Ra(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function zs(s,a){const l=[];for(let h=0;h<s;h++)l.push(a);return l}function Cr(s,a,l){let h=ka(s,a);return h>=0?s[1|h]=l:(h=~h,function(s,a,l,h){let m=s.length;if(m==a)s.push(l,h);else if(1===m)s.push(h,s[0]),s[0]=l;else{for(m--,s.push(s[m-1],s[m]);m>a;)s[m]=s[m-2],m--;s[a]=l,s[a+1]=h}}(s,h,a,l)),h}function $n(s,a){const l=ka(s,a);if(l>=0)return s[1|l]}function ka(s,a){return function(s,a,l){let h=0,m=s.length>>l;for(;m!==h;){const _=h+(m-h>>1),C=s[_<<l];if(a===C)return _<<l;C>a?m=_:h=_+1}return~(m<<l)}(s,a,1)}const Hl={},$d="__NG_DI_FLAG__",Tu="ngTempTokenPath",Wd=/\n/gm,Yd="__source",Gl=ae({provide:String,useValue:ae});let qs;function Rt(s){const a=qs;return qs=s,a}function ih(s,a=qe.Default){if(void 0===qs)throw new Error("inject() must be called from an injection context");return null===qs?rr(s,void 0,a):qs.get(s,a&qe.Optional?null:void 0,a)}function ln(s,a=qe.Default){return(vn||ih)(G(s),a)}const oh=ln;function Fa(s){const a=[];for(let l=0;l<s.length;l++){const h=G(s[l]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let m,_=qe.Default;for(let C=0;C<h.length;C++){const w=h[C],T=fg(w);"number"==typeof T?-1===T?m=w.token:_|=T:m=w}a.push(ln(m,_))}else a.push(ln(h))}return a}function $s(s,a){return s[$d]=a,s.prototype[$d]=a,s}function fg(s){return s[$d]}function ho(s,a,l,h){const m=s[Tu];throw a[Yd]&&m.unshift(a[Yd]),s.message=function(s,a,l,h=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let m=he(a);if(Array.isArray(a))m=a.map(he).join(" -> ");else if("object"==typeof a){let _=[];for(let C in a)if(a.hasOwnProperty(C)){let w=a[C];_.push(C+":"+("string"==typeof w?JSON.stringify(w):he(w)))}m=`{${_.join(", ")}}`}return`${l}${h?"("+h+")":""}[${m}]: ${s.replace(Wd,"\n  ")}`}("\n"+s.message,m,l,h),s.ngTokenPath=m,s[Tu]=null,s}const Va=$s(Oo("Inject",s=>({token:s})),-1),Ws=$s(Oo("Optional"),8),Er=$s(Oo("SkipSelf"),4);let Zs;function fr(s){var a;return(null===(a=function(){if(void 0===Zs&&(Zs=null,sn.trustedTypes))try{Zs=sn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Zs}())||void 0===a?void 0:a.createHTML(s))||s}class Js{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Y_ extends Js{getTypeName(){return"HTML"}}class gg extends Js{getTypeName(){return"Style"}}class dh extends Js{getTypeName(){return"Script"}}class Jd extends Js{getTypeName(){return"URL"}}class fh extends Js{getTypeName(){return"ResourceURL"}}function fs(s){return s instanceof Js?s.changingThisBreaksApplicationSecurity:s}function Xs(s,a){const l=mg(s);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}function mg(s){return s instanceof Js&&s.getTypeName()||null}function yg(s){return new Y_(s)}function Xd(s){return new gg(s)}function ph(s){return new dh(s)}function ps(s){return new Jd(s)}function Kl(s){return new fh(s)}class gh{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(fr(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class _g{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const h=this.inertDocument.createElement("body");l.appendChild(h)}}getInertBodyElement(a){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=fr(a),l;const h=this.inertDocument.createElement("body");return h.innerHTML=fr(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const l=a.attributes;for(let m=l.length-1;0<m;m--){const C=l.item(m).name;("xmlns:ns1"===C||0===C.indexOf("ns1:"))&&a.removeAttribute(C)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const vg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,gs=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fi(s){return(s=String(s)).match(vg)||s.match(gs)?s:"unsafe:"+s}function Li(s){const a={};for(const l of s.split(","))a[l]=!0;return a}function No(...s){const a={};for(const l of s)for(const h in l)l.hasOwnProperty(h)&&(a[h]=!0);return a}const yh=Li("area,br,col,hr,img,wbr"),Ua=Li("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ql=Li("rp,rt"),Mu=No(yh,No(Ua,Li("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),No(Ql,Li("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),No(Ql,Ua)),ea=Li("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ms=Li("srcset"),Zl=No(ea,ms,Li("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Li("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),J_=Li("script,style,template");class _h{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,h=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?h=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,h&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let m=this.checkClobberedElement(l,l.nextSibling);if(m){l=m;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!Mu.hasOwnProperty(l))return this.sanitizedSomething=!0,!J_.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const h=a.attributes;for(let m=0;m<h.length;m++){const _=h.item(m),C=_.name,w=C.toLowerCase();if(!Zl.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let T=_.value;ea[w]&&(T=Fi(T)),ms[w]&&(s=T,T=(s=String(s)).split(",").map(a=>Fi(a.trim())).join(", ")),this.buf.push(" ",C,'="',Dg(T),'"')}var s;return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();Mu.hasOwnProperty(l)&&!yh.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(Dg(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const Eg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wg=/([^\#-~ |!])/g;function Dg(s){return s.replace(/&/g,"&amp;").replace(Eg,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(wg,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kr;function ta(s,a){let l=null;try{Kr=Kr||function(s){const a=new _g(s);return function(){try{return!!(new window.DOMParser).parseFromString(fr(""),"text/html")}catch(s){return!1}}()?new gh(a):a}(s);let h=a?String(a):"";l=Kr.getInertBodyElement(h);let m=5,_=h;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,h=_,_=l.innerHTML,l=Kr.getInertBodyElement(h)}while(h!==_);return fr((new _h).sanitizeChildren(Fo(l)||l))}finally{if(l){const h=Fo(l)||l;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Fo(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var fn=(()=>((fn=fn||{})[fn.NONE=0]="NONE",fn[fn.HTML=1]="HTML",fn[fn.STYLE=2]="STYLE",fn[fn.SCRIPT=3]="SCRIPT",fn[fn.URL=4]="URL",fn[fn.RESOURCE_URL=5]="RESOURCE_URL",fn))();function vh(s){const a=function(){const s=Pe();return s&&s[12]}();return a?a.sanitize(fn.URL,s)||"":Xs(s,"URL")?fs(s):Fi(Ve(s))}const Ha="__ngContext__";function xr(s,a){s[Ha]=a}function bh(s){const a=function(s){return s[Ha]||null}(s);return a?Array.isArray(a)?a:a.lView:null}function za(s){return s.ngOriginalError}function iv(s,...a){s.error(...a)}class Nu{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a),h=this._findContext(a),m=(s=a)&&s.ngErrorLogger||iv;var s;m(this._console,"ERROR",a),l&&m(this._console,"ORIGINAL ERROR",l),h&&m(this._console,"ERROR CONTEXT",h)}_findContext(a){return a?a.ngDebugContext||this._findContext(za(a)):null}_findOriginalError(a){let l=a&&za(a);for(;l&&za(l);)l=za(l);return l||null}}const Rg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(sn))();function Lo(s){return s instanceof Function?s():s}var Vo=(()=>((Vo=Vo||{})[Vo.Important=1]="Important",Vo[Vo.DashCase=2]="DashCase",Vo))();function oa(s,a){return undefined(s,a)}function aa(s){const a=s[3];return oi(a)?a[3]:a}function Dh(s){return lf(s[13])}function Lg(s){return lf(s[4])}function lf(s){for(;null!==s&&!oi(s);)s=s[4];return s}function qa(s,a,l,h,m){if(null!=h){let _,C=!1;oi(h)?_=h:Fn(h)&&(C=!0,h=h[0]);const w=In(h);0===s&&null!==l?null==m?L(a,l,w):O(a,l,w,m||null,!0):1===s&&null!==l?O(a,l,w,m||null,!0):2===s?function(s,a,l){const h=K(s,a);h&&function(s,a,l,h){Ln(s)?s.removeChild(a,l,h):a.removeChild(l)}(s,h,a,l)}(a,w,C):3===s&&a.destroyNode(w),null!=_&&function(s,a,l,h,m){const _=l[7];_!==In(l)&&qa(a,s,h,_,m);for(let w=10;w<l.length;w++){const T=l[w];mo(T[1],T,s,a,h,_)}}(a,s,_,l,m)}}function cf(s,a,l){return Ln(s)?s.createElement(a,l):null===l?s.createElement(a):s.createElementNS(l,a)}function Sh(s,a){const l=s[9],h=l.indexOf(a),m=a[3];1024&a[2]&&(a[2]&=-1025,Fs(m,-1)),l.splice(h,1)}function Ah(s,a){if(s.length<=10)return;const l=10+a,h=s[l];if(h){const m=h[17];null!==m&&m!==s&&Sh(m,h),a>0&&(s[l-1][4]=h[4]);const _=Ra(s,10+a);!function(s,a){mo(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const C=_[19];null!==C&&C.detachView(_[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function f(s,a){if(!(256&a[2])){const l=a[11];Ln(l)&&l.destroyNode&&mo(s,a,l,3,null,null),function(s){let a=s[13];if(!a)return d(s[1],s);for(;a;){let l=null;if(Fn(a))l=a[13];else{const h=a[10];h&&(l=h)}if(!l){for(;a&&!a[4]&&a!==s;)Fn(a)&&d(a[1],a),a=a[3];null===a&&(a=s),Fn(a)&&d(a[1],a),l=a&&a[4]}a=l}}(a)}}function d(s,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(s,a){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let h=0;h<l.length;h+=2){const m=a[l[h]];if(!(m instanceof _u)){const _=l[h+1];if(Array.isArray(_))for(let C=0;C<_.length;C+=2){const w=m[_[C]],T=_[C+1];try{T.call(w)}finally{}}else try{_.call(m)}finally{}}}}(s,a),function(s,a){const l=s.cleanup,h=a[7];let m=-1;if(null!==l)for(let _=0;_<l.length-1;_+=2)if("string"==typeof l[_]){const C=l[_+1],w="function"==typeof C?C(a):In(a[C]),T=h[m=l[_+2]],x=l[_+3];"boolean"==typeof x?w.removeEventListener(l[_],T,x):x>=0?h[m=x]():h[m=-x].unsubscribe(),_+=2}else{const C=h[m=l[_+1]];l[_].call(C)}if(null!==h){for(let _=m+1;_<h.length;_++)h[_]();a[7]=null}}(s,a),1===a[1].type&&Ln(a[11])&&a[11].destroy();const l=a[17];if(null!==l&&oi(a[3])){l!==a[3]&&Sh(l,a);const h=a[19];null!==h&&h.detachView(s)}}}function D(s,a,l){return function(s,a,l){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return l[0];if(2&h.flags){const m=s.data[h.directiveStart].encapsulation;if(m===Xe.None||m===Xe.Emulated)return null}return Qi(h,l)}(s,a.parent,l)}function O(s,a,l,h,m){Ln(s)?s.insertBefore(a,l,h,m):a.insertBefore(l,h,m)}function L(s,a,l){Ln(s)?s.appendChild(a,l):a.appendChild(l)}function B(s,a,l,h,m){null!==h?O(s,a,l,h,m):L(s,a,l)}function K(s,a){return Ln(s)?s.parentNode(a):a.parentNode}function xe(s,a,l){return Ke(s,a,l)}let Ke=function(s,a,l){return 40&s.type?Qi(s,l):null};function kt(s,a,l,h){const m=D(s,h,a),_=a[11],w=xe(h.parent||a[6],h,a);if(null!=m)if(Array.isArray(l))for(let T=0;T<l.length;T++)B(_,m,l[T],w,!1);else B(_,m,l,w,!1)}function Jn(s,a){if(null!==a){const l=a.type;if(3&l)return Qi(a,s);if(4&l)return $a(-1,s[a.index]);if(8&l){const h=a.child;if(null!==h)return Jn(s,h);{const m=s[a.index];return oi(m)?$a(-1,m):In(m)}}if(32&l)return oa(a,s)()||In(s[a.index]);{const h=Xi(s,a);return null!==h?Array.isArray(h)?h[0]:Jn(aa(s[16]),h):Jn(s,a.next)}}return null}function Xi(s,a){return null!==a?s[16][6].projection[a.projection]:null}function $a(s,a){const l=10+s+1;if(l<a.length){const h=a[l],m=h[1].firstChild;if(null!==m)return Jn(h,m)}return a[7]}function Ih(s,a,l,h,m,_,C){for(;null!=l;){const w=h[l.index],T=l.type;if(C&&0===a&&(w&&xr(In(w),h),l.flags|=4),64!=(64&l.flags))if(8&T)Ih(s,a,l.child,h,m,_,!1),qa(a,s,m,w,_);else if(32&T){const x=oa(l,h);let R;for(;R=x();)qa(a,s,m,R,_);qa(a,s,m,w,_)}else 16&T?xE(s,a,h,l,m,_):qa(a,s,m,w,_);l=C?l.projectionNext:l.next}}function mo(s,a,l,h,m,_){Ih(l,h,s.firstChild,a,m,_,!1)}function xE(s,a,l,h,m,_){const C=l[16],T=C[6].projection[h.projection];if(Array.isArray(T))for(let x=0;x<T.length;x++)qa(a,s,m,T[x],_);else Ih(s,a,T,C[3],m,_,!0)}function _v(s,a,l){Ln(s)?s.setAttribute(a,"style",l):a.style.cssText=l}function vv(s,a,l){Ln(s)?""===l?s.removeAttribute(a,"class"):s.setAttribute(a,"class",l):a.className=l}function OE(s,a,l){let h=s.length;for(;;){const m=s.indexOf(a,l);if(-1===m)return m;if(0===m||s.charCodeAt(m-1)<=32){const _=a.length;if(m+_===h||s.charCodeAt(m+_)<=32)return m}l=m+1}}const bv="ng-template";function iI(s,a,l){let h=0;for(;h<s.length;){let m=s[h++];if(l&&"class"===m){if(m=s[h],-1!==OE(m.toLowerCase(),a,0))return!0}else if(1===m){for(;h<s.length&&"string"==typeof(m=s[h++]);)if(m.toLowerCase()===a)return!0;return!1}}return!1}function RE(s){return 4===s.type&&s.value!==bv}function oI(s,a,l){return a===(4!==s.type||l?s.value:bv)}function Cv(s,a,l){let h=4;const m=s.attrs||[],_=function(s){for(let a=0;a<s.length;a++)if(ng(s[a]))return a;return s.length}(m);let C=!1;for(let w=0;w<a.length;w++){const T=a[w];if("number"!=typeof T){if(!C)if(4&h){if(h=2|1&h,""!==T&&!oI(s,T,l)||""===T&&1===a.length){if(ys(h))return!1;C=!0}}else{const x=8&h?T:a[++w];if(8&h&&null!==s.attrs){if(!iI(s.attrs,x,l)){if(ys(h))return!1;C=!0}continue}const V=sI(8&h?"class":T,m,RE(s),l);if(-1===V){if(ys(h))return!1;C=!0;continue}if(""!==x){let U;U=V>_?"":m[V+1].toLowerCase();const Q=8&h?U:null;if(Q&&-1!==OE(Q,x,0)||2&h&&x!==U){if(ys(h))return!1;C=!0}}}}else{if(!C&&!ys(h)&&!ys(T))return!1;if(C&&ys(T))continue;C=!1,h=T|1&h}}return ys(h)||C}function ys(s){return 0==(1&s)}function sI(s,a,l,h){if(null===a)return-1;let m=0;if(h||!l){let _=!1;for(;m<a.length;){const C=a[m];if(C===s)return m;if(3===C||6===C)_=!0;else{if(1===C||2===C){let w=a[++m];for(;"string"==typeof w;)w=a[++m];continue}if(4===C)break;if(0===C){m+=4;continue}}m+=_?1:2}return-1}return function(s,a){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const h=s[l];if("number"==typeof h)return-1;if(h===a)return l;l++}return-1}(a,s)}function Ev(s,a,l=!1){for(let h=0;h<a.length;h++)if(Cv(s,a[h],l))return!0;return!1}function lI(s,a){e:for(let l=0;l<a.length;l++){const h=a[l];if(s.length===h.length){for(let m=0;m<s.length;m++)if(s[m]!==h[m])continue e;return!0}}return!1}function pr(s,a){return s?":not("+a.trim()+")":a}function Vu(s){let a=s[0],l=1,h=2,m="",_=!1;for(;l<s.length;){let C=s[l];if("string"==typeof C)if(2&h){const w=s[++l];m+="["+C+(w.length>0?'="'+w+'"':"")+"]"}else 8&h?m+="."+C:4&h&&(m+=" "+C);else""!==m&&!ys(C)&&(a+=pr(_,m),m=""),h=C,_=_||!ys(h);l++}return""!==m&&(a+=pr(_,m)),a}const st={};function ua(s){hI(Xt(),Pe(),vr()+s,Ta())}function hI(s,a,l,h){if(!h)if(3==(3&a[2])){const _=s.preOrderCheckHooks;null!==_&&Bs(a,_,l)}else{const _=s.preOrderHooks;null!==_&&Ol(a,_,0,l)}ao(l)}function Bg(s,a){return s<<17|a<<2}function la(s){return s>>17&32767}function wv(s){return 2|s}function Wa(s){return(131068&s)>>2}function Dv(s,a){return-131069&s|a<<2}function Tv(s){return 1|s}function kh(s,a){const l=s.contentQueries;if(null!==l)for(let h=0;h<l.length;h+=2){const m=l[h],_=l[h+1];if(-1!==_){const C=s.data[_];Ls(m),C.contentQueries(2,a[_],_)}}}function ff(s,a,l,h,m,_,C,w,T,x){const R=a.blueprint.slice();return R[0]=m,R[2]=140|h,Nd(R),R[3]=R[15]=s,R[8]=l,R[10]=C||s&&s[10],R[11]=w||s&&s[11],R[12]=T||s&&s[12]||null,R[9]=x||s&&s[9]||null,R[6]=_,R[16]=2==a.type?s[16]:R,R}function Ka(s,a,l,h,m){let _=s.data[a];if(null===_)_=function(s,a,l,h,m){const _=Al(),C=Il(),T=s.data[a]=function(s,a,l,h,m,_){return{type:l,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?_:_&&_.parent,l,a,h,m);return null===s.firstChild&&(s.firstChild=T),null!==_&&(C?null==_.child&&null!==T.parent&&(_.child=T):null===_.next&&(_.next=T)),T}(s,a,l,h,m),Ct.lFrame.inI18n&&(_.flags|=64);else if(64&_.type){_.type=l,_.value=h,_.attrs=m;const C=function(){const s=Ct.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();_.injectorIndex=null===C?-1:C.injectorIndex}return si(_,!0),_}function sc(s,a,l,h){if(0===l)return-1;const m=a.length;for(let _=0;_<l;_++)a.push(h),s.blueprint.push(h),s.data.push(null);return m}function pf(s,a,l){Sa(a);try{const h=s.viewQuery;null!==h&&Gv(1,h,l);const m=s.template;null!==m&&Ph(s,a,m,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&kh(s,a),s.staticViewQueries&&Gv(2,s.viewQuery,l);const _=s.components;null!==_&&function(s,a){for(let l=0;l<a.length;l++)WE(s,a[l])}(a,_)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{a[2]&=-5,as()}}function yo(s,a,l,h){const m=a[2];if(256==(256&m))return;Sa(a);const _=Ta();try{Nd(a),function(s){Ct.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Ph(s,a,l,2,h);const C=3==(3&m);if(!_)if(C){const x=s.preOrderCheckHooks;null!==x&&Bs(a,x,null)}else{const x=s.preOrderHooks;null!==x&&Ol(a,x,0,null),Rl(a,0)}if(function(s){for(let a=Dh(s);null!==a;a=Lg(a)){if(!a[2])continue;const l=a[9];for(let h=0;h<l.length;h++){const m=l[h],_=m[3];0==(1024&m[2])&&Fs(_,1),m[2]|=1024}}}(a),function(s){for(let a=Dh(s);null!==a;a=Lg(a))for(let l=10;l<a.length;l++){const h=a[l],m=h[1];$p(h)&&yo(m,h,m.template,h[8])}}(a),null!==s.contentQueries&&kh(s,a),!_)if(C){const x=s.contentCheckHooks;null!==x&&Bs(a,x)}else{const x=s.contentHooks;null!==x&&Ol(a,x,1),Rl(a,1)}!function(s,a){const l=s.hostBindingOpCodes;if(null!==l)try{for(let h=0;h<l.length;h++){const m=l[h];if(m<0)ao(~m);else{const _=m,C=l[++h],w=l[++h];Qp(C,_),w(2,a[_])}}}finally{ao(-1)}}(s,a);const w=s.components;null!==w&&function(s,a){for(let l=0;l<a.length;l++)$g(s,a[l])}(a,w);const T=s.viewQuery;if(null!==T&&Gv(2,T,h),!_)if(C){const x=s.viewCheckHooks;null!==x&&Bs(a,x)}else{const x=s.viewHooks;null!==x&&Ol(a,x,2),Rl(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),_||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Fs(a[3],-1))}finally{as()}}function IP(s,a,l,h){const m=a[10],_=!Ta(),C=qp(a);try{_&&!C&&m.begin&&m.begin(),C&&pf(s,a,h),yo(s,a,l,h)}finally{_&&!C&&m.end&&m.end()}}function Ph(s,a,l,h,m){const _=vr(),C=2&h;try{ao(-1),C&&a.length>20&&hI(s,a,20,Ta()),l(h,m)}finally{ao(_)}}function jE(s,a,l){if(rs(a)){const m=a.directiveEnd;for(let _=a.directiveStart;_<m;_++){const C=s.data[_];C.contentQueries&&C.contentQueries(1,l[_],_)}}}function Rv(s,a,l){!R_()||(function(s,a,l,h){const m=l.directiveStart,_=l.directiveEnd;s.firstCreatePass||vu(l,a),xr(h,a);const C=l.initialInputs;for(let w=m;w<_;w++){const T=s.data[w],x=Yi(T);x&&Vv(a,l,T);const R=Hn(a,s,w,l);xr(R,a),null!==C&&Uv(0,w-m,R,T,0,C),x&&(yi(l.index,a)[8]=R)}}(s,a,l,Qi(l,a)),128==(128&l.flags)&&function(s,a,l){const h=l.directiveStart,m=l.directiveEnd,C=l.index,w=Ct.lFrame.currentDirectiveIndex;try{ao(C);for(let T=h;T<m;T++){const x=s.data[T],R=a[T];_i(T),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&DI(x,R)}}finally{ao(-1),_i(w)}}(s,a,l))}function kv(s,a,l=Qi){const h=a.localNames;if(null!==h){let m=a.index+1;for(let _=0;_<h.length;_+=2){const C=h[_+1],w=-1===C?l(a,s):s[C];s[m++]=w}}}function mI(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Gg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Gg(s,a,l,h,m,_,C,w,T,x){const R=20+h,V=R+m,U=function(s,a){const l=[];for(let h=0;h<a;h++)l.push(h<s?null:st);return l}(R,V),Q="function"==typeof x?x():x;return U[1]={type:s,blueprint:U,template:l,queries:null,viewQuery:w,declTNode:a,data:U.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:T,consts:Q,incompleteFirstPass:!1}}function HE(s,a,l,h){const m=KE(a);null===l?m.push(h):(m.push(l),s.firstCreatePass&&OI(s).push(h,m.length-1))}function Nv(s,a,l){for(let h in s)if(s.hasOwnProperty(h)){const m=s[h];(l=null===l?{}:l).hasOwnProperty(h)?l[h].push(a,m):l[h]=[a,m]}return l}function Uo(s,a,l,h,m,_,C,w){const T=Qi(a,l);let R,x=a.inputs;!w&&null!=x&&(R=x[h])?(QE(s,l,R,h,m),_r(a)&&function(s,a){const l=yi(a,s);16&l[2]||(l[2]|=64)}(l,a.index)):3&a.type&&(h=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),m=null!=C?C(m,a.value||"",h):m,Ln(_)?_.setProperty(T,h,m):uo(h)||(T.setProperty?T.setProperty(h,m):T[h]=m))}function Fv(s,a,l,h){let m=!1;if(R_()){const _=function(s,a,l){const h=s.directiveRegistry;let m=null;if(h)for(let _=0;_<h.length;_++){const C=h[_];Ev(l,C.selectors,!1)&&(m||(m=[]),Vt(vu(l,a),s,C.type),Yi(C)?(TI(s,l),m.unshift(C)):m.push(C))}return m}(s,a,l),C=null===h?null:{"":-1};if(null!==_){m=!0,SI(l,s.data.length,_.length);for(let R=0;R<_.length;R++){const V=_[R];V.providersResolver&&V.providersResolver(V)}let w=!1,T=!1,x=sc(s,a,_.length,null);for(let R=0;R<_.length;R++){const V=_[R];l.mergedAttrs=Pl(l.mergedAttrs,V.hostAttrs),qg(s,l,a,x,V),NP(x,V,C),null!==V.contentQueries&&(l.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(l.flags|=128);const U=V.type.prototype;!w&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),w=!0),!T&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),T=!0),x++}!function(s,a){const h=a.directiveEnd,m=s.data,_=a.attrs,C=[];let w=null,T=null;for(let x=a.directiveStart;x<h;x++){const R=m[x],V=R.inputs,U=null===_||RE(a)?null:FP(V,_);C.push(U),w=Nv(V,x,w),T=Nv(R.outputs,x,T)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=C,a.inputs=w,a.outputs=T}(s,l)}C&&function(s,a,l){if(a){const h=s.localNames=[];for(let m=0;m<a.length;m+=2){const _=l[a[m+1]];if(null==_)throw new Ie("301",`Export of name '${a[m+1]}' not found!`);h.push(a[m],_)}}}(l,h,C)}return l.mergedAttrs=Pl(l.mergedAttrs,l.attrs),m}function Lv(s,a,l,h,m,_){const C=_.hostBindings;if(C){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const T=~a.index;(function(s){let a=s.length;for(;a>0;){const l=s[--a];if("number"==typeof l&&l<0)return l}return 0})(w)!=T&&w.push(T),w.push(h,m,C)}}function DI(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function TI(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function NP(s,a,l){if(l){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)l[a.exportAs[h]]=s;Yi(a)&&(l[""]=s)}}function SI(s,a,l){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+l,s.providerIndexes=a}function qg(s,a,l,h,m){s.data[h]=m;const _=m.factory||(m.factory=is(m.type)),C=new _u(_,Yi(m),null);s.blueprint[h]=C,l[h]=C,Lv(s,a,0,h,sc(s,l,m.hostVars,st),m)}function Vv(s,a,l){const h=Qi(a,s),m=mI(l),_=s[10],C=Hu(s,ff(s,m,null,l.onPush?64:16,h,a,_,_.createRenderer(h,l),null,null));s[a.index]=C}function _o(s,a,l,h,m,_){const C=Qi(s,a);!function(s,a,l,h,m,_,C){if(null==_)Ln(s)?s.removeAttribute(a,m,l):a.removeAttribute(m);else{const w=null==C?Ve(_):C(_,h||"",m);Ln(s)?s.setAttribute(a,m,w,l):l?a.setAttributeNS(l,m,w):a.setAttribute(m,w)}}(a[11],C,_,s.value,l,h,m)}function Uv(s,a,l,h,m,_){const C=_[a];if(null!==C){const w=h.setInput;for(let T=0;T<C.length;){const x=C[T++],R=C[T++],V=C[T++];null!==w?h.setInput(l,V,x,R):l[R]=V}}}function FP(s,a){let l=null,h=0;for(;h<a.length;){const m=a[h];if(0!==m)if(5!==m){if("number"==typeof m)break;s.hasOwnProperty(m)&&(null===l&&(l=[]),l.push(m,s[m],a[h+1])),h+=2}else h+=2;else h+=4}return l}function AI(s,a,l,h){return new Array(s,!0,!1,a,null,0,h,l,null,null)}function $g(s,a){const l=yi(a,s);if($p(l)){const h=l[1];80&l[2]?yo(h,l,h.template,l[8]):l[5]>0&&$E(l)}}function $E(s){for(let h=Dh(s);null!==h;h=Lg(h))for(let m=10;m<h.length;m++){const _=h[m];if(1024&_[2]){const C=_[1];yo(C,_,C.template,_[8])}else _[5]>0&&$E(_)}const l=s[1].components;if(null!==l)for(let h=0;h<l.length;h++){const m=yi(l[h],s);$p(m)&&m[5]>0&&$E(m)}}function WE(s,a){const l=yi(a,s),h=l[1];(function(s,a){for(let l=a.length;l<s.blueprint.length;l++)a.push(s.blueprint[l])})(h,l),pf(h,l,l[8])}function Hu(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function jv(s){for(;s;){s[2]|=64;const a=aa(s);if(N(s)&&!a)return s;s=a}return null}function YE(s,a,l){const h=a[10];h.begin&&h.begin();try{yo(s,a,s.template,l)}catch(m){throw zv(a,m),m}finally{h.end&&h.end()}}function MI(s){!function(s){for(let a=0;a<s.components.length;a++){const l=s.components[a],h=bh(l),m=h[1];IP(m,h,m.template,l)}}(s[8])}function Gv(s,a,l){Ls(0),a(s,l)}const xI=(()=>Promise.resolve(null))();function KE(s){return s[7]||(s[7]=[])}function OI(s){return s.cleanup||(s.cleanup=[])}function RI(s,a,l){return(null===s||Yi(s))&&(l=function(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[a.index])),l[11]}function zv(s,a){const l=s[9],h=l?l.get(Nu,null):null;h&&h.handleError(a)}function QE(s,a,l,h,m){for(let _=0;_<l.length;){const C=l[_++],w=l[_++],T=a[C],x=s.data[C];null!==x.setInput?x.setInput(T,m,h,w):T[w]=m}}function Gu(s,a,l){const h=mu(a,s);!function(s,a,l){Ln(s)?s.setValue(a,l):a.textContent=l}(s[11],h,l)}function qv(s,a,l){let h=l?s.styles:null,m=l?s.classes:null,_=0;if(null!==a)for(let C=0;C<a.length;C++){const w=a[C];"number"==typeof w?_=w:1==_?m=re(m,w):2==_&&(h=re(h,w+": "+a[++C]+";"))}l?s.styles=h:s.stylesWithoutHost=h,l?s.classes=m:s.classesWithoutHost=m}const gf=new Zn("INJECTOR",-1);class kI{get(a,l=Hl){if(l===Hl){const h=new Error(`NullInjectorError: No provider for ${he(a)}!`);throw h.name="NullInjectorError",h}return l}}const Wg=new Zn("Set Injector scope."),Yg={},qP={};let ZE;function PI(){return void 0===ZE&&(ZE=new kI),ZE}function NI(s,a=null,l=null,h){return new WP(s,l,a||PI(),h)}class WP{constructor(a,l,h,m=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];l&&Ur(l,w=>this.processProvider(w,a,l)),Ur([a],w=>this.processInjectorType(w,[],_)),this.records.set(gf,mf(void 0,this));const C=this.records.get(Wg);this.scope=null!=C?C.value:null,this.source=m||("object"==typeof a?null:he(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,l=Hl,h=qe.Default){this.assertNotDestroyed();const m=Rt(this),_=Pn(void 0);try{if(!(h&qe.SkipSelf)){let w=this.records.get(a);if(void 0===w){const T=("function"==typeof(s=a)||"object"==typeof s&&s instanceof Zn)&&On(a);w=T&&this.injectableDefInScope(T)?mf(JE(a),Yg):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(h&qe.Self?PI():this.parent).get(a,l=h&qe.Optional&&l===Hl?null:l)}catch(C){if("NullInjectorError"===C.name){if((C[Tu]=C[Tu]||[]).unshift(he(a)),m)throw C;return ho(C,a,"R3InjectorError",this.source)}throw C}finally{Pn(_),Rt(m)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((h,m)=>a.push(he(m))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,l,h){if(!(a=G(a)))return!1;let m=Wi(a);const _=null==m&&a.ngModule||void 0,C=void 0===_?a:_,w=-1!==h.indexOf(C);if(void 0!==_&&(m=Wi(_)),null==m)return!1;if(null!=m.imports&&!w){let R;h.push(C);try{Ur(m.imports,V=>{this.processInjectorType(V,l,h)&&(void 0===R&&(R=[]),R.push(V))})}finally{}if(void 0!==R)for(let V=0;V<R.length;V++){const{ngModule:U,providers:Q}=R[V];Ur(Q,oe=>this.processProvider(oe,U,Q||ge))}}this.injectorDefTypes.add(C);const T=is(C)||(()=>new C);this.records.set(C,mf(T,Yg));const x=m.providers;if(null!=x&&!w){const R=a;Ur(x,V=>this.processProvider(V,R,x))}return void 0!==_&&void 0!==a.providers}processProvider(a,l,h){let m=yf(a=G(a))?a:G(a&&a.provide);const _=LI(s=a)?mf(void 0,s.useValue):mf(FI(s),Yg);var s;if(yf(a)||!0!==a.multi)this.records.get(m);else{let C=this.records.get(m);C||(C=mf(void 0,Yg,!0),C.factory=()=>Fa(C.multi),this.records.set(m,C)),m=a,C.multi.push(a)}this.records.set(m,_)}hydrate(a,l){return l.value===Yg&&(l.value=qP,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(s=l.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var s}injectableDefInScope(a){if(!a.providedIn)return!1;const l=G(a.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function JE(s){const a=On(s),l=null!==a?a.factory:is(s);if(null!==l)return l;if(s instanceof Zn)throw new Error(`Token ${he(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const a=s.length;if(a>0){const h=zs(a,"?");throw new Error(`Can't resolve all parameters for ${he(s)}: (${h.join(", ")}).`)}const l=function(s){const a=s&&(s[jt]||s[Wn]);if(a){const l=function(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Error("unreachable")}function FI(s,a,l){let h;if(yf(s)){const m=G(s);return is(m)||JE(m)}if(LI(s))h=()=>G(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...Fa(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))h=()=>ln(G(s.useExisting));else{const m=G(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return is(m)||JE(m);h=()=>new m(...Fa(s.deps))}return h}function mf(s,a,l=!1){return{factory:s,value:a,multi:l?[]:void 0}}function LI(s){return null!==s&&"object"==typeof s&&Gl in s}function yf(s){return"function"==typeof s}const VI=function(s,a,l){return function(s,a=null,l=null,h){const m=NI(s,a,l,h);return m._resolveInjectorDefTypes(),m}({name:l},a,s,l)};class kn{static create(a,l){return Array.isArray(a)?VI(a,l,""):VI(a.providers,a.parent,a.name||"")}}function f1(s,a){Vs(bh(s)[1],qn())}function iw(s){let a=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const h=[s];for(;a;){let m;if(Yi(s))m=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");m=a.\u0275dir}if(m){if(l){h.push(m);const C=s;C.inputs=ow(s.inputs),C.declaredInputs=ow(s.declaredInputs),C.outputs=ow(s.outputs);const w=m.hostBindings;w&&y1(s,w);const T=m.viewQuery,x=m.contentQueries;if(T&&g1(s,T),x&&m1(s,x),pe(s.inputs,m.inputs),pe(s.declaredInputs,m.declaredInputs),pe(s.outputs,m.outputs),Yi(m)&&m.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(m.data.animation)}}const _=m.features;if(_)for(let C=0;C<_.length;C++){const w=_[C];w&&w.ngInherit&&w(s),w===iw&&(l=!1)}}a=Object.getPrototypeOf(a)}!function(s){let a=0,l=null;for(let h=s.length-1;h>=0;h--){const m=s[h];m.hostVars=a+=m.hostVars,m.hostAttrs=Pl(m.hostAttrs,l=Pl(l,m.hostAttrs))}}(h)}function ow(s){return s===le?{}:s===ge?[]:s}function g1(s,a){const l=s.viewQuery;s.viewQuery=l?(h,m)=>{a(h,m),l(h,m)}:a}function m1(s,a){const l=s.contentQueries;s.contentQueries=l?(h,m,_)=>{a(h,m,_),l(h,m,_)}:a}function y1(s,a){const l=s.hostBindings;s.hostBindings=l?(h,m)=>{a(h,m),l(h,m)}:a}kn.THROW_IF_NOT_FOUND=Hl,kn.NULL=new kI,kn.\u0275prov=Jt({token:kn,providedIn:"any",factory:()=>ln(gf)}),kn.__NG_ELEMENT_ID__=-1;let $v=null;function _f(){if(!$v){const s=sn.Symbol;if(s&&s.iterator)$v=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const h=a[l];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&($v=h)}}}return $v}class da{constructor(a){this.wrapped=a}static wrap(a){return new da(a)}static unwrap(a){return da.isWrapped(a)?a.wrapped:a}static isWrapped(a){return a instanceof da}}function Qg(s){return!!sw(s)&&(Array.isArray(s)||!(s instanceof Map)&&_f()in s)}function sw(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Qa(s,a,l){return s[a]=l}function Bi(s,a,l){return!Object.is(s[a],l)&&(s[a]=l,!0)}function Fh(s,a,l,h){const m=Bi(s,a,l);return Bi(s,a+1,h)||m}function aw(s,a,l,h){const m=Pe();return Bi(m,xo(),a)&&(Xt(),_o(Qn(),m,s,a,l,h)),aw}function oM(s,a,l,h,m,_,C,w){const T=Pe(),x=Xt(),R=s+20,V=x.firstCreatePass?function(s,a,l,h,m,_,C,w,T){const x=a.consts,R=Ka(a,s,4,C||null,Ns(x,w));Fv(a,l,R,Ns(x,T)),Vs(a,R);const V=R.tViews=Gg(2,R,h,m,_,a.directiveRegistry,a.pipeRegistry,null,a.schemas,x);return null!==a.queries&&(a.queries.template(a,R),V.queries=a.queries.embeddedTView(R)),R}(R,x,T,a,l,h,m,_,C):x.data[R];si(V,!1);const U=T[11].createComment("");kt(x,T,U,V),xr(U,T),Hu(T,T[R]=AI(U,T,U,V)),du(V)&&Rv(x,T,V),null!=C&&kv(T,V,w)}function Qv(s){return Ps(Ct.lFrame.contextLView,20+s)}function rm(s,a=qe.Default){const l=Pe();return null===l?ln(s,a):Ll(qn(),l,G(s),a)}function Sw(s,a,l){const h=Pe();return Bi(h,xo(),a)&&Uo(Xt(),Qn(),h,s,a,h[11],l,!1),Sw}function im(s,a,l,h,m){const C=m?"class":"style";QE(s,l,a.inputs[C],C,h)}function Xv(s,a,l,h){const m=Pe(),_=Xt(),C=20+s,w=m[11],T=m[C]=cf(w,a,Ct.lFrame.currentNamespace),x=_.firstCreatePass?function(s,a,l,h,m,_,C){const w=a.consts,x=Ka(a,s,2,m,Ns(w,_));return Fv(a,l,x,Ns(w,C)),null!==x.attrs&&qv(x,x.attrs,!1),null!==x.mergedAttrs&&qv(x,x.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,x),x}(C,_,m,0,a,l,h):_.data[C];si(x,!0);const R=x.mergedAttrs;null!==R&&Bd(w,T,R);const V=x.classes;null!==V&&vv(w,T,V);const U=x.styles;null!==U&&_v(w,T,U),64!=(64&x.flags)&&kt(_,m,T,x),0===Ct.lFrame.elementDepthCount&&xr(T,m),Ct.lFrame.elementDepthCount++,du(x)&&(Rv(_,m,x),jE(_,x,m)),null!==h&&kv(m,x)}function eb(){let s=qn();Il()?Ml():(s=s.parent,si(s,!1));const a=s;Ct.lFrame.elementDepthCount--;const l=Xt();l.firstCreatePass&&(Vs(l,s),rs(s)&&l.queries.elementEnd(s)),null!=a.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(a)&&im(l,a,Pe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(a)&&im(l,a,Pe(),a.stylesWithoutHost,!1)}function Aw(s,a,l,h){Xv(s,a,l,h),eb()}function tb(s,a,l){const h=Pe(),m=Xt(),_=s+20,C=m.firstCreatePass?function(s,a,l,h,m){const _=a.consts,C=Ns(_,h),w=Ka(a,s,8,"ng-container",C);return null!==C&&qv(w,C,!0),Fv(a,l,w,Ns(_,m)),null!==a.queries&&a.queries.elementStart(a,w),w}(_,m,h,a,l):m.data[_];si(C,!0);const w=h[_]=h[11].createComment("");kt(m,h,w,C),xr(w,h),du(C)&&(Rv(m,h,C),jE(m,C,h)),null!=l&&kv(h,C)}function om(){let s=qn();const a=Xt();Il()?Ml():(s=s.parent,si(s,!1)),a.firstCreatePass&&(Vs(a,s),rs(s)&&a.queries.elementEnd(s))}function Mw(){return Pe()}function nb(s){return!!s&&"function"==typeof s.then}function xw(s){return!!s&&"function"==typeof s.subscribe}const rb=xw;function sm(s,a,l,h){const m=Pe(),_=Xt(),C=qn();return _M(_,m,m[11],C,s,a,!!l,h),sm}function Ow(s,a){const l=qn(),h=Pe(),m=Xt();return _M(m,h,RI(xl(m.data),l,h),l,s,a,!1),Ow}function _M(s,a,l,h,m,_,C,w){const T=du(h),R=s.firstCreatePass&&OI(s),V=a[8],U=KE(a);let Q=!0;if(3&h.type||w){const de=Qi(h,a),Be=w?w(de):de,Oe=U.length,ht=w?Dt=>w(In(Dt[h.index])):h.index;if(Ln(l)){let Dt=null;if(!w&&T&&(Dt=function(s,a,l,h){const m=s.cleanup;if(null!=m)for(let _=0;_<m.length-1;_+=2){const C=m[_];if(C===l&&m[_+1]===h){const w=a[7],T=m[_+2];return w.length>T?w[T]:null}"string"==typeof C&&(_+=2)}return null}(s,a,m,h.index)),null!==Dt)(Dt.__ngLastListenerFn__||Dt).__ngNextListenerFn__=_,Dt.__ngLastListenerFn__=_,Q=!1;else{_=ib(h,a,V,_,!1);const en=l.listen(Be,m,_);U.push(_,en),R&&R.push(m,ht,Oe,Oe+1)}}else _=ib(h,a,V,_,!0),Be.addEventListener(m,_,C),U.push(_),R&&R.push(m,ht,Oe,C)}else _=ib(h,a,V,_,!1);const oe=h.outputs;let Te;if(Q&&null!==oe&&(Te=oe[m])){const de=Te.length;if(de)for(let Be=0;Be<de;Be+=2){const Rr=a[Te[Be]][Te[Be+1]].subscribe(_),Yo=U.length;U.push(_,Rr),R&&R.push(m,h.index,Yo,-(Yo+1))}}}function Rw(s,a,l,h){try{return!1!==l(h)}catch(m){return zv(s,m),!1}}function ib(s,a,l,h,m){return function _(C){if(C===Function)return h;const w=2&s.flags?yi(s.index,a):a;0==(32&a[2])&&jv(w);let T=Rw(a,0,h,C),x=_.__ngNextListenerFn__;for(;x;)T=Rw(a,0,x,C)&&T,x=x.__ngNextListenerFn__;return m&&!1===T&&(C.preventDefault(),C.returnValue=!1),T}}function kw(s=1){return function(s){return(Ct.lFrame.contextLView=function(s,a){for(;s>0;)a=a[15],s--;return a}(s,Ct.lFrame.contextLView))[8]}(s)}function vM(s,a){let l=null;const h=function(s){const a=s.attrs;if(null!=a){const l=a.indexOf(5);if(0==(1&l))return a[l+1]}return null}(s);for(let m=0;m<a.length;m++){const _=a[m];if("*"!==_){if(null===h?Ev(s,_,!0):lI(h,_))return m}else l=m}return l}function bM(s){const a=Pe()[16][6];if(!a.projection){const h=a.projection=zs(s?s.length:1,null),m=h.slice();let _=a.child;for(;null!==_;){const C=s?vM(_,s):0;null!==C&&(m[C]?m[C].projectionNext=_:h[C]=_,m[C]=_),_=_.next}}}function CM(s,a=0,l){const h=Pe(),m=Xt(),_=Ka(m,20+s,16,null,l||null);null===_.projection&&(_.projection=a),Ml(),64!=(64&_.flags)&&function(s,a,l){xE(a[11],0,a,l,D(s,l,a),xe(l.parent||a[6],l,a))}(m,h,_)}function cb(s,a,l,h,m){const _=s[l+1],C=null===a;let w=h?la(_):Wa(_),T=!1;for(;0!==w&&(!1===T||C);){const R=s[w+1];um(s[w],a)&&(T=!0,s[w+1]=h?Tv(R):wv(R)),w=h?la(R):Wa(R)}T&&(s[l+1]=h?wv(_):Tv(_))}function um(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&ka(s,a)>=0}function fa(s,a,l){return pa(s,a,l,!1),fa}function Tf(s,a){return pa(s,a,null,!0),Tf}function pa(s,a,l,h){const m=Pe(),_=Xt(),C=Zi(2);_.firstUpdatePass&&function(s,a,l,h){const m=s.data;if(null===m[l+1]){const _=m[vr()],C=function(s,a){return a>=s.expandoStartIndex}(s,l);(function(s,a){return 0!=(s.flags&(a?16:32))})(_,h)&&null===a&&!C&&(a=!1),a=function(s,a,l,h){const m=xl(s);let _=h?a.residualClasses:a.residualStyles;if(null===m)0===(h?a.classBindings:a.styleBindings)&&(l=jo(l=Sf(null,s,a,l,h),a.attrs,h),_=null);else{const C=a.directiveStylingLast;if(-1===C||s[C]!==m)if(l=Sf(m,s,a,l,h),null===_){let T=function(s,a,l){const h=l?a.classBindings:a.styleBindings;if(0!==Wa(h))return s[la(h)]}(s,a,h);void 0!==T&&Array.isArray(T)&&(T=Sf(null,s,a,T[1],h),T=jo(T,a.attrs,h),function(s,a,l,h){s[la(l?a.classBindings:a.styleBindings)]=h}(s,a,h,T))}else _=function(s,a,l){let h;const m=a.directiveEnd;for(let _=1+a.directiveStylingLast;_<m;_++)h=jo(h,s[_].hostAttrs,l);return jo(h,a.attrs,l)}(s,a,h)}return void 0!==_&&(h?a.residualClasses=_:a.residualStyles=_),l}(m,_,a,h),function(s,a,l,h,m,_){let C=_?a.classBindings:a.styleBindings,w=la(C),T=Wa(C);s[h]=l;let R,x=!1;if(Array.isArray(l)){const V=l;R=V[1],(null===R||ka(V,R)>0)&&(x=!0)}else R=l;if(m)if(0!==T){const U=la(s[w+1]);s[h+1]=Bg(U,w),0!==U&&(s[U+1]=Dv(s[U+1],h)),s[w+1]=function(s,a){return 131071&s|a<<17}(s[w+1],h)}else s[h+1]=Bg(w,0),0!==w&&(s[w+1]=Dv(s[w+1],h)),w=h;else s[h+1]=Bg(T,0),0===w?w=h:s[T+1]=Dv(s[T+1],h),T=h;x&&(s[h+1]=wv(s[h+1])),cb(s,R,h,!0),cb(s,R,h,!1),function(s,a,l,h,m){const _=m?s.residualClasses:s.residualStyles;null!=_&&"string"==typeof a&&ka(_,a)>=0&&(l[h+1]=Tv(l[h+1]))}(a,R,s,h,_),C=Bg(w,T),_?a.classBindings=C:a.styleBindings=C}(m,_,a,l,C,h)}}(_,s,C,h),a!==st&&Bi(m,C,a)&&function(s,a,l,h,m,_,C,w){if(!(3&a.type))return;const T=s.data,x=T[w+1];Af(function(s){return 1==(1&s)}(x)?eo(T,a,l,m,Wa(x),C):void 0)||(Af(_)||function(s){return 2==(2&s)}(x)&&(_=eo(T,null,l,m,w,C)),function(s,a,l,h,m){const _=Ln(s);if(a)m?_?s.addClass(l,h):l.classList.add(h):_?s.removeClass(l,h):l.classList.remove(h);else{let C=-1===h.indexOf("-")?void 0:Vo.DashCase;if(null==m)_?s.removeStyle(l,h,C):l.style.removeProperty(h);else{const w="string"==typeof m&&m.endsWith("!important");w&&(m=m.slice(0,-10),C|=Vo.Important),_?s.setStyle(l,h,m,C):l.style.setProperty(h,m,w?"important":"")}}}(h,C,mu(vr(),l),m,_))}(_,_.data[vr()],m,m[11],s,m[C+1]=function(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=he(fs(s)))),s}(a,l),h,C)}function Sf(s,a,l,h,m){let _=null;const C=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<C&&(_=a[w],h=jo(h,_.hostAttrs,m),_!==s);)w++;return null!==s&&(l.directiveStylingLast=w),h}function jo(s,a,l){const h=l?1:2;let m=-1;if(null!==a)for(let _=0;_<a.length;_++){const C=a[_];"number"==typeof C?m=C:m===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Cr(s,C,!!l||a[++_]))}return void 0===s?null:s}function eo(s,a,l,h,m,_){const C=null===a;let w;for(;m>0;){const T=s[m],x=Array.isArray(T),R=x?T[1]:T,V=null===R;let U=l[m+1];U===st&&(U=V?ge:void 0);let Q=V?$n(U,h):R===h?U:void 0;if(x&&!Af(Q)&&(Q=$n(T,h)),Af(Q)&&(w=Q,C))return w;const oe=s[m+1];m=C?la(oe):Wa(oe)}if(null!==a){let T=_?a.residualClasses:a.residualStyles;null!=T&&(w=$n(T,h))}return w}function Af(s){return void 0!==s}function dm(s,a=""){const l=Pe(),h=Xt(),m=s+20,_=h.firstCreatePass?Ka(h,m,1,a,null):h.data[m],C=l[m]=function(s,a){return Ln(s)?s.createText(a):s.createTextNode(a)}(l[11],a);kt(h,l,C,_),si(_,!1)}function Hw(s){return If("",s,""),Hw}function If(s,a,l){const h=Pe(),m=function(s,a,l,h){return Bi(s,xo(),l)?a+Ve(l)+h:st}(h,s,a,l);return m!==st&&Gu(h,vr(),m),If}function Gw(s,a,l,h,m){const _=Pe(),C=function(s,a,l,h,m,_){const w=Fh(s,Oi(),l,m);return Zi(2),w?a+Ve(l)+h+Ve(m)+_:st}(_,s,a,l,h,m);return C!==st&&Gu(_,vr(),C),Gw}function fc(s,a,l){const h=Pe();return Bi(h,xo(),a)&&Uo(Xt(),Qn(),h,s,a,h[11],l,!0),fc}function Mb(s,a,l){const h=Pe();if(Bi(h,xo(),a)){const _=Xt(),C=Qn();Uo(_,C,h,s,a,RI(xl(_.data),C,h),l,!0)}return Mb}const tu=void 0;var vm=["en",[["a","p"],["AM","PM"],tu],[["AM","PM"],tu,tu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tu,"{1} 'at' {0}",tu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let nu={};function xf(s){const a=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=Ob(a);if(l)return l;const h=a.split("-")[0];if(l=Ob(h),l)return l;if("en"===h)return vm;throw new Error(`Missing locale data for the locale "${s}".`)}function xb(s){return xf(s)[_t.PluralCase]}function Ob(s){return s in nu||(nu[s]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[s]),nu[s]}var _t=(()=>((_t=_t||{})[_t.LocaleId=0]="LocaleId",_t[_t.DayPeriodsFormat=1]="DayPeriodsFormat",_t[_t.DayPeriodsStandalone=2]="DayPeriodsStandalone",_t[_t.DaysFormat=3]="DaysFormat",_t[_t.DaysStandalone=4]="DaysStandalone",_t[_t.MonthsFormat=5]="MonthsFormat",_t[_t.MonthsStandalone=6]="MonthsStandalone",_t[_t.Eras=7]="Eras",_t[_t.FirstDayOfWeek=8]="FirstDayOfWeek",_t[_t.WeekendRange=9]="WeekendRange",_t[_t.DateFormat=10]="DateFormat",_t[_t.TimeFormat=11]="TimeFormat",_t[_t.DateTimeFormat=12]="DateTimeFormat",_t[_t.NumberSymbols=13]="NumberSymbols",_t[_t.NumberFormats=14]="NumberFormats",_t[_t.CurrencyCode=15]="CurrencyCode",_t[_t.CurrencySymbol=16]="CurrencySymbol",_t[_t.CurrencyName=17]="CurrencyName",_t[_t.Currencies=18]="Currencies",_t[_t.Directionality=19]="Directionality",_t[_t.PluralCase=20]="PluralCase",_t[_t.ExtraData=21]="ExtraData",_t))();const Cm="en-US";let wm=Cm;function Dm(s){ct(s,"Expected localeId to be defined"),"string"==typeof s&&(wm=s.toLowerCase().replace(/_/g,"-"))}function Nm(s,a,l,h,m){if(s=G(s),Array.isArray(s))for(let _=0;_<s.length;_++)Nm(s[_],a,l,h,m);else{const _=Xt(),C=Pe();let w=yf(s)?s:G(s.provide),T=FI(s);const x=qn(),R=1048575&x.providerIndexes,V=x.directiveStart,U=x.providerIndexes>>20;if(yf(s)||!s.multi){const Q=new _u(T,m,rm),oe=Fm(w,a,m?R:R+U,V);-1===oe?(Vt(vu(x,C),_,w),qb(_,s,a.length),a.push(w),x.directiveStart++,x.directiveEnd++,m&&(x.providerIndexes+=1048576),l.push(Q),C.push(Q)):(l[oe]=Q,C[oe]=Q)}else{const Q=Fm(w,a,R+U,V),oe=Fm(w,a,R,R+U),Te=Q>=0&&l[Q],de=oe>=0&&l[oe];if(m&&!de||!m&&!Te){Vt(vu(x,C),_,w);const Be=function(s,a,l,h,m){const _=new _u(s,l,rm);return _.multi=[],_.index=a,_.componentProviders=0,mD(_,m,h&&!l),_}(m?ax:sx,l.length,m,h,T);!m&&de&&(l[oe].providerFactory=Be),qb(_,s,a.length,0),a.push(w),x.directiveStart++,x.directiveEnd++,m&&(x.providerIndexes+=1048576),l.push(Be),C.push(Be)}else qb(_,s,Q>-1?Q:oe,mD(l[m?oe:Q],T,!m&&h));!m&&h&&de&&l[oe].componentProviders++}}}function qb(s,a,l,h){const m=yf(a);if(m||function(s){return!!s.useClass}(a)){const C=(a.useClass||a).prototype.ngOnDestroy;if(C){const w=s.destroyHooks||(s.destroyHooks=[]);if(!m&&a.multi){const T=w.indexOf(l);-1===T?w.push(l,[h,C]):w[T+1].push(h,C)}else w.push(l,C)}}}function mD(s,a,l){return l&&s.componentProviders++,s.multi.push(a)-1}function Fm(s,a,l,h){for(let m=l;m<h;m++)if(a[m]===s)return m;return-1}function sx(s,a,l,h){return Lm(this.multi,[])}function ax(s,a,l,h){const m=this.multi;let _;if(this.providerFactory){const C=this.providerFactory.componentProviders,w=Hn(l,l[1],this.providerFactory.index,h);_=w.slice(0,C),Lm(m,_);for(let T=C;T<w.length;T++)_.push(w[T])}else _=[],Lm(m,_);return _}function Lm(s,a){for(let l=0;l<s.length;l++)a.push((0,s[l])());return a}function Wb(s,a=[]){return l=>{l.providersResolver=(h,m)=>function(s,a,l){const h=Xt();if(h.firstCreatePass){const m=Yi(s);Nm(l,h.data,h.blueprint,m,!0),Nm(a,h.data,h.blueprint,m,!1)}}(h,m?m(s):s,a)}}class Bm{}const _D="ngComponent";class vD{resolveComponentFactory(a){throw function(s){const a=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return a[_D]=s,a}(a)}}class yc{}function Nf(...s){}function Yh(s,a){return new bs(Qi(s,a))}yc.NULL=new vD;const eN=function(){return Yh(qn(),Pe())};let bs=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=eN,s})();function bD(s){return s instanceof bs?s.nativeElement:s}class Ff{}let hx=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>CD(),s})();const CD=function(){const s=Pe(),l=yi(qn().index,s);return function(s){return s[11]}(Fn(l)?l:s)};let Yb=(()=>{class s{}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:()=>null}),s})();class Kb{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Qb=new Kb("12.2.0");class wD{constructor(){}supports(a){return Qg(a)}create(a){return new px(a)}}const fx=(s,a)=>a;class px{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||fx}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,h=this._removalsHead,m=0,_=null;for(;l||h;){const C=!h||l&&l.currentIndex<Zb(h,m,_)?l:h,w=Zb(C,m,_),T=C.currentIndex;if(C===h)m--,h=h._nextRemoved;else if(l=l._next,null==C.previousIndex)m++;else{_||(_=[]);const x=w-m,R=T-m;if(x!=R){for(let U=0;U<x;U++){const Q=U<_.length?_[U]:_[U]=0,oe=Q+U;R<=oe&&oe<x&&(_[U]=Q+1)}_[C.previousIndex]=R-x}}w!==T&&a(C,w,T)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!Qg(a))throw new Error(`Error trying to diff '${he(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let m,_,C,l=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)_=a[w],C=this._trackByFn(w,_),null!==l&&Object.is(l.trackById,C)?(h&&(l=this._verifyReinsertion(l,_,C,w)),Object.is(l.item,_)||this._addIdentityChange(l,_)):(l=this._mismatch(l,_,C,w),h=!0),l=l._next}else m=0,function(s,a){if(Array.isArray(s))for(let l=0;l<s.length;l++)a(s[l]);else{const l=s[_f()]();let h;for(;!(h=l.next()).done;)a(h.value)}}(a,w=>{C=this._trackByFn(m,w),null!==l&&Object.is(l.trackById,C)?(h&&(l=this._verifyReinsertion(l,w,C,m)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,C,m),h=!0),l=l._next,m++}),this.length=m;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,h,m){let _;return null===a?_=this._itTail:(_=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,_,m)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,m))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,_,m)):a=this._addAfter(new gx(l,h),_,m),a}_verifyReinsertion(a,l,h,m){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?a=this._reinsertAfter(_,a._prev,m):a.currentIndex!=m&&(a.currentIndex=m,this._addToMoves(a,m)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const m=a._prevRemoved,_=a._nextRemoved;return null===m?this._removalsHead=_:m._nextRemoved=_,null===_?this._removalsTail=m:_._prevRemoved=m,this._insertAfter(a,l,h),this._addToMoves(a,h),a}_moveAfter(a,l,h){return this._unlink(a),this._insertAfter(a,l,h),this._addToMoves(a,h),a}_addAfter(a,l,h){return this._insertAfter(a,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,h){const m=null===l?this._itHead:l._next;return a._next=m,a._prev=l,null===m?this._itTail=a:m._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new ma),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,h=a._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ma),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class gx{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mx{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const l=a._prevDup,h=a._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class ma{constructor(){this.map=new Map}put(a){const l=a.trackById;let h=this.map.get(l);h||(h=new mx,this.map.set(l,h)),h.add(a)}get(a,l){const m=this.map.get(a);return m?m.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zb(s,a,l){const h=s.previousIndex;if(null===h)return h;let m=0;return l&&h<l.length&&(m=l[h]),h+a+m}class Jb{constructor(){}supports(a){return a instanceof Map||sw(a)}create(){return new DD}}class DD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||sw(a)))throw new Error(`Error trying to diff '${he(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,m)=>{if(l&&l.key===m)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const _=this._getOrCreateRecordForKey(m,h);l=this._insertBeforeOrAppend(l,_)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const h=a._prev;return l._next=a,l._prev=h,a._prev=l,h&&(h._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const m=this._records.get(a);this._maybeAddToChanges(m,l);const _=m._prev,C=m._next;return _&&(_._next=C),C&&(C._prev=_),m._next=null,m._prev=null,m}const h=new yx(a);return this._records.set(a,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(h=>l(a[h],h))}}class yx{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _x(){return new Hm([new wD])}let Hm=(()=>{class s{constructor(l){this.factories=l}static create(l,h){if(null!=h){const m=h.factories.slice();l=l.concat(m)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||_x()),deps:[[s,new Er,new Ws]]}}find(l){const h=this.factories.find(m=>m.supports(l));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(s){return s.name||typeof s}(l)}'`)}}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:_x}),s})();function TD(){return new Gm([new Jb])}let Gm=(()=>{class s{constructor(l){this.factories=l}static create(l,h){if(h){const m=h.factories.slice();l=l.concat(m)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||TD()),deps:[[s,new Er,new Ws]]}}find(l){const h=this.factories.find(m=>m.supports(l));if(h)return h;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:TD}),s})();function zm(s,a,l,h,m=!1){for(;null!==l;){const _=a[l.index];if(null!==_&&h.push(In(_)),oi(_))for(let w=10;w<_.length;w++){const T=_[w],x=T[1].firstChild;null!==x&&zm(T[1],T,x,h)}const C=l.type;if(8&C)zm(s,a,l.child,h);else if(32&C){const w=oa(l,a);let T;for(;T=w();)h.push(T)}else if(16&C){const w=Xi(a,l);if(Array.isArray(w))h.push(...w);else{const T=aa(a[16]);zm(T[1],T,w,h,!0)}}l=m?l.projectionNext:l.next}return h}class qm{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return zm(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(oi(a)){const l=a[8],h=l?l.indexOf(this):-1;h>-1&&(Ah(a,h),Ra(l,h))}this._attachedToViewContainer=!1}f(this._lView[1],this._lView)}onDestroy(a){HE(this._lView[1],this._lView,null,a)}markForCheck(){jv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){YE(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,a,l){os(!0);try{YE(s,a,l)}finally{os(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,mo(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class iN extends qm{constructor(a){super(a),this._view=a}detectChanges(){MI(this._view)}checkNoChanges(){!function(s){os(!0);try{MI(s)}finally{os(!1)}}(this._view)}get context(){return null}}const Cx=function(s){return function(s,a,l){if(_r(s)&&!l){const h=yi(s.index,a);return new qm(h,h)}return 47&s.type?new qm(a[16],a):null}(qn(),Pe(),16==(16&s))};let Ex=(()=>{class s{}return s.__NG_ELEMENT_ID__=Cx,s})();const $m=[new Jb],wx=new Hm([new wD]),Dx=new Gm($m),Tx=function(){return e0(qn(),Pe())};let Kh=(()=>{class s{}return s.__NG_ELEMENT_ID__=Tx,s})();const Sx=Kh,_c=class extends Sx{constructor(a,l,h){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=h}createEmbeddedView(a){const l=this._declarationTContainer.tViews,h=ff(this._declarationLView,l,a,16,null,l.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(l)),pf(l,h,a),new qm(h)}};function e0(s,a){return 4&s.type?new _c(a,s,Yh(s,a)):null}class vc{}class AD{}const Mx=function(){return Px(qn(),Pe())};let Wm=(()=>{class s{}return s.__NG_ELEMENT_ID__=Mx,s})();const Ox=Wm,Rx=class extends Ox{constructor(a,l,h){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=h}get element(){return Yh(this._hostTNode,this._hostLView)}get injector(){return new Cu(this._hostTNode,this._hostLView)}get parentInjector(){const a=ot(this._hostTNode,this._hostLView);if(Yc(a)){const l=Nl(a,this._hostLView),h=Aa(a);return new Cu(l[1].data[h+8],l)}return new Cu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=kx(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,h){const m=a.createEmbeddedView(l||{});return this.insert(m,h),m}createComponent(a,l,h,m,_){const C=h||this.parentInjector;if(!_&&null==a.ngModule&&C){const T=C.get(vc,null);T&&(_=T)}const w=a.create(C,m,void 0,_);return this.insert(w.hostView,l),w}insert(a,l){const h=a._lView,m=h[1];if(oi(h[3])){const R=this.indexOf(a);if(-1!==R)this.detach(R);else{const V=h[3],U=new Rx(V,V[6],V[3]);U.detach(U.indexOf(a))}}const _=this._adjustIndex(l),C=this._lContainer;!function(s,a,l,h){const m=10+h,_=l.length;h>0&&(l[m-1][4]=a),h<_-10?(a[4]=l[m],hs(l,10+h,a)):(l.push(a),a[4]=null),a[3]=l;const C=a[17];null!==C&&l!==C&&function(s,a){const l=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===l?s[9]=[a]:l.push(a)}(C,a);const w=a[19];null!==w&&w.insertView(s),a[2]|=128}(m,h,C,_);const w=$a(_,C),T=h[11],x=K(T,C[7]);return null!==x&&function(s,a,l,h,m,_){h[0]=m,h[6]=a,mo(s,h,l,1,m,_)}(m,C[6],T,h,x,w),a.attachToViewContainerRef(),hs(Ym(C),_,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=kx(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),h=Ah(this._lContainer,l);h&&(Ra(Ym(this._lContainer),l),f(h[1],h))}detach(a){const l=this._adjustIndex(a,-1),h=Ah(this._lContainer,l);return h&&null!=Ra(Ym(this._lContainer),l)?new qm(h):null}_adjustIndex(a,l=0){return null==a?this.length+l:a}};function kx(s){return s[8]}function Ym(s){return s[8]||(s[8]=[])}function Px(s,a){let l;const h=a[s.index];if(oi(h))l=h;else{let m;if(8&s.type)m=In(h);else{const _=a[11];m=_.createComment("");const C=Qi(s,a);O(_,K(_,C),m,function(s,a){return Ln(s)?s.nextSibling(a):a.nextSibling}(_,C),!1)}a[s.index]=l=AI(h,a,m,s),Hu(a,l)}return new Rx(l,s,a)}const el={};class nT extends yc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=or(a);return new y0(l,this.ngModule)}}function Xx(s){const a=[];for(let l in s)s.hasOwnProperty(l)&&a.push({propName:s[l],templateName:l});return a}const m0=new Zn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Rg});class y0 extends Bm{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=a.selectors.map(Vu).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Xx(this.componentDef.inputs)}get outputs(){return Xx(this.componentDef.outputs)}create(a,l,h,m){const _=(m=m||this.ngModule)?function(s,a){return{get:(l,h,m)=>{const _=s.get(l,el,m);return _!==el||h===el?_:a.get(l,h,m)}}}(a,m.injector):a,C=_.get(Ff,St),w=_.get(Yb,null),T=C.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",R=h?function(s,a,l){if(Ln(s))return s.selectRootElement(a,l===Xe.ShadowDom);let h="string"==typeof a?s.querySelector(a):a;return h.textContent="",h}(T,h,this.componentDef.encapsulation):cf(C.createRenderer(null,this.componentDef),x,function(s){const a=s.toLowerCase();return"svg"===a?wn:"math"===a?"http://www.w3.org/1998/MathML/":null}(x)),V=this.componentDef.onPush?576:528,U=function(s,a){return{components:[],scheduler:s||Rg,clean:xI,playerHandler:a||null,flags:0}}(),Q=Gg(0,null,null,1,0,null,null,null,null,null),oe=ff(null,Q,U,V,null,null,C,T,w,_);let Te,de;Sa(oe);try{const Be=function(s,a,l,h,m,_){const C=l[1];l[20]=s;const T=Ka(C,20,2,"#host",null),x=T.mergedAttrs=a.hostAttrs;null!==x&&(qv(T,x,!0),null!==s&&(Bd(m,s,x),null!==T.classes&&vv(m,s,T.classes),null!==T.styles&&_v(m,s,T.styles)));const R=h.createRenderer(s,a),V=ff(l,mI(a),null,a.onPush?64:16,l[20],T,h,R,_||null,null);return C.firstCreatePass&&(Vt(vu(T,l),C,a.type),TI(C,T),SI(T,l.length,1)),Hu(l,V),l[20]=V}(R,this.componentDef,oe,C,T);if(R)if(h)Bd(T,R,["ng-version",Qb.full]);else{const{attrs:Oe,classes:ht}=function(s){const a=[],l=[];let h=1,m=2;for(;h<s.length;){let _=s[h];if("string"==typeof _)2===m?""!==_&&a.push(_,s[++h]):8===m&&l.push(_);else{if(!ys(m))break;m=_}h++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);Oe&&Bd(T,R,Oe),ht&&ht.length>0&&vv(T,R,ht.join(" "))}if(de=ks(Q,20),void 0!==l){const Oe=de.projection=[];for(let ht=0;ht<this.ngContentSelectors.length;ht++){const Dt=l[ht];Oe.push(null!=Dt?Array.from(Dt):null)}}Te=function(s,a,l,h,m){const _=l[1],C=function(s,a,l){const h=qn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),qg(s,h,a,sc(s,a,1,null),l));const m=Hn(a,s,h.directiveStart,h);xr(m,a);const _=Qi(h,a);return _&&xr(_,a),m}(_,l,a);if(h.components.push(C),s[8]=C,m&&m.forEach(T=>T(C,a)),a.contentQueries){const T=qn();a.contentQueries(1,C,T.directiveStart)}const w=qn();return!_.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(ao(w.index),Lv(l[1],w,0,w.directiveStart,w.directiveEnd,a),DI(a,C)),C}(Be,this.componentDef,oe,U,[f1]),pf(Q,oe,null)}finally{as()}return new pN(this.componentType,Te,Yh(de,oe),oe,de)}}class pN extends class{}{constructor(a,l,h,m,_){super(),this.location=h,this._rootLView=m,this._tNode=_,this.instance=l,this.hostView=this.changeDetectorRef=new iN(m),this.componentType=a}get injector(){return new Cu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const ru=new Map;class C0 extends vc{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new nT(this);const h=pi(a),m=a[gn]||null;m&&Dm(m),this._bootstrapComponents=Lo(h.bootstrap),this._r3Injector=NI(a,l,[{provide:vc,useValue:this},{provide:yc,useValue:this.componentFactoryResolver}],he(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,l=kn.THROW_IF_NOT_FOUND,h=qe.Default){return a===kn||a===vc||a===gf?this:this._r3Injector.get(a,l,h)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class sy extends AD{constructor(a){super(),this.moduleType=a,null!==pi(a)&&function(s){const a=new Set;!function l(h){const m=pi(h,!0),_=m.id;null!==_&&(function(s,a,l){if(a&&a!==l)throw new Error(`Duplicate module registered for ${s} - ${he(a)} vs ${he(a.name)}`)}(_,ru.get(_),h),ru.set(_,h));const C=Lo(m.imports);for(const w of C)a.has(w)||(a.add(w),l(w))}(s)}(a)}create(a){return new C0(this.moduleType,a)}}function ay(s,a,l,h){return oT(Pe(),cr(),s,a,l,h)}function ly(s,a){const l=s[a];return l===st?void 0:l}function oT(s,a,l,h,m,_){const C=a+l;return Bi(s,C,m)?Qa(s,C+1,_?h.call(_,m):h(m)):ly(s,C+1)}function Qf(s,a){const l=Xt();let h;const m=s+20;l.firstCreatePass?(h=function(s,a){if(a)for(let l=a.length-1;l>=0;l--){const h=a[l];if(s===h.name)return h}throw new Ie("302",`The pipe '${s}' could not be found!`)}(a,l.pipeRegistry),l.data[m]=h,h.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(m,h.onDestroy)):h=l.data[m];const _=h.factory||(h.factory=is(h.type)),C=Pn(rm);try{const w=Ia(!1),T=_();return Ia(w),function(s,a,l,h){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),a[l]=h}(l,Pe(),m,T),T}finally{Pn(C)}}function uT(s,a,l){const h=s+20,m=Pe(),_=Ps(m,h);return sd(m,Zf(m,h)?oT(m,cr(),a,_.transform,l,_):_.transform(l))}function S0(s,a,l,h){const m=s+20,_=Pe(),C=Ps(_,m);return sd(_,Zf(_,m)?function(s,a,l,h,m,_,C){const w=a+l;return Fh(s,w,m,_)?Qa(s,w+2,C?h.call(C,m,_):h(m,_)):ly(s,w+2)}(_,cr(),a,C.transform,l,h,C):C.transform(l,h))}function Zf(s,a){return s[1].data[a].pure}function sd(s,a){return da.isWrapped(a)&&(a=da.unwrap(a),s[Oi()]=st),a}function cy(s){return a=>{setTimeout(s,void 0,a)}}const Wo=class extends p.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,h){var m,_,C;let w=a,T=l||(()=>null),x=h;if(a&&"object"==typeof a){const V=a;w=null===(m=V.next)||void 0===m?void 0:m.bind(V),T=null===(_=V.error)||void 0===_?void 0:_.bind(V),x=null===(C=V.complete)||void 0===C?void 0:C.bind(V)}this.__isAsync&&(T=cy(T),w&&(w=cy(w)),x&&(x=cy(x)));const R=super.subscribe({next:w,error:T,complete:x});return a instanceof fe.w&&a.add(R),R}};function uO(){return this._results[_f()]()}class Jf{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=_f(),h=Jf.prototype;h[l]||(h[l]=uO)}get changes(){return this._changes||(this._changes=new Wo)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const h=this;h.dirty=!1;const m=Ji(a);(this._changesDetected=!function(s,a,l){if(s.length!==a.length)return!1;for(let h=0;h<s.length;h++){let m=s[h],_=a[h];if(l&&(m=l(m),_=l(_)),_!==m)return!1}return!0}(h._results,m,l))&&(h._results=m,h.length=m.length,h.last=m[this.length-1],h.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Xf{constructor(a){this.queryList=a,this.matches=null}clone(){return new Xf(this.queryList)}setDirty(){this.queryList.setDirty()}}class A0{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const h=null!==a.contentQueries?a.contentQueries[0]:l.length,m=[];for(let _=0;_<h;_++){const C=l.getByIndex(_);m.push(this.queries[C.indexInDeclarationView].clone())}return new A0(m)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==mT(a,l).matches&&this.queries[l].setDirty()}}class dy{constructor(a,l,h=null){this.predicate=a,this.flags=l,this.read=h}}class fy{constructor(a=[]){this.queries=a}elementStart(a,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let h=0;h<this.length;h++){const m=null!==l?l.length:0,_=this.getByIndex(h).embeddedTView(a,m);_&&(_.indexInDeclarationView=h,null!==l?l.push(_):l=[_])}return null!==l?new fy(l):null}template(a,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class I0{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new I0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let m=0;m<h.length;m++){const _=h[m];this.matchTNodeWithReadOption(a,l,cT(l,_)),this.matchTNodeWithReadOption(a,l,bu(l,a,_,!1,!1))}else h===Kh?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,bu(l,a,h,!1,!1))}matchTNodeWithReadOption(a,l,h){if(null!==h){const m=this.metadata.read;if(null!==m)if(m===bs||m===Wm||m===Kh&&4&l.type)this.addMatch(l.index,-2);else{const _=bu(l,a,m,!1,!1);null!==_&&this.addMatch(l.index,_)}else this.addMatch(l.index,h)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function cT(s,a){const l=s.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===a)return l[h+1];return null}function hT(s,a,l,h){return-1===l?function(s,a){return 11&s.type?Yh(s,a):4&s.type?e0(s,a):null}(a,s):-2===l?function(s,a,l){return l===bs?Yh(a,s):l===Kh?e0(a,s):l===Wm?Px(a,s):void 0}(s,a,h):Hn(s,s[1],l,a)}function py(s,a,l,h){const m=a[19].queries[h];if(null===m.matches){const _=s.data,C=l.matches,w=[];for(let T=0;T<C.length;T+=2){const x=C[T];w.push(x<0?null:hT(a,_[x],C[T+1],l.metadata.read))}m.matches=w}return m.matches}function M0(s,a,l,h){const m=s.queries.getByIndex(l),_=m.matches;if(null!==_){const C=py(s,a,m,l);for(let w=0;w<_.length;w+=2){const T=_[w];if(T>0)h.push(C[w/2]);else{const x=_[w+1],R=a[-T];for(let V=10;V<R.length;V++){const U=R[V];U[17]===U[3]&&M0(U[1],U,x,h)}if(null!==R[9]){const V=R[9];for(let U=0;U<V.length;U++){const Q=V[U];M0(Q[1],Q,x,h)}}}}}return h}function dT(s){const a=Pe(),l=Xt(),h=Gc();Ls(h+1);const m=mT(l,h);if(s.dirty&&qp(a)===(2==(2&m.metadata.flags))){if(null===m.matches)s.reset([]);else{const _=m.crossesNgTemplate?M0(l,a,h,[]):py(l,a,m,h);s.reset(_,bD),s.notifyOnChanges()}return!0}return!1}function x0(s,a,l){const h=Xt();h.firstCreatePass&&(R0(h,new dy(s,a,l),-1),2==(2&a)&&(h.staticViewQueries=!0)),pT(h,Pe(),a)}function fT(s,a,l,h){const m=Xt();if(m.firstCreatePass){const _=qn();R0(m,new dy(a,l,h),_.index),function(s,a){const l=s.contentQueries||(s.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,a)}(m,s),2==(2&l)&&(m.staticContentQueries=!0)}pT(m,Pe(),l)}function dO(){return s=Pe(),a=Gc(),s[19].queries[a].queryList;var s,a}function pT(s,a,l){const h=new Jf(4==(4&l));HE(s,a,h,h.destroy),null===a[19]&&(a[19]=new A0),a[19].queries.push(new Xf(h))}function R0(s,a,l){null===s.queries&&(s.queries=new fy),s.queries.track(new I0(a,l))}function mT(s,a){return s.queries.getByIndex(a)}const _y=new Zn("Application Initializer");let ud=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Nf,this.reject=Nf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,m)=>{this.resolve=h,this.reject=m})}runInitializers(){if(this.initialized)return;const l=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const _=this.appInits[m]();if(nb(_))l.push(_);else if(rb(_)){const C=new Promise((w,T)=>{_.subscribe({complete:w,error:T})});l.push(C)}}Promise.all(l).then(()=>{h()}).catch(m=>{this.reject(m)}),0===l.length&&h(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(ln(_y,8))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac}),s})();const LT=new Zn("AppId"),vy={provide:LT,useFactory:function(){return`${VT()}${VT()}${VT()}`},deps:[]};function VT(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const BT=new Zn("Platform Initializer"),UT=new Zn("Platform ID"),by=new Zn("appBootstrapListener");let j0=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac}),s})();const Cy=new Zn("LocaleId"),jT=new Zn("DefaultCurrencyCode");class HT{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}const tl=function(s){return new sy(s)},zT=tl,qT=function(s){return Promise.resolve(tl(s))},$T=function(s){const a=tl(s),h=Lo(pi(s).declarations).reduce((m,_)=>{const C=or(_);return C&&m.push(new y0(C)),m},[]);return new HT(a,h)},UN=$T,WT=function(s){return Promise.resolve($T(s))};let ld=(()=>{class s{constructor(){this.compileModuleSync=zT,this.compileModuleAsync=qT,this.compileModuleAndAllComponentsSync=UN,this.compileModuleAndAllComponentsAsync=WT}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac}),s})();const tp=(()=>Promise.resolve(0))();function G0(s){"undefined"==typeof Zone?tp.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class bo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wo(!1),this.onMicrotaskEmpty=new Wo(!1),this.onStable=new Wo(!1),this.onError=new Wo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!h&&l,m.shouldCoalesceRunChangeDetection=h,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function(){let s=sn.requestAnimationFrame,a=sn.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(s){const a=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(sn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,z0(s),s.isCheckStableRunning=!0,Ey(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),z0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,m,_,C,w)=>{try{return XT(s),l.invokeTask(m,_,C,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||s.shouldCoalesceRunChangeDetection)&&a(),eS(s)}},onInvoke:(l,h,m,_,C,w,T)=>{try{return XT(s),l.invoke(m,_,C,w,T)}finally{s.shouldCoalesceRunChangeDetection&&a(),eS(s)}},onHasTask:(l,h,m,_)=>{l.hasTask(m,_),h===m&&("microTask"==_.change?(s._hasPendingMicrotasks=_.microTask,z0(s),Ey(s)):"macroTask"==_.change&&(s.hasPendingMacrotasks=_.macroTask))},onHandleError:(l,h,m,_)=>(l.handleError(m,_),s.runOutsideAngular(()=>s.onError.emit(_)),!1)})}(m)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(bo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,l,h){return this._inner.run(a,l,h)}runTask(a,l,h,m){const _=this._inner,C=_.scheduleEventTask("NgZoneEvent: "+m,a,GO,Nf,Nf);try{return _.runTask(C,l,h)}finally{_.cancelTask(C)}}runGuarded(a,l,h){return this._inner.runGuarded(a,l,h)}runOutsideAngular(a){return this._outer.run(a)}}const GO={};function Ey(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function z0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function XT(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function eS(s){s._nesting--,Ey(s)}class tS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wo,this.onMicrotaskEmpty=new Wo,this.onStable=new Wo,this.onError=new Wo}run(a,l,h){return a.apply(l,h)}runGuarded(a,l,h){return a.apply(l,h)}runOutsideAngular(a){return a()}runTask(a,l,h,m){return a.apply(l,h)}}let nS=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bo.assertNotInAngularZone(),G0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())G0(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,m){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==_),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:_,updateCb:m})}whenStable(l,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,h,m){return[]}}return s.\u0275fac=function(l){return new(l||s)(ln(bo))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac}),s})(),rS=(()=>{class s{constructor(){this._applications=new Map,wy.addToWindow(this)}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){return wy.findTestabilityInTree(this,l,h)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac}),s})();class iS{addToWindow(a){}findTestabilityInTree(a,l,h){return null}}function zO(s){wy=s}let wy=new iS,q0=!0,$0=!1;function W0(){return $0=!0,q0}function qO(){if($0)throw new Error("Cannot enable prod mode after platform setup.");q0=!1}let ws;const uS=new Zn("AllowMultipleToken");class KO{constructor(a,l){this.name=a,this.token=l}}function Y0(s,a,l=[]){const h=`Platform: ${a}`,m=new Zn(h);return(_=[])=>{let C=cS();if(!C||C.injector.get(uS,!1))if(s)s(l.concat(_).concat({provide:m,useValue:!0}));else{const w=l.concat(_).concat({provide:m,useValue:!0},{provide:Wg,useValue:"platform"});!function(s){if(ws&&!ws.destroyed&&!ws.injector.get(uS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ws=s.get(K0);const a=s.get(BT,null);a&&a.forEach(l=>l())}(kn.create({providers:w,name:h}))}return function(s){const a=cS();if(!a)throw new Error("No platform exists!");if(!a.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(m)}}function cS(){return ws&&!ws.destroyed?ws:null}let K0=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const w=function(s,a){let l;return l="noop"===s?new tS:("zone.js"===s?void 0:s)||new bo({enableLongStackTrace:W0(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),l}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),T=[{provide:bo,useValue:w}];return w.run(()=>{const x=kn.create({providers:T,parent:this.injector,name:l.moduleType.name}),R=l.create(x),V=R.injector.get(Nu,null);if(!V)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const U=w.onError.subscribe({next:Q=>{V.handleError(Q)}});R.onDestroy(()=>{Dy(this._modules,R),U.unsubscribe()})}),function(s,a,l){try{const h=l();return nb(h)?h.catch(m=>{throw a.runOutsideAngular(()=>s.handleError(m)),m}):h}catch(h){throw a.runOutsideAngular(()=>s.handleError(h)),h}}(V,w,()=>{const U=R.injector.get(ud);return U.runInitializers(),U.donePromise.then(()=>(Dm(R.injector.get(Cy,Cm)||Cm),this._moduleDoBootstrap(R),R))})})}bootstrapModule(l,h=[]){const m=nl({},h);return function(s,a,l){const h=new sy(l);return Promise.resolve(h)}(0,0,l).then(_=>this.bootstrapModuleFactory(_,m))}_moduleDoBootstrap(l){const h=l.injector.get(np);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${he(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(ln(kn))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac}),s})();function nl(s,a){return Array.isArray(a)?a.reduce(nl,s):Object.assign(Object.assign({},s),a)}let np=(()=>{class s{constructor(l,h,m,_,C){this._zone=l,this._injector=h,this._exceptionHandler=m,this._componentFactoryResolver=_,this._initStatus=C,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new P.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),T=new P.y(x=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{bo.assertNotInAngularZone(),G0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{bo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{R.unsubscribe(),V.unsubscribe()}});this.isStable=(0,se.T)(w,T.pipe((0,Ee.B)()))}bootstrap(l,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let m;m=l instanceof Bm?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(m.componentType);const _=function(s){return s.isBoundToModule}(m)?void 0:this._injector.get(vc),w=m.create(kn.NULL,[],h||m.selector,_),T=w.location.nativeElement,x=w.injector.get(nS,null),R=x&&w.injector.get(rS);return x&&R&&R.registerApplication(T,x),w.onDestroy(()=>{this.detachView(w.hostView),Dy(this.components,w),R&&R.unregisterApplication(T)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;Dy(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(by,[]).concat(this._bootstrapListeners).forEach(m=>m(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(ln(bo),ln(kn),ln(Nu),ln(yc),ln(ud))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac}),s})();function Dy(s,a){const l=s.indexOf(a);l>-1&&s.splice(l,1)}class dS{}class va{}const hd={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let pS=(()=>{class s{constructor(l,h){this._compiler=l,this._config=h||hd}load(l){return this.loadAndCompile(l)}loadAndCompile(l){let[h,m]=l.split("#");return void 0===m&&(m="default"),Y(8255)(h).then(_=>_[m]).then(_=>J0(_,h,m)).then(_=>this._compiler.compileModuleAsync(_))}loadFactory(l){let[h,m]=l.split("#"),_="NgFactory";return void 0===m&&(m="default",_=""),Y(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(C=>C[m+_]).then(C=>J0(C,h,m))}}return s.\u0275fac=function(l){return new(l||s)(ln(ld),ln(va,8))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac}),s})();function J0(s,a,l){if(!s)throw new Error(`Cannot find '${l}' in '${a}'`);return s}const vS=function(s){return null},CS=Y0(null,"core",[{provide:UT,useValue:"unknown"},{provide:K0,deps:[kn]},{provide:rS,deps:[]},{provide:j0,deps:[]}]),wS=[{provide:np,useClass:np,deps:[bo,kn,Nu,yc,ud]},{provide:m0,deps:[bo],useFactory:function(s){let a=[];return s.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(l){a.push(l)}}},{provide:ud,useClass:ud,deps:[[new Ws,_y]]},{provide:ld,useClass:ld,deps:[]},vy,{provide:Hm,useFactory:function(){return wx},deps:[]},{provide:Gm,useFactory:function(){return Dx},deps:[]},{provide:Cy,useFactory:function(s){return Dm(s=s||"undefined"!=typeof $localize&&$localize.locale||Cm),s},deps:[[new Va(Cy),new Ws,new Er]]},{provide:jT,useValue:"USD"}];let eF=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(ln(np))},s.\u0275mod=ml({type:s}),s.\u0275inj=Wt({providers:wS}),s})()},57:(rt,ke,Y)=>{"use strict";Y.d(ke,{hO:()=>Zt,xv:()=>$e,Dh:()=>Me,HU:()=>ie,GT:()=>Ie,sI:()=>yn,on:()=>$t,ss:()=>G,pX:()=>ce,yq:()=>xn});var p=Y(7771),fe=Y(3637),P=Y(3342),se=Y(9673),Ee=Y(6136),ae=Y(7716),pe=Y(2329);function he(){}rt=Y.hmd(rt);class re{constructor(be,Ce=p.N){this.zone=be,this.delegate=Ce}now(){return this.delegate.now()}schedule(be,Ce,ve){const Re=this.zone;return this.delegate.schedule(function(gt){Re.runGuarded(()=>{be.apply(this,[gt])})},Ce,ve)}}class W{constructor(be){this.zone=be,this.task=null}call(be,Ce){const ve=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",he,{},he,he)),Ce.pipe((0,P.b)({next:ve,complete:ve,error:ve})).subscribe(be).add(ve)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ie{constructor(be){this.ngZone=be,this.outsideAngular=be.runOutsideAngular(()=>new re(Zone.current)),this.insideAngular=be.run(()=>new re(Zone.current,fe.z))}}function G(_e){return function(Ce){return(Ce=Ce.lift(new W(_e.ngZone))).pipe((0,se.R)(_e.outsideAngular),(0,Ee.QV)(_e.insideAngular))}}const X=["ngOnDestroy"],ce=(_e,be,Ce,ve={})=>new Proxy(_e,{get:(Re,De)=>Ce.runOutsideAngular(()=>{var gt;if(_e[De])return(null===(gt=null==ve?void 0:ve.spy)||void 0===gt?void 0:gt.get)&&ve.spy.get(De,_e[De]),_e[De];if(X.indexOf(De)>-1)return()=>{};const mt=be.toPromise().then(_n=>{const lt=_n&&_n[De];return"function"==typeof lt?lt.bind(_n):lt&&lt.then?lt.then(ct=>Ce.run(()=>ct)):Ce.run(()=>lt)});return new Proxy(()=>{},{get:(_n,lt)=>mt[lt],apply:(_n,lt,ct)=>mt.then(Je=>{var Qe;const Pt=Je&&Je(...ct);return(null===(Qe=null==ve?void 0:ve.spy)||void 0===Qe?void 0:Qe.apply)&&ve.spy.apply(De,ct,Pt),Pt})})})}),Ie=(_e,be)=>{be.forEach(Ce=>{Object.getOwnPropertyNames(Ce.prototype||Ce).forEach(ve=>{Object.defineProperty(_e.prototype,ve,Object.getOwnPropertyDescriptor(Ce.prototype||Ce,ve))})})},Me=new ae.OlP("angularfire2.app.options"),$e=new ae.OlP("angularfire2.app.nameOrConfig"),He=new ae.GfV("6.1.5");function $t(_e,be,Ce){const Re="object"==typeof Ce&&Ce||{};Re.name=Re.name||"string"==typeof Ce&&Ce||"[DEFAULT]";const gt=pe.Z.apps.filter(mt=>mt&&mt.name===Re.name)[0]||be.runOutsideAngular(()=>pe.Z.initializeApp(_e,Re));try{JSON.stringify(_e)!==JSON.stringify(gt.options)&&ut("error",`${gt.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(mt){}return gt}const xn=()=>{ut("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},ut=(_e,...be)=>{(0,ae.X6Q)()&&"undefined"!=typeof console&&console[_e](...be)};function yn(_e,be,Ce,ve,Re){const[De,...gt]=globalThis.\u0275AngularfireInstanceCache.get(_e)||[];if(De){try{Re.some((mt,_n)=>{const lt=gt[_n];return mt&&"object"==typeof mt?JSON.stringify(mt)!==JSON.stringify(lt):mt!==lt})&&ut("error",`${be} was already initialized on the ${Ce.name} Firebase App instance with different settings.${rt.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(mt){}return De}{const mt=ve();return globalThis.\u0275AngularfireInstanceCache.set(_e,[mt,...Re]),mt}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const Qt={provide:class{},useFactory:$t,deps:[Me,ae.R0b,[new ae.FiY,$e]]};let Zt=(()=>{class _e{constructor(Ce){pe.Z.registerVersion("angularfire",He.full,Ce.toString()),pe.Z.registerVersion("angular",ae.q4F.full)}static initializeApp(Ce,ve){return{ngModule:_e,providers:[{provide:Me,useValue:Ce},{provide:$e,useValue:ve}]}}}return _e.\u0275fac=function(Ce){return new(Ce||_e)(ae.LFG(ae.Lbi))},_e.\u0275mod=ae.oAB({type:_e}),_e.\u0275inj=ae.cJS({providers:[Qt]}),_e})()},9759:(rt,ke,Y)=>{"use strict";Y.d(ke,{Z:()=>ct});var Ee,ut,p=Y(4762),fe=Y(4685),P=Y(6034),se=Y(300),ae=((Ee={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ee["bad-app-name"]="Illegal App name: '{$appName}",Ee["duplicate-app"]="Firebase App named '{$appName}' already exists",Ee["app-deleted"]="Firebase App named '{$appName}' already deleted",Ee["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ee["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ee),pe=new fe.LL("app","Firebase",ae),he="@firebase/app",on="[DEFAULT]",yn=((ut={})[he]="fire-core",ut["@firebase/analytics"]="fire-analytics",ut["@firebase/app-check"]="fire-app-check",ut["@firebase/auth"]="fire-auth",ut["@firebase/database"]="fire-rtdb",ut["@firebase/functions"]="fire-fn",ut["@firebase/installations"]="fire-iid",ut["@firebase/messaging"]="fire-fcm",ut["@firebase/performance"]="fire-perf",ut["@firebase/remote-config"]="fire-rc",ut["@firebase/storage"]="fire-gcs",ut["@firebase/firestore"]="fire-fst",ut["fire-js"]="fire-js",ut["firebase-wrapper"]="fire-js-all",ut),Qt=new se.Yd("@firebase/app"),Zt=function(){function Je(Qe,Pt,hn){var Jt=this;this.firebase_=hn,this.isDeleted_=!1,this.name_=Pt.name,this.automaticDataCollectionEnabled_=Pt.automaticDataCollectionEnabled||!1,this.options_=(0,fe.p$)(Qe),this.container=new P.H0(Pt.name),this._addComponent(new P.wA("app",function(){return Jt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(di){return Jt._addComponent(di)})}return Object.defineProperty(Je.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Qe){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Qe},enumerable:!1,configurable:!0}),Object.defineProperty(Je.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Je.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Je.prototype.delete=function(){var Qe=this;return new Promise(function(Pt){Qe.checkDestroyed_(),Pt()}).then(function(){return Qe.firebase_.INTERNAL.removeApp(Qe.name_),Promise.all(Qe.container.getProviders().map(function(Pt){return Pt.delete()}))}).then(function(){Qe.isDeleted_=!0})},Je.prototype._getService=function(Qe,Pt){var hn;void 0===Pt&&(Pt=on),this.checkDestroyed_();var Jt=this.container.getProvider(Qe);return!Jt.isInitialized()&&"EXPLICIT"===(null===(hn=Jt.getComponent())||void 0===hn?void 0:hn.instantiationMode)&&Jt.initialize(),Jt.getImmediate({identifier:Pt})},Je.prototype._removeServiceInstance=function(Qe,Pt){void 0===Pt&&(Pt=on),this.container.getProvider(Qe).clearInstance(Pt)},Je.prototype._addComponent=function(Qe){try{this.container.addComponent(Qe)}catch(Pt){Qt.debug("Component "+Qe.name+" failed to register with FirebaseApp "+this.name,Pt)}},Je.prototype._addOrOverwriteComponent=function(Qe){this.container.addOrOverwriteComponent(Qe)},Je.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Je.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw pe.create("app-deleted",{appName:this.name_})},Je}();Zt.prototype.name&&Zt.prototype.options||Zt.prototype.delete||console.log("dc");var ve=function Ce(){var Je=function(Je){var Qe={},Pt=new Map,hn={__esModule:!0,initializeApp:function(jt,Mt){void 0===Mt&&(Mt={}),("object"!=typeof Mt||null===Mt)&&(Mt={name:Mt});var En=Mt;void 0===En.name&&(En.name=on);var qe=En.name;if("string"!=typeof qe||!qe)throw pe.create("bad-app-name",{appName:String(qe)});if((0,fe.r3)(Qe,qe))throw pe.create("duplicate-app",{appName:qe});var vn=new Je(jt,En,hn);return Qe[qe]=vn,vn},app:di,registerVersion:function(jt,Mt,Wn){var En,qe=null!==(En=yn[jt])&&void 0!==En?En:jt;Wn&&(qe+="-"+Wn);var vn=qe.match(/\s|\//),Bn=Mt.match(/\s|\//);if(vn||Bn){var Pn=['Unable to register library "'+qe+'" with version "'+Mt+'":'];return vn&&Pn.push('library name "'+qe+'" contains illegal characters (whitespace or "/")'),vn&&Bn&&Pn.push("and"),Bn&&Pn.push('version name "'+Mt+'" contains illegal characters (whitespace or "/")'),void Qt.warn(Pn.join(" "))}an(new P.wA(qe+"-version",function(){return{library:qe,version:Mt}},"VERSION"))},setLogLevel:se.Ub,onLog:function(jt,Mt){if(null!==jt&&"function"!=typeof jt)throw pe.create("invalid-log-argument");(0,se.Am)(jt,Mt)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:an,removeApp:function(jt){delete Qe[jt]},components:Pt,useAsService:function(jt,Mt){return"serverAuth"===Mt?null:Mt}}};function di(jt){if(!(0,fe.r3)(Qe,jt=jt||on))throw pe.create("no-app",{appName:jt});return Qe[jt]}function an(jt){var Mt=jt.name;if(Pt.has(Mt))return Qt.debug("There were multiple attempts to register component "+Mt+"."),"PUBLIC"===jt.type?hn[Mt]:null;if(Pt.set(Mt,jt),"PUBLIC"===jt.type){var Wn=function(Bn){if(void 0===Bn&&(Bn=di()),"function"!=typeof Bn[Mt])throw pe.create("invalid-app-argument",{appName:Mt});return Bn[Mt]()};void 0!==jt.serviceProps&&(0,fe.ZB)(Wn,jt.serviceProps),hn[Mt]=Wn,Je.prototype[Mt]=function(){for(var Bn=[],Pn=0;Pn<arguments.length;Pn++)Bn[Pn]=arguments[Pn];return this._getService.bind(this,Mt).apply(this,jt.multipleInstances?Bn:[])}}for(var En=0,qe=Object.keys(Qe);En<qe.length;En++)Qe[qe[En]]._addComponent(jt);return"PUBLIC"===jt.type?hn[Mt]:null}return hn.default=hn,Object.defineProperty(hn,"apps",{get:function(){return Object.keys(Qe).map(function(jt){return Qe[jt]})}}),di.App=Je,hn}(Zt);return Je.INTERNAL=(0,p.pi)((0,p.pi)({},Je.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function(Pt){(0,fe.ZB)(Je,Pt)},createSubscribe:fe.ne,ErrorFactory:fe.LL,deepExtend:fe.ZB}),Je}(),Re=function(){function Je(Qe){this.container=Qe}return Je.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Pt){if(function(Je){var Qe=Je.getComponent();return"VERSION"===(null==Qe?void 0:Qe.type)}(Pt)){var hn=Pt.getImmediate();return hn.library+"/"+hn.version}return null}).filter(function(Pt){return Pt}).join(" ")},Je}();if((0,fe.jU)()&&void 0!==self.firebase){Qt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var mt=self.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&Qt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _n=ve.initializeApp;ve.initializeApp=function(){for(var Je=[],Qe=0;Qe<arguments.length;Qe++)Je[Qe]=arguments[Qe];return(0,fe.UG)()&&Qt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_n.apply(void 0,Je)};var Je,lt=ve;(Je=lt).INTERNAL.registerComponent(new P.wA("platform-logger",function(Pt){return new Re(Pt)},"PRIVATE")),Je.registerVersion(he,"0.6.28",undefined),Je.registerVersion("fire-js","");const ct=lt},6034:(rt,ke,Y)=>{"use strict";Y.d(ke,{wA:()=>P,H0:()=>he,zt:()=>Ee});var p=Y(4762),fe=Y(4685),P=function(){function re(W,ie,G){this.name=W,this.instanceFactory=ie,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return re.prototype.setInstantiationMode=function(W){return this.instantiationMode=W,this},re.prototype.setMultipleInstances=function(W){return this.multipleInstances=W,this},re.prototype.setServiceProps=function(W){return this.serviceProps=W,this},re.prototype.setInstanceCreatedCallback=function(W){return this.onInstanceCreated=W,this},re}(),se="[DEFAULT]",Ee=function(){function re(W,ie){this.name=W,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return re.prototype.get=function(W){var ie=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(ie)){var G=new fe.BH;if(this.instancesDeferred.set(ie,G),this.isInitialized(ie)||this.shouldAutoInitialize())try{var X=this.getOrInitializeService({instanceIdentifier:ie});X&&G.resolve(X)}catch(ce){}}return this.instancesDeferred.get(ie).promise},re.prototype.getImmediate=function(W){var ie,G=this.normalizeInstanceIdentifier(null==W?void 0:W.identifier),X=null!==(ie=null==W?void 0:W.optional)&&void 0!==ie&&ie;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(X)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(ce){if(X)return null;throw ce}},re.prototype.getComponent=function(){return this.component},re.prototype.setComponent=function(W){var ie,G;if(W.name!==this.name)throw Error("Mismatching Component "+W.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=W,this.shouldAutoInitialize()){if(function(re){return"EAGER"===re.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:se})}catch($t){}try{for(var X=(0,p.XA)(this.instancesDeferred.entries()),ce=X.next();!ce.done;ce=X.next()){var Ie=(0,p.CR)(ce.value,2),$e=Ie[1],Ve=this.normalizeInstanceIdentifier(Ie[0]);try{var He=this.getOrInitializeService({instanceIdentifier:Ve});$e.resolve(He)}catch($t){}}}catch($t){ie={error:$t}}finally{try{ce&&!ce.done&&(G=X.return)&&G.call(X)}finally{if(ie)throw ie.error}}}},re.prototype.clearInstance=function(W){void 0===W&&(W=se),this.instancesDeferred.delete(W),this.instances.delete(W)},re.prototype.delete=function(){return(0,p.mG)(this,void 0,void 0,function(){var W;return(0,p.Jh)(this,function(ie){switch(ie.label){case 0:return W=Array.from(this.instances.values()),[4,Promise.all((0,p.ev)((0,p.ev)([],(0,p.CR)(W.filter(function(G){return"INTERNAL"in G}).map(function(G){return G.INTERNAL.delete()}))),(0,p.CR)(W.filter(function(G){return"_delete"in G}).map(function(G){return G._delete()}))))];case 1:return ie.sent(),[2]}})})},re.prototype.isComponentSet=function(){return null!=this.component},re.prototype.isInitialized=function(W){return void 0===W&&(W=se),this.instances.has(W)},re.prototype.initialize=function(W){var ie,G;void 0===W&&(W={});var X=W.options,ce=void 0===X?{}:X,Ie=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(Ie))throw Error(this.name+"("+Ie+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Me=this.getOrInitializeService({instanceIdentifier:Ie,options:ce});try{for(var $e=(0,p.XA)(this.instancesDeferred.entries()),Ve=$e.next();!Ve.done;Ve=$e.next()){var He=(0,p.CR)(Ve.value,2),xn=He[1];Ie===this.normalizeInstanceIdentifier(He[0])&&xn.resolve(Me)}}catch(on){ie={error:on}}finally{try{Ve&&!Ve.done&&(G=$e.return)&&G.call($e)}finally{if(ie)throw ie.error}}return Me},re.prototype.onInit=function(W,ie){var G,X=this.normalizeInstanceIdentifier(ie),ce=null!==(G=this.onInitCallbacks.get(X))&&void 0!==G?G:new Set;ce.add(W),this.onInitCallbacks.set(X,ce);var Ie=this.instances.get(X);return Ie&&W(Ie,X),function(){ce.delete(W)}},re.prototype.invokeOnInitCallbacks=function(W,ie){var G,X,ce=this.onInitCallbacks.get(ie);if(ce)try{for(var Ie=(0,p.XA)(ce),Me=Ie.next();!Me.done;Me=Ie.next()){var $e=Me.value;try{$e(W,ie)}catch(Ve){}}}catch(Ve){G={error:Ve}}finally{try{Me&&!Me.done&&(X=Ie.return)&&X.call(Ie)}finally{if(G)throw G.error}}},re.prototype.getOrInitializeService=function(W){var ie=W.instanceIdentifier,G=W.options,X=void 0===G?{}:G,ce=this.instances.get(ie);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:ae(ie),options:X}),this.instances.set(ie,ce),this.invokeOnInitCallbacks(ce,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,ce)}catch(Ie){}return ce||null},re.prototype.normalizeInstanceIdentifier=function(W){return void 0===W&&(W=se),this.component?this.component.multipleInstances?W:se:W},re.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},re}();function ae(re){return re===se?void 0:re}var he=function(){function re(W){this.name=W,this.providers=new Map}return re.prototype.addComponent=function(W){var ie=this.getProvider(W.name);if(ie.isComponentSet())throw new Error("Component "+W.name+" has already been registered with "+this.name);ie.setComponent(W)},re.prototype.addOrOverwriteComponent=function(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)},re.prototype.getProvider=function(W){if(this.providers.has(W))return this.providers.get(W);var ie=new Ee(W,this);return this.providers.set(W,ie),ie},re.prototype.getProviders=function(){return Array.from(this.providers.values())},re}()},9192:(rt,ke,Y)=>{"use strict";var p=Y(9759),fe=Y(6034),P=Y(4685),se=Y(4762),Ee=Y(300);rt=Y.hmd(rt);var he="";function re(f){he=f}var f,W=function(){function f(d){this.domStorage_=d,this.prefix_="firebase:"}return f.prototype.set=function(d,y){null==y?this.domStorage_.removeItem(this.prefixedName_(d)):this.domStorage_.setItem(this.prefixedName_(d),(0,P.Pz)(y))},f.prototype.get=function(d){var y=this.domStorage_.getItem(this.prefixedName_(d));return null==y?null:(0,P.cI)(y)},f.prototype.remove=function(d){this.domStorage_.removeItem(this.prefixedName_(d))},f.prototype.prefixedName_=function(d){return this.prefix_+d},f.prototype.toString=function(){return this.domStorage_.toString()},f}(),ie=function(){function f(){this.cache_={},this.isInMemoryStorage=!0}return f.prototype.set=function(d,y){null==y?delete this.cache_[d]:this.cache_[d]=y},f.prototype.get=function(d){return(0,P.r3)(this.cache_,d)?this.cache_[d]:null},f.prototype.remove=function(d){delete this.cache_[d]},f}(),G=function(f){try{if("undefined"!=typeof window&&void 0!==window[f]){var d=window[f];return d.setItem("firebase:sentinel","cache"),d.removeItem("firebase:sentinel"),new W(d)}}catch(y){}return new ie},X=G("localStorage"),ce=G("sessionStorage"),Ie=new Ee.Yd("@firebase/database"),Me=(f=1,function(){return f++}),$e=function(f){var d=(0,P.dS)(f),y=new P.gQ;y.update(d);var b=y.digest();return P.US.encodeByteArray(b)},Ve=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];for(var y="",b=0;b<f.length;b++){var D=f[b];Array.isArray(D)||D&&"object"==typeof D&&"number"==typeof D.length?y+=Ve.apply(null,D):y+="object"==typeof D?(0,P.Pz)(D):D,y+=" "}return y},He=null,$t=!0,xn=function(f,d){(0,P.hu)(!d||!0===f||!1===f,"Can't turn on custom loggers persistently."),!0===f?(Ie.logLevel=Ee.in.VERBOSE,He=Ie.log.bind(Ie),d&&ce.set("logging_enabled",!0)):"function"==typeof f?He=f:(He=null,ce.remove("logging_enabled"))},ut=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];if(!0===$t&&($t=!1,null===He&&!0===ce.get("logging_enabled")&&xn(!0)),He){var y=Ve.apply(null,f);He(y)}},on=function(f){return function(){for(var d=[],y=0;y<arguments.length;y++)d[y]=arguments[y];ut.apply(void 0,(0,se.ev)([f],(0,se.CR)(d)))}},yn=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var y="FIREBASE INTERNAL ERROR: "+Ve.apply(void 0,(0,se.ev)([],(0,se.CR)(f)));Ie.error(y)},Qt=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var y="FIREBASE FATAL ERROR: "+Ve.apply(void 0,(0,se.ev)([],(0,se.CR)(f)));throw Ie.error(y),new Error(y)},Zt=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var y="FIREBASE WARNING: "+Ve.apply(void 0,(0,se.ev)([],(0,se.CR)(f)));Ie.warn(y)},be=function(f){return"number"==typeof f&&(f!=f||f===Number.POSITIVE_INFINITY||f===Number.NEGATIVE_INFINITY)},ve="[MIN_NAME]",Re="[MAX_NAME]",De=function(f,d){if(f===d)return 0;if(f===ve||d===Re)return-1;if(d===ve||f===Re)return 1;var y=On(f),b=On(d);return null!==y?null!==b?y-b==0?f.length-d.length:y-b:-1:null!==b?1:f<d?-1:1},gt=function(f,d){return f===d?0:f<d?-1:1},mt=function(f,d){if(d&&f in d)return d[f];throw new Error("Missing required key ("+f+") in object: "+(0,P.Pz)(d))},_n=function(f){if("object"!=typeof f||null===f)return(0,P.Pz)(f);var d=[];for(var y in f)d.push(y);d.sort();for(var b="{",D=0;D<d.length;D++)0!==D&&(b+=","),b+=(0,P.Pz)(d[D]),b+=":",b+=_n(f[d[D]]);return b+"}"},lt=function(f,d){var y=f.length;if(y<=d)return[f];for(var b=[],D=0;D<y;D+=d)b.push(f.substring(D,D+d>y?y:D+d));return b};function ct(f,d){for(var y in f)f.hasOwnProperty(y)&&d(y,f[y])}var Je=function(f){(0,P.hu)(!be(f),"Invalid JSON number");var D,I,O,L,B,b=1023;0===f?(I=0,O=0,D=1/f==-1/0?1:0):(D=f<0,(f=Math.abs(f))>=Math.pow(2,1-b)?(I=(L=Math.min(Math.floor(Math.log(f)/Math.LN2),b))+b,O=Math.round(f*Math.pow(2,52-L)-Math.pow(2,52))):(I=0,O=Math.round(f/Math.pow(2,-1074))));var $=[];for(B=52;B;B-=1)$.push(O%2?1:0),O=Math.floor(O/2);for(B=11;B;B-=1)$.push(I%2?1:0),I=Math.floor(I/2);$.push(D?1:0),$.reverse();var K=$.join(""),me="";for(B=0;B<64;B+=8){var xe=parseInt(K.substr(B,8),2).toString(16);1===xe.length&&(xe="0"+xe),me+=xe}return me.toLowerCase()},Jt=new RegExp("^-?(0*)\\d{1,10}$"),di=-2147483648,Wt=2147483647,On=function(f){if(Jt.test(f)){var d=Number(f);if(d>=di&&d<=Wt)return d}return null},an=function(f){try{f()}catch(d){setTimeout(function(){throw Zt("Exception was thrown by user callback.",d.stack||""),d},Math.floor(0))}},$i=function(f,d){var y=setTimeout(f,d);return"object"==typeof y&&y.unref&&y.unref(),y},Wi=function(){function f(d,y){var b=this;this.appName_=d,this.appCheckProvider=y,this.appCheck=null==y?void 0:y.getImmediate({optional:!0}),this.appCheck||null==y||y.get().then(function(D){return b.appCheck=D})}return f.prototype.getToken=function(d){var y=this;return this.appCheck?this.appCheck.getToken(d):new Promise(function(b,D){setTimeout(function(){y.appCheck?y.getToken(d).then(b,D):b(null)},0)})},f.prototype.addTokenChangeListener=function(d){var y;null===(y=this.appCheckProvider)||void 0===y||y.get().then(function(b){return b.addTokenListener(d)})},f.prototype.notifyForInvalidToken=function(){Zt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},f}(),jt=function(){function f(d,y,b){var D=this;this.appName_=d,this.firebaseOptions_=y,this.authProvider_=b,this.auth_=null,this.auth_=b.getImmediate({optional:!0}),this.auth_||b.onInit(function(I){return D.auth_=I})}return f.prototype.getToken=function(d){var y=this;return this.auth_?this.auth_.getToken(d).catch(function(b){return b&&"auth/token-not-initialized"===b.code?(ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(b)}):new Promise(function(b,D){setTimeout(function(){y.auth_?y.getToken(d).then(b,D):b(null)},0)})},f.prototype.addTokenChangeListener=function(d){this.auth_?this.auth_.addAuthTokenListener(d):this.authProvider_.get().then(function(y){return y.addAuthTokenListener(d)})},f.prototype.removeTokenChangeListener=function(d){this.authProvider_.get().then(function(y){return y.removeAuthTokenListener(d)})},f.prototype.notifyForInvalidToken=function(){var d='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';Zt(d+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},f}(),Mt=function(){function f(d){this.accessToken=d}return f.prototype.getToken=function(d){return Promise.resolve({accessToken:this.accessToken})},f.prototype.addTokenChangeListener=function(d){d(this.accessToken)},f.prototype.removeTokenChangeListener=function(d){},f.prototype.notifyForInvalidToken=function(){},f.OWNER="owner",f}(),Pn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Xn="websocket",pl="long_polling",Un=function(){function f(d,y,b,D,I,O,L){void 0===I&&(I=!1),void 0===O&&(O=""),void 0===L&&(L=!1),this.secure=y,this.namespace=b,this.webSocketOnly=D,this.nodeAdmin=I,this.persistenceKey=O,this.includeNamespaceInQueryParams=L,this._host=d.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=X.get("host:"+d)||this._host}return f.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},f.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(f.prototype,"host",{get:function(){return this._host},set:function(d){d!==this.internalHost&&(this.internalHost=d,this.isCacheableHost()&&X.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),f.prototype.toString=function(){var d=this.toURLString();return this.persistenceKey&&(d+="<"+this.persistenceKey+">"),d},f.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},f}();function At(f,d,y){var b;if((0,P.hu)("string"==typeof d,"typeof type must == string"),(0,P.hu)("object"==typeof y,"typeof params must == object"),d===Xn)b=(f.secure?"wss://":"ws://")+f.internalHost+"/.ws?";else{if(d!==pl)throw new Error("Unknown connection type: "+d);b=(f.secure?"https://":"http://")+f.internalHost+"/.lp?"}(function(f){return f.host!==f.internalHost||f.isCustomHost()||f.includeNamespaceInQueryParams})(f)&&(y.ns=f.namespace);var D=[];return ct(y,function(I,O){D.push(I+"="+O)}),b+D.join("&")}var gl=function(){function f(){this.counters_={}}return f.prototype.incrementCounter=function(d,y){void 0===y&&(y=1),(0,P.r3)(this.counters_,d)||(this.counters_[d]=0),this.counters_[d]+=y},f.prototype.get=function(){return(0,P.p$)(this.counters_)},f}(),To={},Sr={};function sn(f){var d=f.toString();return To[d]||(To[d]=new gl),To[d]}var ne=function(){function f(d){this.onMessage_=d,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return f.prototype.closeAfter=function(d,y){this.closeAfterResponse=d,this.onClose=y,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},f.prototype.handleResponse=function(d,y){var b=this;this.pendingResponses[d]=y;for(var D=function(){var L=I.pendingResponses[I.currentResponseNum];delete I.pendingResponses[I.currentResponseNum];for(var B=function(K){L[K]&&an(function(){b.onMessage_(L[K])})},$=0;$<L.length;++$)B($);if(I.currentResponseNum===I.closeAfterResponse)return I.onClose&&(I.onClose(),I.onClose=null),"break";I.currentResponseNum++},I=this;this.pendingResponses[this.currentResponseNum]&&"break"!==D(););},f}(),hu=function(){function f(d,y,b,D,I,O,L){var B=this;this.connId=d,this.repoInfo=y,this.applicationId=b,this.appCheckToken=D,this.authToken=I,this.transportSessionId=O,this.lastSessionId=L,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=on(d),this.stats_=sn(y),this.urlFn=function($){return B.appCheckToken&&($.ac=B.appCheckToken),At(y,pl,$)}}return f.prototype.open=function(d,y){var b=this;this.curSegmentNum=0,this.onDisconnect_=y,this.myPacketOrderer=new ne(d),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){b.log_("Timed out trying to connect."),b.onClosed_(),b.connectTimeoutTimer_=null},Math.floor(3e4)),function(f){if((0,P.Yr)()||"complete"===document.readyState)f();else{var d=!1,y=function(){document.body?d||(d=!0,f()):setTimeout(y,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",y,!1),window.addEventListener("load",y,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&y()}),window.attachEvent("onload",y))}}(function(){if(!b.isClosed_){b.scriptTagHolder=new yl(function(){for(var O=[],L=0;L<arguments.length;L++)O[L]=arguments[L];var B=(0,se.CR)(O,5),$=B[0],K=B[1],me=B[2];if(b.incrementIncomingBytes_(O),b.scriptTagHolder)if(b.connectTimeoutTimer_&&(clearTimeout(b.connectTimeoutTimer_),b.connectTimeoutTimer_=null),b.everConnected_=!0,"start"===$)b.id=K,b.password=me;else{if("close"!==$)throw new Error("Unrecognized command received: "+$);K?(b.scriptTagHolder.sendNewPolls=!1,b.myPacketOrderer.closeAfter(K,function(){b.onClosed_()})):b.onClosed_()}},function(){for(var O=[],L=0;L<arguments.length;L++)O[L]=arguments[L];var B=(0,se.CR)(O,2),$=B[0],K=B[1];b.incrementIncomingBytes_(O),b.myPacketOrderer.handleResponse($,K)},function(){b.onClosed_()},b.urlFn);var D={start:"t"};D.ser=Math.floor(1e8*Math.random()),b.scriptTagHolder.uniqueCallbackIdentifier&&(D.cb=b.scriptTagHolder.uniqueCallbackIdentifier),D.v="5",b.transportSessionId&&(D.s=b.transportSessionId),b.lastSessionId&&(D.ls=b.lastSessionId),b.applicationId&&(D.p=b.applicationId),b.appCheckToken&&(D.ac=b.appCheckToken),"undefined"!=typeof location&&location.hostname&&Pn.test(location.hostname)&&(D.r="f");var I=b.urlFn(D);b.log_("Connecting via long-poll to "+I),b.scriptTagHolder.addTag(I,function(){})}})},f.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},f.forceAllow=function(){f.forceAllow_=!0},f.forceDisallow=function(){f.forceDisallow_=!0},f.isAvailable=function(){return!((0,P.Yr)()||!f.forceAllow_&&(f.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},f.prototype.markConnectionHealthy=function(){},f.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},f.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},f.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},f.prototype.send=function(d){var y=(0,P.Pz)(d);this.bytesSent+=y.length,this.stats_.incrementCounter("bytes_sent",y.length);for(var b=(0,P.h$)(y),D=lt(b,1840),I=0;I<D.length;I++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,D.length,D[I]),this.curSegmentNum++},f.prototype.addDisconnectPingFrame=function(d,y){if(!(0,P.Yr)()){this.myDisconnFrame=document.createElement("iframe");var b={dframe:"t"};b.id=d,b.pw=y,this.myDisconnFrame.src=this.urlFn(b),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},f.prototype.incrementIncomingBytes_=function(d){var y=(0,P.Pz)(d).length;this.bytesReceived+=y,this.stats_.incrementCounter("bytes_received",y)},f}(),yl=function(){function f(d,y,b,D){if(this.onDisconnect=b,this.urlFn=D,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,P.Yr)())this.commandCB=d,this.onMessageCB=y;else{this.uniqueCallbackIdentifier=Me(),window["pLPCommand"+this.uniqueCallbackIdentifier]=d,window["pRTLPCB"+this.uniqueCallbackIdentifier]=y,this.myIFrame=f.createIFrame_();var I="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(I='<script>document.domain="'+document.domain+'";<\/script>');var L="<html><body>"+I+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(L),this.myIFrame.doc.close()}catch(B){ut("frame writing exception"),B.stack&&ut(B.stack),ut(B)}}}return f.createIFrame_=function(){var d=document.createElement("iframe");if(d.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(d);try{d.contentWindow.document||ut("No IE domain setting required")}catch(D){var b=document.domain;d.src="javascript:void((function(){document.open();document.domain='"+b+"';document.close();})())"}return d.contentDocument?d.doc=d.contentDocument:d.contentWindow?d.doc=d.contentWindow.document:d.document&&(d.doc=d.document),d},f.prototype.close=function(){var d=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==d.myIFrame&&(document.body.removeChild(d.myIFrame),d.myIFrame=null)},Math.floor(0)));var y=this.onDisconnect;y&&(this.onDisconnect=null,y())},f.prototype.startLongPoll=function(d,y){for(this.myID=d,this.myPW=y,this.alive=!0;this.newRequest_(););},f.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var d={};d.id=this.myID,d.pw=this.myPW,d.ser=this.currentSerial;for(var y=this.urlFn(d),b="",D=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+b.length<=1870;){var O=this.pendingSegs.shift();b=b+"&seg"+D+"="+O.seg+"&ts"+D+"="+O.ts+"&d"+D+"="+O.d,D++}return this.addLongPollTag_(y+=b,this.currentSerial),!0}return!1},f.prototype.enqueueSegment=function(d,y,b){this.pendingSegs.push({seg:d,ts:y,d:b}),this.alive&&this.newRequest_()},f.prototype.addLongPollTag_=function(d,y){var b=this;this.outstandingRequests.add(y);var D=function(){b.outstandingRequests.delete(y),b.newRequest_()},I=setTimeout(D,Math.floor(25e3));this.addTag(d,function(){clearTimeout(I),D()})},f.prototype.addTag=function(d,y){var b=this;(0,P.Yr)()?this.doNodeLongPoll(d,y):setTimeout(function(){try{if(!b.sendNewPolls)return;var D=b.myIFrame.doc.createElement("script");D.type="text/javascript",D.async=!0,D.src=d,D.onload=D.onreadystatechange=function(){var I=D.readyState;(!I||"loaded"===I||"complete"===I)&&(D.onload=D.onreadystatechange=null,D.parentNode&&D.parentNode.removeChild(D),y())},D.onerror=function(){ut("Long-poll script failed to load: "+d),b.sendNewPolls=!1,b.close()},b.myIFrame.doc.body.appendChild(D)}catch(I){}},Math.floor(1))},f}(),Lr=null;"undefined"!=typeof MozWebSocket?Lr=MozWebSocket:"undefined"!=typeof WebSocket&&(Lr=WebSocket);var sr=function(){function f(d,y,b,D,I,O,L){this.connId=d,this.applicationId=b,this.appCheckToken=D,this.authToken=I,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=on(this.connId),this.stats_=sn(y),this.connURL=f.connectionURL_(y,O,L,D),this.nodeAdmin=y.nodeAdmin}return f.connectionURL_=function(d,y,b,D){var I={v:"5"};return!(0,P.Yr)()&&"undefined"!=typeof location&&location.hostname&&Pn.test(location.hostname)&&(I.r="f"),y&&(I.s=y),b&&(I.ls=b),D&&(I.ac=D),At(d,Xn,I)},f.prototype.open=function(d,y){var b=this;this.onDisconnect=y,this.onMessage=d,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,X.set("previous_websocket_failure",!0);try{if((0,P.Yr)()){var I={headers:{"User-Agent":"Firebase/5/"+he+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(I.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(I.headers["X-Firebase-AppCheck"]=this.appCheckToken);var O=process.env,L=0===this.connURL.indexOf("wss://")?O.HTTPS_PROXY||O.https_proxy:O.HTTP_PROXY||O.http_proxy;L&&(I.proxy={origin:L}),this.mySock=new Lr(this.connURL,[],I)}else this.mySock=new Lr(this.connURL,[],I={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch($){this.log_("Error instantiating WebSocket.");var B=$.message||$.data;return B&&this.log_(B),void this.onClosed_()}this.mySock.onopen=function(){b.log_("Websocket connected."),b.everConnected_=!0},this.mySock.onclose=function(){b.log_("Websocket connection was disconnected."),b.mySock=null,b.onClosed_()},this.mySock.onmessage=function($){b.handleIncomingFrame($)},this.mySock.onerror=function($){b.log_("WebSocket error.  Closing connection.");var K=$.message||$.data;K&&b.log_(K),b.onClosed_()}},f.prototype.start=function(){},f.forceDisallow=function(){f.forceDisallow_=!0},f.isAvailable=function(){var d=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&b.length>1&&parseFloat(b[1])<4.4&&(d=!0)}return!d&&null!==Lr&&!f.forceDisallow_},f.previouslyFailed=function(){return X.isInMemoryStorage||!0===X.get("previous_websocket_failure")},f.prototype.markConnectionHealthy=function(){X.remove("previous_websocket_failure")},f.prototype.appendFrame_=function(d){if(this.frames.push(d),this.frames.length===this.totalFrames){var y=this.frames.join("");this.frames=null;var b=(0,P.cI)(y);this.onMessage(b)}},f.prototype.handleNewFrameCount_=function(d){this.totalFrames=d,this.frames=[]},f.prototype.extractFrameCount_=function(d){if((0,P.hu)(null===this.frames,"We already have a frame buffer"),d.length<=6){var y=Number(d);if(!isNaN(y))return this.handleNewFrameCount_(y),null}return this.handleNewFrameCount_(1),d},f.prototype.handleIncomingFrame=function(d){if(null!==this.mySock){var y=d.data;if(this.bytesReceived+=y.length,this.stats_.incrementCounter("bytes_received",y.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(y);else{var b=this.extractFrameCount_(y);null!==b&&this.appendFrame_(b)}}},f.prototype.send=function(d){this.resetKeepAlive();var y=(0,P.Pz)(d);this.bytesSent+=y.length,this.stats_.incrementCounter("bytes_sent",y.length);var b=lt(y,16384);b.length>1&&this.sendString_(String(b.length));for(var D=0;D<b.length;D++)this.sendString_(b[D])},f.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},f.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},f.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},f.prototype.resetKeepAlive=function(){var d=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){d.mySock&&d.sendString_("0"),d.resetKeepAlive()},Math.floor(45e3))},f.prototype.sendString_=function(d){try{this.mySock.send(d)}catch(y){this.log_("Exception thrown from WebSocket.send():",y.message||y.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},f.responsesRequiredToBeHealthy=2,f.healthyTimeout=3e4,f}(),pi=function(){function f(d){this.initTransports_(d)}return Object.defineProperty(f,"ALL_TRANSPORTS",{get:function(){return[hu,sr]},enumerable:!1,configurable:!0}),f.prototype.initTransports_=function(d){var y,b,D=sr&&sr.isAvailable(),I=D&&!sr.previouslyFailed();if(d.webSocketOnly&&(D||Zt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),I=!0),I)this.transports_=[sr];else{var O=this.transports_=[];try{for(var L=(0,se.XA)(f.ALL_TRANSPORTS),B=L.next();!B.done;B=L.next()){var $=B.value;$&&$.isAvailable()&&O.push($)}}catch(K){y={error:K}}finally{try{B&&!B.done&&(b=L.return)&&b.call(L)}finally{if(y)throw y.error}}}},f.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},f.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},f}(),ri=function(){function f(d,y,b,D,I,O,L,B,$,K){this.id=d,this.repoInfo_=y,this.applicationId_=b,this.appCheckToken_=D,this.authToken_=I,this.onMessage_=O,this.onReady_=L,this.onDisconnect_=B,this.onKill_=$,this.lastSessionId=K,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=on("c:"+this.id+":"),this.transportManager_=new pi(y),this.log_("Connection created"),this.start_()}return f.prototype.start_=function(){var d=this,y=this.transportManager_.initialTransport();this.conn_=new y(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=y.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.conn_),D=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){d.conn_&&d.conn_.open(b,D)},Math.floor(0));var I=y.healthyTimeout||0;I>0&&(this.healthyTimeout_=$i(function(){d.healthyTimeout_=null,d.isHealthy_||(d.conn_&&d.conn_.bytesReceived>102400?(d.log_("Connection exceeded healthy timeout but has received "+d.conn_.bytesReceived+" bytes.  Marking connection healthy."),d.isHealthy_=!0,d.conn_.markConnectionHealthy()):d.conn_&&d.conn_.bytesSent>10240?d.log_("Connection exceeded healthy timeout but has sent "+d.conn_.bytesSent+" bytes.  Leaving connection alive."):(d.log_("Closing unhealthy connection after timeout."),d.close()))},Math.floor(I)))},f.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},f.prototype.disconnReceiver_=function(d){var y=this;return function(b){d===y.conn_?y.onConnectionLost_(b):d===y.secondaryConn_?(y.log_("Secondary connection lost."),y.onSecondaryConnectionLost_()):y.log_("closing an old connection")}},f.prototype.connReceiver_=function(d){var y=this;return function(b){2!==y.state_&&(d===y.rx_?y.onPrimaryMessageReceived_(b):d===y.secondaryConn_?y.onSecondaryMessageReceived_(b):y.log_("message on old connection"))}},f.prototype.sendRequest=function(d){this.sendData_({t:"d",d})},f.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},f.prototype.onSecondaryControl_=function(d){if("t"in d){var y=d.t;"a"===y?this.upgradeIfSecondaryHealthy_():"r"===y?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===y&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},f.prototype.onSecondaryMessageReceived_=function(d){var y=mt("t",d),b=mt("d",d);if("c"===y)this.onSecondaryControl_(b);else{if("d"!==y)throw new Error("Unknown protocol layer: "+y);this.pendingDataMessages.push(b)}},f.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},f.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},f.prototype.onPrimaryMessageReceived_=function(d){var y=mt("t",d),b=mt("d",d);"c"===y?this.onControl_(b):"d"===y&&this.onDataMessage_(b)},f.prototype.onDataMessage_=function(d){this.onPrimaryResponse_(),this.onMessage_(d)},f.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},f.prototype.onControl_=function(d){var y=mt("t",d);if("d"in d){var b=d.d;if("h"===y)this.onHandshake_(b);else if("n"===y){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var D=0;D<this.pendingDataMessages.length;++D)this.onDataMessage_(this.pendingDataMessages[D]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===y?this.onConnectionShutdown_(b):"r"===y?this.onReset_(b):"e"===y?yn("Server Error: "+b):"o"===y?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yn("Unknown control packet command: "+y)}},f.prototype.onHandshake_=function(d){var y=d.ts,b=d.v,D=d.h;this.sessionId=d.s,this.repoInfo_.host=D,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,y),"5"!==b&&Zt("Protocol version mismatch detected"),this.tryStartUpgrade_())},f.prototype.tryStartUpgrade_=function(){var d=this.transportManager_.upgradeTransport();d&&this.startUpgrade_(d)},f.prototype.startUpgrade_=function(d){var y=this;this.secondaryConn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.secondaryConn_),D=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(b,D),$i(function(){y.secondaryConn_&&(y.log_("Timed out trying to upgrade."),y.secondaryConn_.close())},Math.floor(6e4))},f.prototype.onReset_=function(d){this.log_("Reset packet received.  New host: "+d),this.repoInfo_.host=d,1===this.state_?this.close():(this.closeConnections_(),this.start_())},f.prototype.onConnectionEstablished_=function(d,y){var b=this;this.log_("Realtime connection established."),this.conn_=d,this.state_=1,this.onReady_&&(this.onReady_(y,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$i(function(){b.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},f.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},f.prototype.onSecondaryConnectionLost_=function(){var d=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===d||this.rx_===d)&&this.close()},f.prototype.onConnectionLost_=function(d){this.conn_=null,d||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(X.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},f.prototype.onConnectionShutdown_=function(d){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(d),this.onKill_=null),this.onDisconnect_=null,this.close()},f.prototype.sendData_=function(d){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(d)},f.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},f.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},f}(),Mi=function(){function f(){}return f.prototype.put=function(d,y,b,D){},f.prototype.merge=function(d,y,b,D){},f.prototype.refreshAuthToken=function(d){},f.prototype.refreshAppCheckToken=function(d){},f.prototype.onDisconnectPut=function(d,y,b){},f.prototype.onDisconnectMerge=function(d,y,b){},f.prototype.onDisconnectCancel=function(d,y){},f.prototype.reportStats=function(d){},f}(),$r=function(){function f(d){this.allowedEvents_=d,this.listeners_={},(0,P.hu)(Array.isArray(d)&&d.length>0,"Requires a non-empty array")}return f.prototype.trigger=function(d){for(var y=[],b=1;b<arguments.length;b++)y[b-1]=arguments[b];if(Array.isArray(this.listeners_[d]))for(var D=(0,se.ev)([],(0,se.CR)(this.listeners_[d])),I=0;I<D.length;I++)D[I].callback.apply(D[I].context,y)},f.prototype.on=function(d,y,b){this.validateEventType_(d),this.listeners_[d]=this.listeners_[d]||[],this.listeners_[d].push({callback:y,context:b});var D=this.getInitialEvent(d);D&&y.apply(b,D)},f.prototype.off=function(d,y,b){this.validateEventType_(d);for(var D=this.listeners_[d]||[],I=0;I<D.length;I++)if(D[I].callback===y&&(!b||b===D[I].context))return void D.splice(I,1)},f.prototype.validateEventType_=function(d){(0,P.hu)(this.allowedEvents_.find(function(y){return y===d}),"Unknown event: "+d)},f}(),Kn=function(f){function d(){var y=f.call(this,["online"])||this;return y.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,P.uI)()&&(window.addEventListener("online",function(){y.online_||(y.online_=!0,y.trigger("online",!0))},!1),window.addEventListener("offline",function(){y.online_&&(y.online_=!1,y.trigger("online",!1))},!1)),y}return(0,se.ZT)(d,f),d.getInstance=function(){return new d},d.prototype.getInitialEvent=function(y){return(0,P.hu)("online"===y,"Unknown event type: "+y),[this.online_]},d.prototype.currentlyOnline=function(){return this.online_},d}($r),Lt=function(){function f(d,y){if(void 0===y){this.pieces_=d.split("/");for(var b=0,D=0;D<this.pieces_.length;D++)this.pieces_[D].length>0&&(this.pieces_[b]=this.pieces_[D],b++);this.pieces_.length=b,this.pieceNum_=0}else this.pieces_=d,this.pieceNum_=y}return f.prototype.toString=function(){for(var d="",y=this.pieceNum_;y<this.pieces_.length;y++)""!==this.pieces_[y]&&(d+="/"+this.pieces_[y]);return d||"/"},f}();function at(){return new Lt("")}function xt(f){return f.pieceNum_>=f.pieces_.length?null:f.pieces_[f.pieceNum_]}function ur(f){return f.pieces_.length-f.pieceNum_}function Yt(f){var d=f.pieceNum_;return d<f.pieces_.length&&d++,new Lt(f.pieces_,d)}function ns(f){return f.pieceNum_<f.pieces_.length?f.pieces_[f.pieces_.length-1]:null}function mi(f,d){return void 0===d&&(d=0),f.pieces_.slice(f.pieceNum_+d)}function ii(f){if(f.pieceNum_>=f.pieces_.length)return null;for(var d=[],y=f.pieceNum_;y<f.pieces_.length-1;y++)d.push(f.pieces_[y]);return new Lt(d,0)}function Ot(f,d){for(var y=[],b=f.pieceNum_;b<f.pieces_.length;b++)y.push(f.pieces_[b]);if(d instanceof Lt)for(b=d.pieceNum_;b<d.pieces_.length;b++)y.push(d.pieces_[b]);else{var D=d.split("/");for(b=0;b<D.length;b++)D[b].length>0&&y.push(D[b])}return new Lt(y,0)}function It(f){return f.pieceNum_>=f.pieces_.length}function Fn(f,d){var y=xt(f),b=xt(d);if(null===y)return d;if(y===b)return Fn(Yt(f),Yt(d));throw new Error("INTERNAL ERROR: innerPath ("+d+") is not within outerPath ("+f+")")}function oi(f,d){for(var y=mi(f,0),b=mi(d,0),D=0;D<y.length&&D<b.length;D++){var I=De(y[D],b[D]);if(0!==I)return I}return y.length===b.length?0:y.length<b.length?-1:1}function rs(f,d){if(ur(f)!==ur(d))return!1;for(var y=f.pieceNum_,b=d.pieceNum_;y<=f.pieces_.length;y++,b++)if(f.pieces_[y]!==d.pieces_[b])return!1;return!0}function _r(f,d){var y=f.pieceNum_,b=d.pieceNum_;if(ur(f)>ur(d))return!1;for(;y<f.pieces_.length;){if(f.pieces_[y]!==d.pieces_[b])return!1;++y,++b}return!0}var du=function(d,y){this.errorPrefix_=y,this.parts_=mi(d,0),this.byteLength_=Math.max(1,this.parts_.length);for(var b=0;b<this.parts_.length;b++)this.byteLength_+=(0,P.ug)(this.parts_[b]);H(this)};function H(f){if(f.byteLength_>768)throw new Error(f.errorPrefix_+"has a key path longer than 768 bytes ("+f.byteLength_+").");if(f.parts_.length>32)throw new Error(f.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+J(f))}function J(f){return 0===f.parts_.length?"":"in property '"+f.parts_.join(".")+"'"}var Rd,kd,we=function(f){function d(){var b,D,y=f.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(D="visibilitychange",b="hidden"):void 0!==document.mozHidden?(D="mozvisibilitychange",b="mozHidden"):void 0!==document.msHidden?(D="msvisibilitychange",b="msHidden"):void 0!==document.webkitHidden&&(D="webkitvisibilitychange",b="webkitHidden")),y.visible_=!0,D&&document.addEventListener(D,function(){var I=!document[b];I!==y.visible_&&(y.visible_=I,y.trigger("visible",I))},!1),y}return(0,se.ZT)(d,f),d.getInstance=function(){return new d},d.prototype.getInitialEvent=function(y){return(0,P.hu)("visible"===y,"Unknown event type: "+y),[this.visible_]},d}($r),Fe=1e3,fu=function(f){function d(y,b,D,I,O,L,B,$){var K=f.call(this)||this;if(K.repoInfo_=y,K.applicationId_=b,K.onDataUpdate_=D,K.onConnectStatus_=I,K.onServerInfoUpdate_=O,K.authTokenProvider_=L,K.appCheckTokenProvider_=B,K.authOverride_=$,K.id=d.nextPersistentConnectionId_++,K.log_=on("p:"+K.id+":"),K.interruptReasons_={},K.listens=new Map,K.outstandingPuts_=[],K.outstandingGets_=[],K.outstandingPutCount_=0,K.outstandingGetCount_=0,K.onDisconnectRequestQueue_=[],K.connected_=!1,K.reconnectDelay_=Fe,K.maxReconnectDelay_=3e5,K.securityDebugCallback_=null,K.lastSessionId=null,K.establishConnectionTimer_=null,K.visible_=!1,K.requestCBHash_={},K.requestNumber_=0,K.realtime_=null,K.authToken_=null,K.appCheckToken_=null,K.forceTokenRefresh_=!1,K.invalidAuthTokenCount_=0,K.invalidAppCheckTokenCount_=0,K.firstConnection_=!0,K.lastConnectionAttemptTime_=null,K.lastConnectionEstablishedTime_=null,$&&!(0,P.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return we.getInstance().on("visible",K.onVisible_,K),-1===y.host.indexOf("fblocal")&&Kn.getInstance().on("online",K.onOnline_,K),K}return(0,se.ZT)(d,f),d.prototype.sendRequest=function(y,b,D){var I=++this.requestNumber_,O={r:I,a:y,b};this.log_((0,P.Pz)(O)),(0,P.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(O),D&&(this.requestCBHash_[I]=D)},d.prototype.get=function(y){var b=this;this.initConnection_();var D=new P.BH,I={p:y._path.toString(),q:y._queryObject},O={action:"g",request:I,onComplete:function(B){var $=B.d;"ok"===B.s?(b.onDataUpdate_(I.p,$,!1,null),D.resolve($)):D.reject($)}};this.outstandingGets_.push(O),this.outstandingGetCount_++;var L=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var B=b.outstandingGets_[L];void 0===B||O!==B||(delete b.outstandingGets_[L],b.outstandingGetCount_--,0===b.outstandingGetCount_&&(b.outstandingGets_=[]),b.log_("get "+L+" timed out on connection"),D.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(L),D.promise},d.prototype.listen=function(y,b,D,I){this.initConnection_();var O=y._queryIdentifier,L=y._path.toString();this.log_("Listen called for "+L+" "+O),this.listens.has(L)||this.listens.set(L,new Map),(0,P.hu)(y._queryParams.isDefault()||!y._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,P.hu)(!this.listens.get(L).has(O),"listen() called twice for same path/queryId.");var B={onComplete:I,hashFn:b,query:y,tag:D};this.listens.get(L).set(O,B),this.connected_&&this.sendListen_(B)},d.prototype.sendGet_=function(y){var b=this,D=this.outstandingGets_[y];this.sendRequest("g",D.request,function(I){delete b.outstandingGets_[y],b.outstandingGetCount_--,0===b.outstandingGetCount_&&(b.outstandingGets_=[]),D.onComplete&&D.onComplete(I)})},d.prototype.sendListen_=function(y){var b=this,D=y.query,I=D._path.toString(),O=D._queryIdentifier;this.log_("Listen on "+I+" for "+O);var L={p:I};y.tag&&(L.q=D._queryObject,L.t=y.tag),L.h=y.hashFn(),this.sendRequest("q",L,function($){var K=$.d,me=$.s;d.warnOnListenWarnings_(K,D),(b.listens.get(I)&&b.listens.get(I).get(O))===y&&(b.log_("listen response",$),"ok"!==me&&b.removeListen_(I,O),y.onComplete&&y.onComplete(me,K))})},d.warnOnListenWarnings_=function(y,b){if(y&&"object"==typeof y&&(0,P.r3)(y,"w")){var D=(0,P.DV)(y,"w");if(Array.isArray(D)&&~D.indexOf("no_index")){var I='".indexOn": "'+b._queryParams.getIndex().toString()+'"',O=b._path.toString();Zt("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+I+" at "+O+" to your security rules for better performance.")}}},d.prototype.refreshAuthToken=function(y){this.authToken_=y,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(y)},d.prototype.reduceReconnectDelayIfAdminCredential_=function(y){(y&&40===y.length||(0,P.GJ)(y))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},d.prototype.refreshAppCheckToken=function(y){this.appCheckToken_=y,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},d.prototype.tryAuth=function(){var y=this;if(this.connected_&&this.authToken_){var b=this.authToken_,D=(0,P.w9)(b)?"auth":"gauth",I={cred:b};null===this.authOverride_?I.noauth=!0:"object"==typeof this.authOverride_&&(I.authvar=this.authOverride_),this.sendRequest(D,I,function(O){var L=O.s,B=O.d||"error";y.authToken_===b&&("ok"===L?y.invalidAuthTokenCount_=0:y.onAuthRevoked_(L,B))})}},d.prototype.tryAppCheck=function(){var y=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(b){var D=b.s,I=b.d||"error";"ok"===D?y.invalidAppCheckTokenCount_=0:y.onAppCheckRevoked_(D,I)})},d.prototype.unlisten=function(y,b){var D=y._path.toString(),I=y._queryIdentifier;this.log_("Unlisten called for "+D+" "+I),(0,P.hu)(y._queryParams.isDefault()||!y._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(D,I)&&this.connected_&&this.sendUnlisten_(D,I,y._queryObject,b)},d.prototype.sendUnlisten_=function(y,b,D,I){this.log_("Unlisten on "+y+" for "+b);var O={p:y};I&&(O.q=D,O.t=I),this.sendRequest("n",O)},d.prototype.onDisconnectPut=function(y,b,D){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",y,b,D):this.onDisconnectRequestQueue_.push({pathString:y,action:"o",data:b,onComplete:D})},d.prototype.onDisconnectMerge=function(y,b,D){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",y,b,D):this.onDisconnectRequestQueue_.push({pathString:y,action:"om",data:b,onComplete:D})},d.prototype.onDisconnectCancel=function(y,b){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",y,null,b):this.onDisconnectRequestQueue_.push({pathString:y,action:"oc",data:null,onComplete:b})},d.prototype.sendOnDisconnect_=function(y,b,D,I){var O={p:b,d:D};this.log_("onDisconnect "+y,O),this.sendRequest(y,O,function(L){I&&setTimeout(function(){I(L.s,L.d)},Math.floor(0))})},d.prototype.put=function(y,b,D,I){this.putInternal("p",y,b,D,I)},d.prototype.merge=function(y,b,D,I){this.putInternal("m",y,b,D,I)},d.prototype.putInternal=function(y,b,D,I,O){this.initConnection_();var L={p:b,d:D};void 0!==O&&(L.h=O),this.outstandingPuts_.push({action:y,request:L,onComplete:I}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+b)},d.prototype.sendPut_=function(y){var b=this,D=this.outstandingPuts_[y].action,I=this.outstandingPuts_[y].request,O=this.outstandingPuts_[y].onComplete;this.outstandingPuts_[y].queued=this.connected_,this.sendRequest(D,I,function(L){b.log_(D+" response",L),delete b.outstandingPuts_[y],b.outstandingPutCount_--,0===b.outstandingPutCount_&&(b.outstandingPuts_=[]),O&&O(L.s,L.d)})},d.prototype.reportStats=function(y){var b=this;if(this.connected_){var D={c:y};this.log_("reportStats",D),this.sendRequest("s",D,function(I){"ok"!==I.s&&b.log_("reportStats","Error sending stats: "+I.d)})}},d.prototype.onDataMessage_=function(y){if("r"in y){this.log_("from server: "+(0,P.Pz)(y));var b=y.r,D=this.requestCBHash_[b];D&&(delete this.requestCBHash_[b],D(y.b))}else{if("error"in y)throw"A server-side error has occurred: "+y.error;"a"in y&&this.onDataPush_(y.a,y.b)}},d.prototype.onDataPush_=function(y,b){this.log_("handleServerMessage",y,b),"d"===y?this.onDataUpdate_(b.p,b.d,!1,b.t):"m"===y?this.onDataUpdate_(b.p,b.d,!0,b.t):"c"===y?this.onListenRevoked_(b.p,b.q):"ac"===y?this.onAuthRevoked_(b.s,b.d):"apc"===y?this.onAppCheckRevoked_(b.s,b.d):"sd"===y?this.onSecurityDebugPacket_(b):yn("Unrecognized action received from server: "+(0,P.Pz)(y)+"\nAre you using the latest client?")},d.prototype.onReady_=function(y,b){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(y),this.lastSessionId=b,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},d.prototype.scheduleConnect_=function(y){var b=this;(0,P.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){b.establishConnectionTimer_=null,b.establishConnection_()},Math.floor(y))},d.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},d.prototype.onVisible_=function(y){y&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fe,this.realtime_||this.scheduleConnect_(0)),this.visible_=y},d.prototype.onOnline_=function(y){y?(this.log_("Browser went online."),this.reconnectDelay_=Fe,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},d.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Fe),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var b=(new Date).getTime()-this.lastConnectionAttemptTime_,D=Math.max(0,this.reconnectDelay_-b);D=Math.random()*D,this.log_("Trying to reconnect in "+D+"ms"),this.scheduleConnect_(D),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},d.prototype.establishConnection_=function(){return(0,se.mG)(this,void 0,void 0,function(){var y,b,D,I,O,L,B,$,me,xe,Le,Ke,bt,pt=this;return(0,se.Jh)(this,function(kt){switch(kt.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,y=this.onDataMessage_.bind(this),b=this.onReady_.bind(this),D=this.onRealtimeDisconnect_.bind(this),I=this.id+":"+d.nextConnectionId_++,O=this.lastSessionId,L=!1,B=null,this.realtime_={close:$=function(){B?B.close():(L=!0,D())},sendRequest:function(Jn){(0,P.hu)(B,"sendRequest call when we're not connected not allowed."),B.sendRequest(Jn)}},me=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,kt.label=1;case 1:return kt.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(me),this.appCheckTokenProvider_.getToken(me)])];case 2:return xe=se.CR.apply(void 0,[kt.sent(),2]),Le=xe[0],Ke=xe[1],L?ut("getToken() completed but was canceled"):(ut("getToken() completed. Creating connection."),this.authToken_=Le&&Le.accessToken,this.appCheckToken_=Ke&&Ke.token,B=new ri(I,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,y,b,D,function(Jn){Zt(Jn+" ("+pt.repoInfo_.toString()+")"),pt.interrupt("server_kill")},O)),[3,4];case 3:return bt=kt.sent(),this.log_("Failed to get token: "+bt),L||(this.repoInfo_.nodeAdmin&&Zt(bt),$()),[3,4];case 4:return[2]}})})},d.prototype.interrupt=function(y){ut("Interrupting connection for reason: "+y),this.interruptReasons_[y]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},d.prototype.resume=function(y){ut("Resuming connection for reason: "+y),delete this.interruptReasons_[y],(0,P.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Fe,this.realtime_||this.scheduleConnect_(0))},d.prototype.handleTimestamp_=function(y){var b=y-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:b})},d.prototype.cancelSentTransactions_=function(){for(var y=0;y<this.outstandingPuts_.length;y++){var b=this.outstandingPuts_[y];b&&"h"in b.request&&b.queued&&(b.onComplete&&b.onComplete("disconnect"),delete this.outstandingPuts_[y],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},d.prototype.onListenRevoked_=function(y,b){var D;D=b?b.map(function(O){return _n(O)}).join("$"):"default";var I=this.removeListen_(y,D);I&&I.onComplete&&I.onComplete("permission_denied")},d.prototype.removeListen_=function(y,b){var I,D=new Lt(y).toString();if(this.listens.has(D)){var O=this.listens.get(D);I=O.get(b),O.delete(b),0===O.size&&this.listens.delete(D)}else I=void 0;return I},d.prototype.onAuthRevoked_=function(y,b){ut("Auth token revoked: "+y+"/"+b),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===y||"permission_denied"===y)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},d.prototype.onAppCheckRevoked_=function(y,b){ut("App check token revoked: "+y+"/"+b),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===y||"permission_denied"===y)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},d.prototype.onSecurityDebugPacket_=function(y){this.securityDebugCallback_?this.securityDebugCallback_(y):"msg"in y&&console.log("FIREBASE: "+y.msg.replace("\n","\nFIREBASE: "))},d.prototype.restoreState_=function(){var y,b,D,I;this.tryAuth(),this.tryAppCheck();try{for(var O=(0,se.XA)(this.listens.values()),L=O.next();!L.done;L=O.next()){var B=L.value;try{for(var $=(D=void 0,(0,se.XA)(B.values())),K=$.next();!K.done;K=$.next())this.sendListen_(K.value)}catch(Ke){D={error:Ke}}finally{try{K&&!K.done&&(I=$.return)&&I.call($)}finally{if(D)throw D.error}}}}catch(Ke){y={error:Ke}}finally{try{L&&!L.done&&(b=O.return)&&b.call(O)}finally{if(y)throw y.error}}for(var xe=0;xe<this.outstandingPuts_.length;xe++)this.outstandingPuts_[xe]&&this.sendPut_(xe);for(;this.onDisconnectRequestQueue_.length;){var Le=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(Le.action,Le.pathString,Le.data,Le.onComplete)}for(xe=0;xe<this.outstandingGets_.length;xe++)this.outstandingGets_[xe]&&this.sendGet_(xe)},d.prototype.sendConnectStats_=function(){var y={},b="js";(0,P.Yr)()&&(b=this.repoInfo_.nodeAdmin?"admin_node":"node"),y["sdk."+b+"."+he.replace(/\./g,"-")]=1,(0,P.uI)()?y["framework.cordova"]=1:(0,P.b$)()&&(y["framework.reactnative"]=1),this.reportStats(y)},d.prototype.shouldReconnect_=function(){var y=Kn.getInstance().currentlyOnline();return(0,P.xb)(this.interruptReasons_)&&y},d.nextPersistentConnectionId_=0,d.nextConnectionId_=0,d}(Mi),nn=function(){function f(d,y){this.name=d,this.node=y}return f.Wrap=function(d,y){return new f(d,y)},f}(),Od=function(){function f(){}return f.prototype.getCompare=function(){return this.compare.bind(this)},f.prototype.indexedValueChanged=function(d,y){var b=new nn(ve,d),D=new nn(ve,y);return 0!==this.compare(b,D)},f.prototype.minPost=function(){return nn.MIN},f}(),I_=function(f){function d(){return null!==f&&f.apply(this,arguments)||this}return(0,se.ZT)(d,f),Object.defineProperty(d,"__EMPTY_NODE",{get:function(){return Rd},set:function(y){Rd=y},enumerable:!1,configurable:!0}),d.prototype.compare=function(y,b){return De(y.name,b.name)},d.prototype.isDefinedOn=function(y){throw(0,P.g5)("KeyIndex.isDefinedOn not expected to be called.")},d.prototype.indexedValueChanged=function(y,b){return!1},d.prototype.minPost=function(){return nn.MIN},d.prototype.maxPost=function(){return new nn(Re,Rd)},d.prototype.makePost=function(y,b){return(0,P.hu)("string"==typeof y,"KeyIndex indexValue must always be a string."),new nn(y,Rd)},d.prototype.toString=function(){return".key"},d}(Od),Io=new I_,vl=function(){function f(d,y,b,D,I){void 0===I&&(I=null),this.isReverse_=D,this.resultGenerator_=I,this.nodeStack_=[];for(var O=1;!d.isEmpty();)if(d=d,O=y?b(d.key,y):1,D&&(O*=-1),O<0)d=this.isReverse_?d.left:d.right;else{if(0===O){this.nodeStack_.push(d);break}this.nodeStack_.push(d),d=this.isReverse_?d.right:d.left}}return f.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var y,d=this.nodeStack_.pop();if(y=this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value},this.isReverse_)for(d=d.left;!d.isEmpty();)this.nodeStack_.push(d),d=d.right;else for(d=d.right;!d.isEmpty();)this.nodeStack_.push(d),d=d.left;return y},f.prototype.hasNext=function(){return this.nodeStack_.length>0},f.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var d=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value}},f}(),xi=function(){function f(d,y,b,D,I){this.key=d,this.value=y,this.color=null!=b?b:f.RED,this.left=null!=D?D:Mo.EMPTY_NODE,this.right=null!=I?I:Mo.EMPTY_NODE}return f.prototype.copy=function(d,y,b,D,I){return new f(null!=d?d:this.key,null!=y?y:this.value,null!=b?b:this.color,null!=D?D:this.left,null!=I?I:this.right)},f.prototype.count=function(){return this.left.count()+1+this.right.count()},f.prototype.isEmpty=function(){return!1},f.prototype.inorderTraversal=function(d){return this.left.inorderTraversal(d)||!!d(this.key,this.value)||this.right.inorderTraversal(d)},f.prototype.reverseTraversal=function(d){return this.right.reverseTraversal(d)||d(this.key,this.value)||this.left.reverseTraversal(d)},f.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},f.prototype.minKey=function(){return this.min_().key},f.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},f.prototype.insert=function(d,y,b){var D=this,I=b(d,D.key);return(D=I<0?D.copy(null,null,null,D.left.insert(d,y,b),null):0===I?D.copy(null,y,null,null,null):D.copy(null,null,null,null,D.right.insert(d,y,b))).fixUp_()},f.prototype.removeMin_=function(){if(this.left.isEmpty())return Mo.EMPTY_NODE;var d=this;return!d.left.isRed_()&&!d.left.left.isRed_()&&(d=d.moveRedLeft_()),(d=d.copy(null,null,null,d.left.removeMin_(),null)).fixUp_()},f.prototype.remove=function(d,y){var b,D;if(y(d,(b=this).key)<0)!b.left.isEmpty()&&!b.left.isRed_()&&!b.left.left.isRed_()&&(b=b.moveRedLeft_()),b=b.copy(null,null,null,b.left.remove(d,y),null);else{if(b.left.isRed_()&&(b=b.rotateRight_()),!b.right.isEmpty()&&!b.right.isRed_()&&!b.right.left.isRed_()&&(b=b.moveRedRight_()),0===y(d,b.key)){if(b.right.isEmpty())return Mo.EMPTY_NODE;D=b.right.min_(),b=b.copy(D.key,D.value,null,null,b.right.removeMin_())}b=b.copy(null,null,null,null,b.right.remove(d,y))}return b.fixUp_()},f.prototype.isRed_=function(){return this.color},f.prototype.fixUp_=function(){var d=this;return d.right.isRed_()&&!d.left.isRed_()&&(d=d.rotateLeft_()),d.left.isRed_()&&d.left.left.isRed_()&&(d=d.rotateRight_()),d.left.isRed_()&&d.right.isRed_()&&(d=d.colorFlip_()),d},f.prototype.moveRedLeft_=function(){var d=this.colorFlip_();return d.right.left.isRed_()&&(d=(d=(d=d.copy(null,null,null,null,d.right.rotateRight_())).rotateLeft_()).colorFlip_()),d},f.prototype.moveRedRight_=function(){var d=this.colorFlip_();return d.left.left.isRed_()&&(d=(d=d.rotateRight_()).colorFlip_()),d},f.prototype.rotateLeft_=function(){var d=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,d,null)},f.prototype.rotateRight_=function(){var d=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,d)},f.prototype.colorFlip_=function(){var d=this.left.copy(null,null,!this.left.color,null,null),y=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,d,y)},f.prototype.checkMaxDepth_=function(){var d=this.check_();return Math.pow(2,d)<=this.count()+1},f.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var d=this.left.check_();if(d!==this.right.check_())throw new Error("Black depths differ");return d+(this.isRed_()?0:1)},f.RED=!0,f.BLACK=!1,f}(),dE=function(){function f(){}return f.prototype.copy=function(d,y,b,D,I){return this},f.prototype.insert=function(d,y,b){return new xi(d,y,null)},f.prototype.remove=function(d,y){return this},f.prototype.count=function(){return 0},f.prototype.isEmpty=function(){return!0},f.prototype.inorderTraversal=function(d){return!1},f.prototype.reverseTraversal=function(d){return!1},f.prototype.minKey=function(){return null},f.prototype.maxKey=function(){return null},f.prototype.check_=function(){return 0},f.prototype.isRed_=function(){return!1},f}(),Mo=function(){function f(d,y){void 0===y&&(y=f.EMPTY_NODE),this.comparator_=d,this.root_=y}return f.prototype.insert=function(d,y){return new f(this.comparator_,this.root_.insert(d,y,this.comparator_).copy(null,null,xi.BLACK,null,null))},f.prototype.remove=function(d){return new f(this.comparator_,this.root_.remove(d,this.comparator_).copy(null,null,xi.BLACK,null,null))},f.prototype.get=function(d){for(var y,b=this.root_;!b.isEmpty();){if(0===(y=this.comparator_(d,b.key)))return b.value;y<0?b=b.left:y>0&&(b=b.right)}return null},f.prototype.getPredecessorKey=function(d){for(var y,b=this.root_,D=null;!b.isEmpty();){if(0===(y=this.comparator_(d,b.key))){if(b.left.isEmpty())return D?D.key:null;for(b=b.left;!b.right.isEmpty();)b=b.right;return b.key}y<0?b=b.left:y>0&&(D=b,b=b.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},f.prototype.isEmpty=function(){return this.root_.isEmpty()},f.prototype.count=function(){return this.root_.count()},f.prototype.minKey=function(){return this.root_.minKey()},f.prototype.maxKey=function(){return this.root_.maxKey()},f.prototype.inorderTraversal=function(d){return this.root_.inorderTraversal(d)},f.prototype.reverseTraversal=function(d){return this.root_.reverseTraversal(d)},f.prototype.getIterator=function(d){return new vl(this.root_,null,this.comparator_,!1,d)},f.prototype.getIteratorFrom=function(d,y){return new vl(this.root_,d,this.comparator_,!1,y)},f.prototype.getReverseIteratorFrom=function(d,y){return new vl(this.root_,d,this.comparator_,!0,y)},f.prototype.getReverseIterator=function(d){return new vl(this.root_,null,this.comparator_,!0,d)},f.EMPTY_NODE=new dE,f}();function Up(f,d){return De(f.name,d.name)}function is(f,d){return De(f,d)}var Hp,Cl,Pd,Hc,gu,Bc=function(f){return"number"==typeof f?"number:"+Je(f):"string:"+f},jp=function(f){if(f.isLeafNode()){var d=f.val();(0,P.hu)("string"==typeof d||"number"==typeof d||"object"==typeof d&&(0,P.r3)(d,".sv"),"Priority must be a string or number.")}else(0,P.hu)(f===kd||f.isEmpty(),"priority of unexpected type.");(0,P.hu)(f===kd||f.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},wa=function(){function f(d,y){void 0===y&&(y=f.__childrenNodeConstructor.EMPTY_NODE),this.value_=d,this.priorityNode_=y,this.lazyHash_=null,(0,P.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),jp(this.priorityNode_)}return Object.defineProperty(f,"__childrenNodeConstructor",{get:function(){return Hp},set:function(d){Hp=d},enumerable:!1,configurable:!0}),f.prototype.isLeafNode=function(){return!0},f.prototype.getPriority=function(){return this.priorityNode_},f.prototype.updatePriority=function(d){return new f(this.value_,d)},f.prototype.getImmediateChild=function(d){return".priority"===d?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE},f.prototype.getChild=function(d){return It(d)?this:".priority"===xt(d)?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE},f.prototype.hasChild=function(){return!1},f.prototype.getPredecessorChildName=function(d,y){return null},f.prototype.updateImmediateChild=function(d,y){return".priority"===d?this.updatePriority(y):y.isEmpty()&&".priority"!==d?this:f.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(d,y).updatePriority(this.priorityNode_)},f.prototype.updateChild=function(d,y){var b=xt(d);return null===b?y:y.isEmpty()&&".priority"!==b?this:((0,P.hu)(".priority"!==b||1===ur(d),".priority must be the last token in a path"),this.updateImmediateChild(b,f.__childrenNodeConstructor.EMPTY_NODE.updateChild(Yt(d),y)))},f.prototype.isEmpty=function(){return!1},f.prototype.numChildren=function(){return 0},f.prototype.forEachChild=function(d,y){return!1},f.prototype.val=function(d){return d&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},f.prototype.hash=function(){if(null===this.lazyHash_){var d="";this.priorityNode_.isEmpty()||(d+="priority:"+Bc(this.priorityNode_.val())+":");var y=typeof this.value_;d+=y+":",d+="number"===y?Je(this.value_):this.value_,this.lazyHash_=$e(d)}return this.lazyHash_},f.prototype.getValue=function(){return this.value_},f.prototype.compareTo=function(d){return d===f.__childrenNodeConstructor.EMPTY_NODE?1:d instanceof f.__childrenNodeConstructor?-1:((0,P.hu)(d.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(d))},f.prototype.compareToLeafNode_=function(d){var y=typeof d.value_,b=typeof this.value_,D=f.VALUE_TYPE_ORDER.indexOf(y),I=f.VALUE_TYPE_ORDER.indexOf(b);return(0,P.hu)(D>=0,"Unknown leaf type: "+y),(0,P.hu)(I>=0,"Unknown leaf type: "+b),D===I?"object"===b?0:this.value_<d.value_?-1:this.value_===d.value_?0:1:I-D},f.prototype.withIndex=function(){return this},f.prototype.isIndexed=function(){return!0},f.prototype.equals=function(d){return d===this||!!d.isLeafNode()&&(this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_))},f.VALUE_TYPE_ORDER=["object","boolean","number","string"],f}(),wn=new(function(f){function d(){return null!==f&&f.apply(this,arguments)||this}return(0,se.ZT)(d,f),d.prototype.compare=function(y,b){var D=y.node.getPriority(),I=b.node.getPriority(),O=D.compareTo(I);return 0===O?De(y.name,b.name):O},d.prototype.isDefinedOn=function(y){return!y.getPriority().isEmpty()},d.prototype.indexedValueChanged=function(y,b){return!y.getPriority().equals(b.getPriority())},d.prototype.minPost=function(){return nn.MIN},d.prototype.maxPost=function(){return new nn(Re,new wa("[PRIORITY-POST]",Pd))},d.prototype.makePost=function(y,b){var D=Cl(y);return new nn(b,new wa("[PRIORITY-POST]",D))},d.prototype.toString=function(){return".priority"},d}(Od)),zp=Math.log(2),Uc=function(){function f(d){this.count=parseInt(Math.log(d+1)/zp,10),this.current_=this.count-1;var D=parseInt(Array(this.count+1).join("1"),2);this.bits_=d+1&D}return f.prototype.nextBitIsOne=function(){var d=!(this.bits_&1<<this.current_);return this.current_--,d},f}(),jc=function(f,d,y,b){f.sort(d);var D=function(B,$){var me,xe,K=$-B;if(0===K)return null;if(1===K)return me=f[B],xe=y?y(me):me,new xi(xe,me.node,xi.BLACK,null,null);var Le=parseInt(K/2,10)+B,Ke=D(B,Le),bt=D(Le+1,$);return me=f[Le],xe=y?y(me):me,new xi(xe,me.node,xi.BLACK,Ke,bt)},L=function(B){for(var $=null,K=null,me=f.length,xe=function(kt,Jn){var Xi=me-kt,$a=me;me-=kt;var Lu=D(Xi+1,$a),Ih=f[Xi],mo=y?y(Ih):Ih;Le(new xi(mo,Ih.node,Jn,null,Lu))},Le=function(kt){$?($.left=kt,$=kt):(K=kt,$=kt)},Ke=0;Ke<B.count;++Ke){var bt=B.nextBitIsOne(),pt=Math.pow(2,B.count-(Ke+1));bt?xe(pt,xi.BLACK):(xe(pt,xi.BLACK),xe(pt,xi.RED))}return K}(new Uc(f.length));return new Mo(b||d,L)},pu={},Ln=function(){function f(d,y){this.indexes_=d,this.indexSet_=y}return Object.defineProperty(f,"Default",{get:function(){return(0,P.hu)(pu&&wn,"ChildrenNode.ts has not been loaded"),Hc=Hc||new f({".priority":pu},{".priority":wn})},enumerable:!1,configurable:!0}),f.prototype.get=function(d){var y=(0,P.DV)(this.indexes_,d);if(!y)throw new Error("No index defined for "+d);return y instanceof Mo?y:null},f.prototype.hasIndex=function(d){return(0,P.r3)(this.indexSet_,d.toString())},f.prototype.addIndex=function(d,y){(0,P.hu)(d!==Io,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var b=[],D=!1,I=y.getIterator(nn.Wrap),O=I.getNext();O;)D=D||d.isDefinedOn(O.node),b.push(O),O=I.getNext();var L;L=D?jc(b,d.getCompare()):pu;var B=d.toString(),$=(0,se.pi)({},this.indexSet_);$[B]=d;var K=(0,se.pi)({},this.indexes_);return K[B]=L,new f(K,$)},f.prototype.addToIndexes=function(d,y){var b=this;return new f((0,P.UI)(this.indexes_,function(I,O){var L=(0,P.DV)(b.indexSet_,O);if((0,P.hu)(L,"Missing index implementation for "+O),I===pu){if(L.isDefinedOn(d.node)){for(var B=[],$=y.getIterator(nn.Wrap),K=$.getNext();K;)K.name!==d.name&&B.push(K),K=$.getNext();return B.push(d),jc(B,L.getCompare())}return pu}var me=y.get(d.name),xe=I;return me&&(xe=xe.remove(new nn(d.name,me))),xe.insert(d,d.node)}),this.indexSet_)},f.prototype.removeFromIndexes=function(d,y){return new f((0,P.UI)(this.indexes_,function(D){if(D===pu)return D;var I=y.get(d.name);return I?D.remove(new nn(d.name,I)):D}),this.indexSet_)},f}(),St=function(){function f(d,y,b){this.children_=d,this.priorityNode_=y,this.indexMap_=b,this.lazyHash_=null,this.priorityNode_&&jp(this.priorityNode_),this.children_.isEmpty()&&(0,P.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(f,"EMPTY_NODE",{get:function(){return gu||(gu=new f(new Mo(is),null,Ln.Default))},enumerable:!1,configurable:!0}),f.prototype.isLeafNode=function(){return!1},f.prototype.getPriority=function(){return this.priorityNode_||gu},f.prototype.updatePriority=function(d){return this.children_.isEmpty()?this:new f(this.children_,d,this.indexMap_)},f.prototype.getImmediateChild=function(d){if(".priority"===d)return this.getPriority();var y=this.children_.get(d);return null===y?gu:y},f.prototype.getChild=function(d){var y=xt(d);return null===y?this:this.getImmediateChild(y).getChild(Yt(d))},f.prototype.hasChild=function(d){return null!==this.children_.get(d)},f.prototype.updateImmediateChild=function(d,y){if((0,P.hu)(y,"We should always be passing snapshot nodes"),".priority"===d)return this.updatePriority(y);var b=new nn(d,y),D=void 0,I=void 0;y.isEmpty()?(D=this.children_.remove(d),I=this.indexMap_.removeFromIndexes(b,this.children_)):(D=this.children_.insert(d,y),I=this.indexMap_.addToIndexes(b,this.children_));var O=D.isEmpty()?gu:this.priorityNode_;return new f(D,O,I)},f.prototype.updateChild=function(d,y){var b=xt(d);if(null===b)return y;(0,P.hu)(".priority"!==xt(d)||1===ur(d),".priority must be the last token in a path");var D=this.getImmediateChild(b).updateChild(Yt(d),y);return this.updateImmediateChild(b,D)},f.prototype.isEmpty=function(){return this.children_.isEmpty()},f.prototype.numChildren=function(){return this.children_.count()},f.prototype.val=function(d){if(this.isEmpty())return null;var y={},b=0,D=0,I=!0;if(this.forEachChild(wn,function(B,$){y[B]=$.val(d),b++,I&&f.INTEGER_REGEXP_.test(B)?D=Math.max(D,Number(B)):I=!1}),!d&&I&&D<2*b){var O=[];for(var L in y)O[L]=y[L];return O}return d&&!this.getPriority().isEmpty()&&(y[".priority"]=this.getPriority().val()),y},f.prototype.hash=function(){if(null===this.lazyHash_){var d="";this.getPriority().isEmpty()||(d+="priority:"+Bc(this.getPriority().val())+":"),this.forEachChild(wn,function(y,b){var D=b.hash();""!==D&&(d+=":"+y+":"+D)}),this.lazyHash_=""===d?"":$e(d)}return this.lazyHash_},f.prototype.getPredecessorChildName=function(d,y,b){var D=this.resolveIndex_(b);if(D){var I=D.getPredecessorKey(new nn(d,y));return I?I.name:null}return this.children_.getPredecessorKey(d)},f.prototype.getFirstChildName=function(d){var y=this.resolveIndex_(d);if(y){var b=y.minKey();return b&&b.name}return this.children_.minKey()},f.prototype.getFirstChild=function(d){var y=this.getFirstChildName(d);return y?new nn(y,this.children_.get(y)):null},f.prototype.getLastChildName=function(d){var y=this.resolveIndex_(d);if(y){var b=y.maxKey();return b&&b.name}return this.children_.maxKey()},f.prototype.getLastChild=function(d){var y=this.getLastChildName(d);return y?new nn(y,this.children_.get(y)):null},f.prototype.forEachChild=function(d,y){var b=this.resolveIndex_(d);return b?b.inorderTraversal(function(D){return y(D.name,D.node)}):this.children_.inorderTraversal(y)},f.prototype.getIterator=function(d){return this.getIteratorFrom(d.minPost(),d)},f.prototype.getIteratorFrom=function(d,y){var b=this.resolveIndex_(y);if(b)return b.getIteratorFrom(d,function(O){return O});for(var D=this.children_.getIteratorFrom(d.name,nn.Wrap),I=D.peek();null!=I&&y.compare(I,d)<0;)D.getNext(),I=D.peek();return D},f.prototype.getReverseIterator=function(d){return this.getReverseIteratorFrom(d.maxPost(),d)},f.prototype.getReverseIteratorFrom=function(d,y){var b=this.resolveIndex_(y);if(b)return b.getReverseIteratorFrom(d,function(O){return O});for(var D=this.children_.getReverseIteratorFrom(d.name,nn.Wrap),I=D.peek();null!=I&&y.compare(I,d)>0;)D.getNext(),I=D.peek();return D},f.prototype.compareTo=function(d){return this.isEmpty()?d.isEmpty()?0:-1:d.isLeafNode()||d.isEmpty()?1:d===In?-1:0},f.prototype.withIndex=function(d){if(d===Io||this.indexMap_.hasIndex(d))return this;var y=this.indexMap_.addIndex(d,this.children_);return new f(this.children_,this.priorityNode_,y)},f.prototype.isIndexed=function(d){return d===Io||this.indexMap_.hasIndex(d)},f.prototype.equals=function(d){if(d===this)return!0;if(d.isLeafNode())return!1;var y=d;if(this.getPriority().equals(y.getPriority())){if(this.children_.count()===y.children_.count()){for(var b=this.getIterator(wn),D=y.getIterator(wn),I=b.getNext(),O=D.getNext();I&&O;){if(I.name!==O.name||!I.node.equals(O.node))return!1;I=b.getNext(),O=D.getNext()}return null===I&&null===O}return!1}return!1},f.prototype.resolveIndex_=function(d){return d===Io?null:this.indexMap_.get(d.toString())},f.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,f}(),In=new(function(f){function d(){return f.call(this,new Mo(is),St.EMPTY_NODE,Ln.Default)||this}return(0,se.ZT)(d,f),d.prototype.compareTo=function(y){return y===this?0:1},d.prototype.equals=function(y){return y===this},d.prototype.getPriority=function(){return this},d.prototype.getImmediateChild=function(y){return St.EMPTY_NODE},d.prototype.isEmpty=function(){return!1},d}(St));function zn(f,d){if(void 0===d&&(d=null),null===f)return St.EMPTY_NODE;if("object"==typeof f&&".priority"in f&&(d=f[".priority"]),(0,P.hu)(null===d||"string"==typeof d||"number"==typeof d||"object"==typeof d&&".sv"in d,"Invalid priority type found: "+typeof d),"object"==typeof f&&".value"in f&&null!==f[".value"]&&(f=f[".value"]),"object"!=typeof f||".sv"in f)return new wa(f,zn(d));if(f instanceof Array){var B=St.EMPTY_NODE;return ct(f,function($,K){if((0,P.r3)(f,$)&&"."!==$.substring(0,1)){var me=zn(K);(me.isLeafNode()||!me.isEmpty())&&(B=B.updateImmediateChild($,me))}}),B.updatePriority(zn(d))}var b=[],D=!1;if(ct(f,function($,K){if("."!==$.substring(0,1)){var me=zn(K);me.isEmpty()||(D=D||!me.getPriority().isEmpty(),b.push(new nn($,me)))}}),0===b.length)return St.EMPTY_NODE;var O=jc(b,Up,function($){return $.name},is);if(D){var L=jc(b,wn.getCompare());return new St(O,zn(d),new Ln({".priority":L},{".priority":wn}))}return new St(O,zn(d),Ln.Default)}Object.defineProperties(nn,{MIN:{value:new nn(ve,St.EMPTY_NODE)},MAX:{value:new nn(Re,In)}}),I_.__EMPTY_NODE=St.EMPTY_NODE,wa.__childrenNodeConstructor=St,function(f){kd=f}(In),function(f){Pd=f}(In),function(f){Cl=f}(zn);var mu=function(f){function d(y){var b=f.call(this)||this;return b.indexPath_=y,(0,P.hu)(!It(y)&&".priority"!==xt(y),"Can't create PathIndex with empty path or .priority key"),b}return(0,se.ZT)(d,f),d.prototype.extractChild=function(y){return y.getChild(this.indexPath_)},d.prototype.isDefinedOn=function(y){return!y.getChild(this.indexPath_).isEmpty()},d.prototype.compare=function(y,b){var D=this.extractChild(y.node),I=this.extractChild(b.node),O=D.compareTo(I);return 0===O?De(y.name,b.name):O},d.prototype.makePost=function(y,b){var D=zn(y),I=St.EMPTY_NODE.updateChild(this.indexPath_,D);return new nn(b,I)},d.prototype.maxPost=function(){var y=St.EMPTY_NODE.updateChild(this.indexPath_,In);return new nn(Re,y)},d.prototype.toString=function(){return mi(this.indexPath_,0).join("/")},d}(Od),El=new(function(f){function d(){return null!==f&&f.apply(this,arguments)||this}return(0,se.ZT)(d,f),d.prototype.compare=function(y,b){var D=y.node.compareTo(b.node);return 0===D?De(y.name,b.name):D},d.prototype.isDefinedOn=function(y){return!0},d.prototype.indexedValueChanged=function(y,b){return!y.equals(b)},d.prototype.minPost=function(){return nn.MIN},d.prototype.maxPost=function(){return nn.MAX},d.prototype.makePost=function(y,b){var D=zn(y);return new nn(b,D)},d.prototype.toString=function(){return".value"},d}(Od)),ks="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$p=function(){var f=0,d=[];return function(y){var b=y===f;f=y;var D,I=new Array(8);for(D=7;D>=0;D--)I[D]=ks.charAt(y%64),y=Math.floor(y/64);(0,P.hu)(0===y,"Cannot push at time == 0");var O=I.join("");if(b){for(D=11;D>=0&&63===d[D];D--)d[D]=0;d[D]++}else for(D=0;D<12;D++)d[D]=Math.floor(64*Math.random());for(D=0;D<12;D++)O+=ks.charAt(d[D]);return(0,P.hu)(20===O.length,"nextPushId: Length should be 20."),O}}(),wl=function(f){if(f===""+Wt)return"-";var d=On(f);if(null!=d)return""+(d+1);for(var y=new Array(f.length),b=0;b<y.length;b++)y[b]=f.charAt(b);if(y.length<786)return y.push("-"),y.join("");for(var D=y.length-1;D>=0&&"z"===y[D];)D--;if(-1===D)return Re;var O=ks.charAt(ks.indexOf(y[D])+1);return y[D]=O,y.slice(0,D+1).join("")},Ns=function(f){if(f===""+di)return ve;var d=On(f);if(null!=d)return""+(d-1);for(var y=new Array(f.length),b=0;b<y.length;b++)y[b]=f.charAt(b);return"-"===y[y.length-1]?1===y.length?""+Wt:(delete y[y.length-1],y.join("")):(y[y.length-1]=ks.charAt(ks.indexOf(y[y.length-1])-1),y.join("")+"z".repeat(786-y.length))};function Nd(f){return{type:"value",snapshotNode:f}}function Fs(f,d){return{type:"child_added",snapshotNode:d,childName:f}}function Ct(f,d){return{type:"child_removed",snapshotNode:d,childName:f}}function Dl(f,d,y){return{type:"child_changed",snapshotNode:d,childName:f,oldSnap:y}}var Fd=function(){function f(d){this.index_=d}return f.prototype.updateChild=function(d,y,b,D,I,O){(0,P.hu)(d.isIndexed(this.index_),"A node must be indexed if only a child is updated");var L=d.getImmediateChild(y);return L.getChild(D).equals(b.getChild(D))&&L.isEmpty()===b.isEmpty()||(null!=O&&(b.isEmpty()?d.hasChild(y)?O.trackChildChange(Ct(y,L)):(0,P.hu)(d.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):L.isEmpty()?O.trackChildChange(Fs(y,b)):O.trackChildChange(Dl(y,b,L))),d.isLeafNode()&&b.isEmpty())?d:d.updateImmediateChild(y,b).withIndex(this.index_)},f.prototype.updateFullNode=function(d,y,b){return null!=b&&(d.isLeafNode()||d.forEachChild(wn,function(D,I){y.hasChild(D)||b.trackChildChange(Ct(D,I))}),y.isLeafNode()||y.forEachChild(wn,function(D,I){if(d.hasChild(D)){var O=d.getImmediateChild(D);O.equals(I)||b.trackChildChange(Dl(D,I,O))}else b.trackChildChange(Fs(D,I))})),y.withIndex(this.index_)},f.prototype.updatePriority=function(d,y){return d.isEmpty()?St.EMPTY_NODE:d.updatePriority(y)},f.prototype.filtersNodes=function(){return!1},f.prototype.getIndexedFilter=function(){return this},f.prototype.getIndex=function(){return this.index_},f}(),Wp=function(){function f(d){this.indexedFilter_=new Fd(d.getIndex()),this.index_=d.getIndex(),this.startPost_=f.getStartPost_(d),this.endPost_=f.getEndPost_(d)}return f.prototype.getStartPost=function(){return this.startPost_},f.prototype.getEndPost=function(){return this.endPost_},f.prototype.matches=function(d){return this.index_.compare(this.getStartPost(),d)<=0&&this.index_.compare(d,this.getEndPost())<=0},f.prototype.updateChild=function(d,y,b,D,I,O){return this.matches(new nn(y,b))||(b=St.EMPTY_NODE),this.indexedFilter_.updateChild(d,y,b,D,I,O)},f.prototype.updateFullNode=function(d,y,b){y.isLeafNode()&&(y=St.EMPTY_NODE);var D=y.withIndex(this.index_);D=D.updatePriority(St.EMPTY_NODE);var I=this;return y.forEachChild(wn,function(O,L){I.matches(new nn(O,L))||(D=D.updateImmediateChild(O,St.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(d,D,b)},f.prototype.updatePriority=function(d,y){return d},f.prototype.filtersNodes=function(){return!0},f.prototype.getIndexedFilter=function(){return this.indexedFilter_},f.prototype.getIndex=function(){return this.index_},f.getStartPost_=function(d){if(d.hasStart()){var y=d.getIndexStartName();return d.getIndex().makePost(d.getIndexStartValue(),y)}return d.getIndex().minPost()},f.getEndPost_=function(d){if(d.hasEnd()){var y=d.getIndexEndName();return d.getIndex().makePost(d.getIndexEndValue(),y)}return d.getIndex().maxPost()},f}(),R_=function(){function f(d){this.rangedFilter_=new Wp(d),this.index_=d.getIndex(),this.limit_=d.getLimit(),this.reverse_=!d.isViewFromLeft()}return f.prototype.updateChild=function(d,y,b,D,I,O){return this.rangedFilter_.matches(new nn(y,b))||(b=St.EMPTY_NODE),d.getImmediateChild(y).equals(b)?d:d.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(d,y,b,D,I,O):this.fullLimitUpdateChild_(d,y,b,I,O)},f.prototype.updateFullNode=function(d,y,b){var D;if(y.isLeafNode()||y.isEmpty())D=St.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<y.numChildren()&&y.isIndexed(this.index_)){D=St.EMPTY_NODE.withIndex(this.index_);var I=void 0;I=this.reverse_?y.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):y.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var O=0;I.hasNext()&&O<this.limit_;){var L=I.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),L)<=0:this.index_.compare(L,this.rangedFilter_.getEndPost())<=0))break;D=D.updateImmediateChild(L.name,L.node),O++}}else{D=(D=y.withIndex(this.index_)).updatePriority(St.EMPTY_NODE);var $=void 0,K=void 0,me=void 0;if(I=void 0,this.reverse_){I=D.getReverseIterator(this.index_),$=this.rangedFilter_.getEndPost(),K=this.rangedFilter_.getStartPost();var xe=this.index_.getCompare();me=function(pt,kt){return xe(kt,pt)}}else I=D.getIterator(this.index_),$=this.rangedFilter_.getStartPost(),K=this.rangedFilter_.getEndPost(),me=this.index_.getCompare();O=0;for(var Le=!1;I.hasNext();)L=I.getNext(),!Le&&me($,L)<=0&&(Le=!0),Le&&O<this.limit_&&me(L,K)<=0?O++:D=D.updateImmediateChild(L.name,St.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(d,D,b)},f.prototype.updatePriority=function(d,y){return d},f.prototype.filtersNodes=function(){return!0},f.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},f.prototype.getIndex=function(){return this.index_},f.prototype.fullLimitUpdateChild_=function(d,y,b,D,I){var O;if(this.reverse_){var L=this.index_.getCompare();O=function(Jn,Xi){return L(Xi,Jn)}}else O=this.index_.getCompare();var B=d;(0,P.hu)(B.numChildren()===this.limit_,"");var $=new nn(y,b),K=this.reverse_?B.getFirstChild(this.index_):B.getLastChild(this.index_),me=this.rangedFilter_.matches($);if(B.hasChild(y)){for(var xe=B.getImmediateChild(y),Le=D.getChildAfterChild(this.index_,K,this.reverse_);null!=Le&&(Le.name===y||B.hasChild(Le.name));)Le=D.getChildAfterChild(this.index_,Le,this.reverse_);var Ke=null==Le?1:O(Le,$);if(me&&!b.isEmpty()&&Ke>=0)return null!=I&&I.trackChildChange(Dl(y,b,xe)),B.updateImmediateChild(y,b);null!=I&&I.trackChildChange(Ct(y,xe));var pt=B.updateImmediateChild(y,St.EMPTY_NODE);return null!=Le&&this.rangedFilter_.matches(Le)?(null!=I&&I.trackChildChange(Fs(Le.name,Le.node)),pt.updateImmediateChild(Le.name,Le.node)):pt}return b.isEmpty()?d:me&&O(K,$)>=0?(null!=I&&(I.trackChildChange(Ct(K.name,K.node)),I.trackChildChange(Fs(y,b))),B.updateImmediateChild(y,b).updateImmediateChild(K.name,St.EMPTY_NODE)):d},f}(),Yp=function(){function f(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wn}return f.prototype.hasStart=function(){return this.startSet_},f.prototype.hasStartAfter=function(){return this.startAfterSet_},f.prototype.hasEndBefore=function(){return this.endBeforeSet_},f.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},f.prototype.getIndexStartValue=function(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},f.prototype.getIndexStartName=function(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ve},f.prototype.hasEnd=function(){return this.endSet_},f.prototype.getIndexEndValue=function(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},f.prototype.getIndexEndName=function(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Re},f.prototype.hasLimit=function(){return this.limitSet_},f.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},f.prototype.getLimit=function(){return(0,P.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},f.prototype.getIndex=function(){return this.index_},f.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},f.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===wn},f.prototype.copy=function(){var d=new f;return d.limitSet_=this.limitSet_,d.limit_=this.limit_,d.startSet_=this.startSet_,d.indexStartValue_=this.indexStartValue_,d.startNameSet_=this.startNameSet_,d.indexStartName_=this.indexStartName_,d.endSet_=this.endSet_,d.indexEndValue_=this.indexEndValue_,d.endNameSet_=this.endNameSet_,d.indexEndName_=this.indexEndName_,d.index_=this.index_,d.viewFrom_=this.viewFrom_,d},f}();function Sl(f,d,y){var b=f.copy();return b.startSet_=!0,void 0===d&&(d=null),b.indexStartValue_=d,null!=y?(b.startNameSet_=!0,b.indexStartName_=y):(b.startNameSet_=!1,b.indexStartName_=""),b}function Al(f,d,y){var b=f.copy();return b.endSet_=!0,void 0===d&&(d=null),b.indexEndValue_=d,void 0!==y?(b.endNameSet_=!0,b.indexEndName_=y):(b.endNameSet_=!1,b.indexEndName_=""),b}function si(f,d){var y=f.copy();return y.index_=d,y}function Il(f){var y,d={};return f.isDefault()||(f.index_===wn?y="$priority":f.index_===El?y="$value":f.index_===Io?y="$key":((0,P.hu)(f.index_ instanceof mu,"Unrecognized index type!"),y=f.index_.toString()),d.orderBy=(0,P.Pz)(y),f.startSet_&&(d.startAt=(0,P.Pz)(f.indexStartValue_),f.startNameSet_&&(d.startAt+=","+(0,P.Pz)(f.indexStartName_))),f.endSet_&&(d.endAt=(0,P.Pz)(f.indexEndValue_),f.endNameSet_&&(d.endAt+=","+(0,P.Pz)(f.indexEndName_))),f.limitSet_&&(f.isViewFromLeft()?d.limitToFirst=f.limit_:d.limitToLast=f.limit_)),d}function Ml(f){var d={};if(f.startSet_&&(d.sp=f.indexStartValue_,f.startNameSet_&&(d.sn=f.indexStartName_)),f.endSet_&&(d.ep=f.indexEndValue_,f.endNameSet_&&(d.en=f.indexEndName_)),f.limitSet_){d.l=f.limit_;var y=f.viewFrom_;""===y&&(y=f.isViewFromLeft()?"l":"r"),d.vf=y}return f.index_!==wn&&(d.i=f.index_.toString()),d}var pE=function(f){function d(y,b,D,I){var O=f.call(this)||this;return O.repoInfo_=y,O.onDataUpdate_=b,O.authTokenProvider_=D,O.appCheckTokenProvider_=I,O.log_=on("p:rest:"),O.listens_={},O}return(0,se.ZT)(d,f),d.prototype.reportStats=function(y){throw new Error("Method not implemented.")},d.getListenId_=function(y,b){return void 0!==b?"tag$"+b:((0,P.hu)(y._queryParams.isDefault(),"should have a tag if it's not a default query."),y._path.toString())},d.prototype.listen=function(y,b,D,I){var O=this,L=y._path.toString();this.log_("Listen called for "+L+" "+y._queryIdentifier);var B=d.getListenId_(y,D),$={};this.listens_[B]=$;var K=Il(y._queryParams);this.restRequest_(L+".json",K,function(me,xe){var Le=xe;404===me&&(Le=null,me=null),null===me&&O.onDataUpdate_(L,Le,!1,D),(0,P.DV)(O.listens_,B)===$&&I(me?401===me?"permission_denied":"rest_error:"+me:"ok",null)})},d.prototype.unlisten=function(y,b){var D=d.getListenId_(y,b);delete this.listens_[D]},d.prototype.get=function(y){var b=this,D=Il(y._queryParams),I=y._path.toString(),O=new P.BH;return this.restRequest_(I+".json",D,function(L,B){var $=B;404===L&&($=null,L=null),null===L?(b.onDataUpdate_(I,$,!1,null),O.resolve($)):O.reject(new Error($))}),O.promise},d.prototype.refreshAuthToken=function(y){},d.prototype.restRequest_=function(y,b,D){var I=this;return void 0===b&&(b={}),b.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(O){var L=(0,se.CR)(O,2),B=L[0],$=L[1];B&&B.accessToken&&(b.auth=B.accessToken),$&&$.token&&(b.ac=$.token);var K=(I.repoInfo_.secure?"https://":"http://")+I.repoInfo_.host+y+"?ns="+I.repoInfo_.namespace+(0,P.xO)(b);I.log_("Sending REST request for "+K);var me=new XMLHttpRequest;me.onreadystatechange=function(){if(D&&4===me.readyState){I.log_("REST Response for "+K+" received. status:",me.status,"response:",me.responseText);var xe=null;if(me.status>=200&&me.status<300){try{xe=(0,P.cI)(me.responseText)}catch(Le){Zt("Failed to parse JSON response for "+K+": "+me.responseText)}D(null,xe)}else 401!==me.status&&404!==me.status&&Zt("Got unsuccessful REST response for "+K+" Status: "+me.status),D(me.status);D=null}},me.open("GET",K,!0),me.send()})},d}(Mi),k_=function(){function f(){this.rootNode_=St.EMPTY_NODE}return f.prototype.getNode=function(d){return this.rootNode_.getChild(d)},f.prototype.updateSnapshot=function(d,y){this.rootNode_=this.rootNode_.updateChild(d,y)},f}();function Ta(){return{value:null,children:new Map}}function os(f,d,y){if(It(d))f.value=y,f.children.clear();else if(null!==f.value)f.value=f.value.updateChild(d,y);else{var b=xt(d);f.children.has(b)||f.children.set(b,Ta()),os(f.children.get(b),d=Yt(d),y)}}function cr(f,d){if(It(d))return f.value=null,f.children.clear(),!0;if(null!==f.value){if(f.value.isLeafNode())return!1;var y=f.value;return f.value=null,y.forEachChild(wn,function(I,O){os(f,new Lt(I),O)}),cr(f,d)}if(f.children.size>0){var b=xt(d);return d=Yt(d),f.children.has(b)&&cr(f.children.get(b),d)&&f.children.delete(b),0===f.children.size}return!0}function Oi(f,d,y){null!==f.value?y(d,f.value):function(f,d){f.children.forEach(function(y,b){d(b,y)})}(f,function(b,D){Oi(D,new Lt(d.toString()+"/"+b),y)})}var xo=function(){function f(d){this.collection_=d,this.last_=null}return f.prototype.get=function(){var d=this.collection_.get(),y=(0,se.pi)({},d);return this.last_&&ct(this.last_,function(b,D){y[b]=y[b]-D}),this.last_=d,y},f}(),Qp=function(){function f(d,y){this.server_=y,this.statsToReport_={},this.statsListener_=new xo(d);var b=1e4+2e4*Math.random();$i(this.reportStats_.bind(this),Math.floor(b))}return f.prototype.reportStats_=function(){var d=this,y=this.statsListener_.get(),b={},D=!1;ct(y,function(I,O){O>0&&(0,P.r3)(d.statsToReport_,I)&&(b[I]=O,D=!0)}),D&&this.server_.reportStats(b),$i(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},f}(),_i=(()=>(function(f){f[f.OVERWRITE=0]="OVERWRITE",f[f.MERGE=1]="MERGE",f[f.ACK_USER_WRITE=2]="ACK_USER_WRITE",f[f.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(_i||(_i={})),_i))();function Ls(f){return{fromUser:!1,fromServer:!0,queryId:f,tagged:!0}}var Zp=function(){function f(d,y,b){this.path=d,this.affectedTree=y,this.revert=b,this.type=_i.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return f.prototype.operationForChild=function(d){if(It(this.path)){if(null!=this.affectedTree.value)return(0,P.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var y=this.affectedTree.subtree(new Lt(d));return new f(at(),y,this.revert)}return(0,P.hu)(xt(this.path)===d,"operationForChild called for unrelated child."),new f(Yt(this.path),this.affectedTree,this.revert)},f}(),zc=function(){function f(d,y){this.source=d,this.path=y,this.type=_i.LISTEN_COMPLETE}return f.prototype.operationForChild=function(d){return It(this.path)?new f(this.source,at()):new f(this.source,Yt(this.path))},f}(),Sa=function(){function f(d,y,b){this.source=d,this.path=y,this.snap=b,this.type=_i.OVERWRITE}return f.prototype.operationForChild=function(d){return It(this.path)?new f(this.source,at(),this.snap.getImmediateChild(d)):new f(this.source,Yt(this.path),this.snap)},f}(),qc=function(){function f(d,y,b){this.source=d,this.path=y,this.children=b,this.type=_i.MERGE}return f.prototype.operationForChild=function(d){if(It(this.path)){var y=this.children.subtree(new Lt(d));return y.isEmpty()?null:y.value?new Sa(this.source,at(),y.value):new f(this.source,at(),y)}return(0,P.hu)(xt(this.path)===d,"Can't get a merge for a child not on the path of the operation"),new f(this.source,Yt(this.path),this.children)},f.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},f}(),ss=function(){function f(d,y,b){this.node_=d,this.fullyInitialized_=y,this.filtered_=b}return f.prototype.isFullyInitialized=function(){return this.fullyInitialized_},f.prototype.isFiltered=function(){return this.filtered_},f.prototype.isCompleteForPath=function(d){if(It(d))return this.isFullyInitialized()&&!this.filtered_;var y=xt(d);return this.isCompleteForChild(y)},f.prototype.isCompleteForChild=function(d){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(d)},f.prototype.getNode=function(){return this.node_},f}(),Jp=function(d){this.query_=d,this.index_=this.query_._queryParams.getIndex()};function as(f,d,y,b,D,I){var O=b.filter(function(L){return L.type===y});O.sort(function(L,B){return function(f,d,y){if(null==d.childName||null==y.childName)throw(0,P.g5)("Should only compare child_ events.");var b=new nn(d.childName,d.snapshotNode),D=new nn(y.childName,y.snapshotNode);return f.index_.compare(b,D)}(f,L,B)}),O.forEach(function(L){var B=function(f,d,y){return"value"===d.type||"child_removed"===d.type||(d.prevName=y.getPredecessorChildName(d.childName,d.snapshotNode,f.index_)),d}(f,L,I);D.forEach(function($){$.respondsTo(L.type)&&d.push($.createEvent(B,f.query_))})})}function vr(f,d){return{eventCache:f,serverCache:d}}function ao(f,d,y,b){return vr(new ss(d,y,b),f.serverCache)}function Qn(f,d,y,b){return vr(f.eventCache,new ss(d,y,b))}function $c(f){return f.eventCache.isFullyInitialized()?f.eventCache.getNode():null}function yu(f){return f.serverCache.isFullyInitialized()?f.serverCache.getNode():null}var Wc,Ri=function(){function f(d,y){void 0===y&&(Wc||(Wc=new Mo(gt)),y=Wc),this.value=d,this.children=y}return f.fromObject=function(d){var y=new f(null);return ct(d,function(b,D){y=y.set(new Lt(b),D)}),y},f.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},f.prototype.findRootMostMatchingPathAndValue=function(d,y){if(null!=this.value&&y(this.value))return{path:at(),value:this.value};if(It(d))return null;var b=xt(d),D=this.children.get(b);if(null!==D){var I=D.findRootMostMatchingPathAndValue(Yt(d),y);return null!=I?{path:Ot(new Lt(b),I.path),value:I.value}:null}return null},f.prototype.findRootMostValueAndPath=function(d){return this.findRootMostMatchingPathAndValue(d,function(){return!0})},f.prototype.subtree=function(d){if(It(d))return this;var y=xt(d),b=this.children.get(y);return null!==b?b.subtree(Yt(d)):new f(null)},f.prototype.set=function(d,y){if(It(d))return new f(y,this.children);var b=xt(d),I=(this.children.get(b)||new f(null)).set(Yt(d),y),O=this.children.insert(b,I);return new f(this.value,O)},f.prototype.remove=function(d){if(It(d))return this.children.isEmpty()?new f(null):new f(null,this.children);var y=xt(d),b=this.children.get(y);if(b){var D=b.remove(Yt(d)),I=void 0;return I=D.isEmpty()?this.children.remove(y):this.children.insert(y,D),null===this.value&&I.isEmpty()?new f(null):new f(this.value,I)}return this},f.prototype.get=function(d){if(It(d))return this.value;var y=xt(d),b=this.children.get(y);return b?b.get(Yt(d)):null},f.prototype.setTree=function(d,y){if(It(d))return y;var O,b=xt(d),I=(this.children.get(b)||new f(null)).setTree(Yt(d),y);return O=I.isEmpty()?this.children.remove(b):this.children.insert(b,I),new f(this.value,O)},f.prototype.fold=function(d){return this.fold_(at(),d)},f.prototype.fold_=function(d,y){var b={};return this.children.inorderTraversal(function(D,I){b[D]=I.fold_(Ot(d,D),y)}),y(d,this.value,b)},f.prototype.findOnPath=function(d,y){return this.findOnPath_(d,at(),y)},f.prototype.findOnPath_=function(d,y,b){var D=!!this.value&&b(y,this.value);if(D)return D;if(It(d))return null;var I=xt(d),O=this.children.get(I);return O?O.findOnPath_(Yt(d),Ot(y,I),b):null},f.prototype.foreachOnPath=function(d,y){return this.foreachOnPath_(d,at(),y)},f.prototype.foreachOnPath_=function(d,y,b){if(It(d))return this;this.value&&b(y,this.value);var D=xt(d),I=this.children.get(D);return I?I.foreachOnPath_(Yt(d),Ot(y,D),b):new f(null)},f.prototype.foreach=function(d){this.foreach_(at(),d)},f.prototype.foreach_=function(d,y){this.children.inorderTraversal(function(b,D){D.foreach_(Ot(d,b),y)}),this.value&&y(d,this.value)},f.prototype.foreachChild=function(d){this.children.inorderTraversal(function(y,b){b.value&&d(y,b.value)})},f}(),vi=function(){function f(d){this.writeTree_=d}return f.empty=function(){return new f(new Ri(null))},f}();function Vs(f,d,y){if(It(d))return new vi(new Ri(y));var b=f.writeTree_.findRootMostValueAndPath(d);if(null!=b){var D=b.path,I=b.value,O=Fn(D,d);return I=I.updateChild(O,y),new vi(f.writeTree_.set(D,I))}var L=new Ri(y),B=f.writeTree_.setTree(d,L);return new vi(B)}function Bs(f,d,y){var b=f;return ct(y,function(D,I){b=Vs(b,Ot(d,D),I)}),b}function Ol(f,d){if(It(d))return vi.empty();var y=f.writeTree_.setTree(d,new Ri(null));return new vi(y)}function Rl(f,d){return null!=Us(f,d)}function Us(f,d){var y=f.writeTree_.findRootMostValueAndPath(d);return null!=y?f.writeTree_.get(y.path).getChild(Fn(y.path,d)):null}function eg(f){var d=[],y=f.writeTree_.value;return null!=y?y.isLeafNode()||y.forEachChild(wn,function(b,D){d.push(new nn(b,D))}):f.writeTree_.children.inorderTraversal(function(b,D){null!=D.value&&d.push(new nn(b,D.value))}),d}function ai(f,d){if(It(d))return f;var y=Us(f,d);return new vi(null!=y?new Ri(y):f.writeTree_.subtree(d))}function _u(f){return f.writeTree_.isEmpty()}function kl(f,d){return tg(at(),f.writeTree_,d)}function tg(f,d,y){if(null!=d.value)return y.updateChild(f,d.value);var b=null;return d.children.inorderTraversal(function(D,I){".priority"===D?((0,P.hu)(null!==I.value,"Priority writes must always be leaf nodes"),b=I.value):y=tg(Ot(f,D),I,y)}),!y.getChild(f).isEmpty()&&null!==b&&(y=y.updateChild(Ot(f,".priority"),b)),y}function js(f,d){return jd(d,f)}function tI(f,d){if(f.snap)return _r(f.path,d);for(var y in f.children)if(f.children.hasOwnProperty(y)&&_r(Ot(f.path,y),d))return!0;return!1}function ng(f){return f.visible}function uo(f,d,y){for(var b=vi.empty(),D=0;D<f.length;++D){var I=f[D];if(d(I)){var O=I.path,L=void 0;if(I.snap)_r(y,O)?b=Vs(b,L=Fn(y,O),I.snap):_r(O,y)&&(L=Fn(O,y),b=Vs(b,at(),I.snap.getChild(L)));else{if(!I.children)throw(0,P.g5)("WriteRecord should have .snap or .children");if(_r(y,O))b=Bs(b,L=Fn(y,O),I.children);else if(_r(O,y))if(It(L=Fn(O,y)))b=Bs(b,at(),I.children);else{var B=(0,P.DV)(I.children,xt(L));if(B){var $=B.getChild(Yt(L));b=Vs(b,at(),$)}}}}}return b}function Pl(f,d,y,b,D){if(b||D){var B=ai(f.visibleWrites,d);return!D&&_u(B)?y:D||null!=y||Rl(B,at())?kl(uo(f.allWrites,function(xe){return(xe.visible||D)&&(!b||!~b.indexOf(xe.writeId))&&(_r(xe.path,d)||_r(d,xe.path))},d),y||St.EMPTY_NODE):null}var I=Us(f.visibleWrites,d);if(null!=I)return I;var O=ai(f.visibleWrites,d);return _u(O)?y:null!=y||Rl(O,at())?kl(O,y||St.EMPTY_NODE):null}function Ia(f,d,y,b){return Pl(f.writeTree,f.treePath,d,y,b)}function B_(f,d){return function(f,d,y){var b=St.EMPTY_NODE,D=Us(f.visibleWrites,d);if(D)return D.isLeafNode()||D.forEachChild(wn,function(L,B){b=b.updateImmediateChild(L,B)}),b;if(y){var I=ai(f.visibleWrites,d);return y.forEachChild(wn,function(L,B){var $=kl(ai(I,new Lt(L)),B);b=b.updateImmediateChild(L,$)}),eg(I).forEach(function(L){b=b.updateImmediateChild(L.name,L.node)}),b}return eg(ai(f.visibleWrites,d)).forEach(function(L){b=b.updateImmediateChild(L.name,L.node)}),b}(f.writeTree,f.treePath,d)}function Ud(f,d,y,b){return function(f,d,y,b,D){(0,P.hu)(b||D,"Either existingEventSnap or existingServerSnap must exist");var I=Ot(d,y);if(Rl(f.visibleWrites,I))return null;var O=ai(f.visibleWrites,I);return _u(O)?D.getChild(y):kl(O,D.getChild(y))}(f.writeTree,f.treePath,d,y,b)}function Kc(f,d){return function(f,d){return Us(f.visibleWrites,d)}(f.writeTree,Ot(f.treePath,d))}function og(f,d,y){return function(f,d,y,b){var D=Ot(d,y),I=Us(f.visibleWrites,D);return null!=I?I:b.isCompleteForChild(y)?kl(ai(f.visibleWrites,D),b.getNode().getImmediateChild(y)):null}(f.writeTree,f.treePath,d,y)}function vu(f,d){return jd(Ot(f.treePath,d),f.writeTree)}function jd(f,d){return{treePath:f,writeTree:d}}var jn=function(){function f(){this.changeMap=new Map}return f.prototype.trackChildChange=function(d){var y=d.type,b=d.childName;(0,P.hu)("child_added"===y||"child_changed"===y||"child_removed"===y,"Only child changes supported for tracking"),(0,P.hu)(".priority"!==b,"Only non-priority child changes can be tracked.");var D=this.changeMap.get(b);if(D){var I=D.type;if("child_added"===y&&"child_removed"===I)this.changeMap.set(b,Dl(b,d.snapshotNode,D.snapshotNode));else if("child_removed"===y&&"child_added"===I)this.changeMap.delete(b);else if("child_removed"===y&&"child_changed"===I)this.changeMap.set(b,Ct(b,D.oldSnap));else if("child_changed"===y&&"child_added"===I)this.changeMap.set(b,Fs(b,d.snapshotNode));else{if("child_changed"!==y||"child_changed"!==I)throw(0,P.g5)("Illegal combination of changes: "+d+" occurred after "+D);this.changeMap.set(b,Dl(b,d.snapshotNode,D.oldSnap))}}else this.changeMap.set(b,d)},f.prototype.getChanges=function(){return Array.from(this.changeMap.values())},f}(),Vt=new(function(){function f(){}return f.prototype.getCompleteChild=function(d){return null},f.prototype.getChildAfterChild=function(d,y,b){return null},f}()),Qc=function(){function f(d,y,b){void 0===b&&(b=null),this.writes_=d,this.viewCache_=y,this.optCompleteServerCache_=b}return f.prototype.getCompleteChild=function(d){var y=this.viewCache_.eventCache;if(y.isCompleteForChild(d))return y.getNode().getImmediateChild(d);var b=null!=this.optCompleteServerCache_?new ss(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return og(this.writes_,d,b)},f.prototype.getChildAfterChild=function(d,y,b){var D=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:yu(this.viewCache_),I=function(f,d,y,b,D,I){return function(f,d,y,b,D,I,O){var L,B=ai(f.visibleWrites,d),$=Us(B,at());if(null!=$)L=$;else{if(null==y)return[];L=kl(B,y)}if((L=L.withIndex(O)).isEmpty()||L.isLeafNode())return[];for(var K=[],me=O.getCompare(),xe=I?L.getReverseIteratorFrom(b,O):L.getIteratorFrom(b,O),Le=xe.getNext();Le&&K.length<D;)0!==me(Le,b)&&K.push(Le),Le=xe.getNext();return K}(f.writeTree,f.treePath,d,y,b,D,I)}(this.writes_,D,y,1,b,d);return 0===I.length?null:I[0]},f}();function Hd(f,d,y,b,D,I){var O=d.eventCache;if(null!=Kc(b,y))return d;var L=void 0,B=void 0;if(It(y))if((0,P.hu)(d.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),d.serverCache.isFiltered()){var $=yu(d),me=B_(b,$ instanceof St?$:St.EMPTY_NODE);L=f.filter.updateFullNode(d.eventCache.getNode(),me,I)}else{var xe=Ia(b,yu(d));L=f.filter.updateFullNode(d.eventCache.getNode(),xe,I)}else{var Le=xt(y);if(".priority"===Le){(0,P.hu)(1===ur(y),"Can't have a priority with additional path components");var Ke=O.getNode(),bt=Ud(b,y,Ke,B=d.serverCache.getNode());L=null!=bt?f.filter.updatePriority(Ke,bt):O.getNode()}else{var pt=Yt(y),kt=void 0;if(O.isCompleteForChild(Le)){B=d.serverCache.getNode();var Jn=Ud(b,y,O.getNode(),B);kt=null!=Jn?O.getNode().getImmediateChild(Le).updateChild(pt,Jn):O.getNode().getImmediateChild(Le)}else kt=og(b,Le,d.serverCache);L=null!=kt?f.filter.updateChild(O.getNode(),Le,kt,pt,D,I):O.getNode()}}return ao(d,L,O.isFullyInitialized()||It(y),f.filter.filtersNodes())}function Zc(f,d,y,b,D,I,O,L){var $,B=d.serverCache,K=O?f.filter:f.filter.getIndexedFilter();if(It(y))$=K.updateFullNode(B.getNode(),b,null);else if(K.filtersNodes()&&!B.isFiltered()){var me=B.getNode().updateChild(y,b);$=K.updateFullNode(B.getNode(),me,null)}else{var xe=xt(y);if(!B.isCompleteForPath(y)&&ur(y)>1)return d;var Le=Yt(y),bt=B.getNode().getImmediateChild(xe).updateChild(Le,b);$=".priority"===xe?K.updatePriority(B.getNode(),bt):K.updateChild(B.getNode(),xe,bt,Le,Vt,null)}var pt=Qn(d,$,B.isFullyInitialized()||It(y),K.filtersNodes());return Hd(f,pt,y,D,new Qc(D,pt,I),L)}function bu(f,d,y,b,D,I,O){var B,$,L=d.eventCache,K=new Qc(D,d,I);if(It(y))$=f.filter.updateFullNode(d.eventCache.getNode(),b,O),B=ao(d,$,!0,f.filter.filtersNodes());else{var me=xt(y);if(".priority"===me)$=f.filter.updatePriority(d.eventCache.getNode(),b),B=ao(d,$,L.isFullyInitialized(),L.isFiltered());else{var xe=Yt(y),Le=L.getNode().getImmediateChild(me),Ke=void 0;if(It(xe))Ke=b;else{var bt=K.getCompleteChild(me);Ke=null!=bt?".priority"===ns(xe)&&bt.getChild(ii(xe)).isEmpty()?bt:bt.updateChild(xe,b):St.EMPTY_NODE}B=Le.equals(Ke)?d:ao(d,f.filter.updateChild(L.getNode(),me,Ke,xe,K,O),L.isFullyInitialized(),f.filter.filtersNodes())}}return B}function Hn(f,d){return f.eventCache.isCompleteForChild(d)}function Gd(f,d,y){return y.foreach(function(b,D){d=d.updateChild(b,D)}),d}function Vl(f,d,y,b,D,I,O,L){if(d.serverCache.getNode().isEmpty()&&!d.serverCache.isFullyInitialized())return d;var $,B=d;$=It(y)?b:new Ri(null).setTree(y,b);var K=d.serverCache.getNode();return $.children.inorderTraversal(function(me,xe){if(K.hasChild(me)){var Ke=Gd(0,d.serverCache.getNode().getImmediateChild(me),xe);B=Zc(f,B,new Lt(me),Ke,D,I,O,L)}}),$.children.inorderTraversal(function(me,xe){var Le=!d.serverCache.isCompleteForChild(me)&&void 0===xe.value;if(!K.hasChild(me)&&!Le){var bt=Gd(0,d.serverCache.getNode().getImmediateChild(me),xe);B=Zc(f,B,new Lt(me),bt,D,I,O,L)}}),B}var ug=function(){function f(d,y){this.query_=d,this.eventRegistrations_=[];var b=this.query_._queryParams,D=new Fd(b.getIndex()),I=function(f){return f.loadsAllData()?new Fd(f.getIndex()):f.hasLimit()?new R_(f):new Wp(f)}(b);this.processor_=function(f){return{filter:f}}(I);var O=y.serverCache,L=y.eventCache,B=D.updateFullNode(St.EMPTY_NODE,O.getNode(),null),$=I.updateFullNode(St.EMPTY_NODE,L.getNode(),null),K=new ss(B,O.isFullyInitialized(),D.filtersNodes()),me=new ss($,L.isFullyInitialized(),I.filtersNodes());this.viewCache_=vr(me,K),this.eventGenerator_=new Jp(this.query_)}return Object.defineProperty(f.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),f}();function Eu(f,d){var y=yu(f.viewCache_);return y&&(f.query._queryParams.loadsAllData()||!It(d)&&!y.getImmediateChild(xt(d)).isEmpty())?y.getChild(d):null}function Hs(f){return 0===f.eventRegistrations_.length}function Oo(f,d,y){var b=[];if(y){(0,P.hu)(null==d,"A cancel should cancel all event registrations.");var D=f.query._path;f.eventRegistrations_.forEach(function(B){var $=B.createCancelEvent(y,D);$&&b.push($)})}if(d){for(var I=[],O=0;O<f.eventRegistrations_.length;++O){var L=f.eventRegistrations_[O];if(L.matches(d)){if(d.hasAnyCallback()){I=I.concat(f.eventRegistrations_.slice(O+1));break}}else I.push(L)}f.eventRegistrations_=I}else f.eventRegistrations_=[];return b}function U_(f,d,y,b){d.type===_i.MERGE&&null!==d.source.queryId&&((0,P.hu)(yu(f.viewCache_),"We should always have a full cache before handling merges"),(0,P.hu)($c(f.viewCache_),"Missing event cache, even though we have a server cache"));var D=f.viewCache_,I=function(f,d,y,b,D){var O,L,I=new jn;if(y.type===_i.OVERWRITE){var B=y;B.source.fromUser?O=bu(f,d,B.path,B.snap,b,D,I):((0,P.hu)(B.source.fromServer,"Unknown source."),L=B.source.tagged||d.serverCache.isFiltered()&&!It(B.path),O=Zc(f,d,B.path,B.snap,b,D,L,I))}else if(y.type===_i.MERGE){var $=y;$.source.fromUser?O=function(f,d,y,b,D,I,O){var L=d;return b.foreach(function(B,$){var K=Ot(y,B);Hn(d,xt(K))&&(L=bu(f,L,K,$,D,I,O))}),b.foreach(function(B,$){var K=Ot(y,B);Hn(d,xt(K))||(L=bu(f,L,K,$,D,I,O))}),L}(f,d,$.path,$.children,b,D,I):((0,P.hu)($.source.fromServer,"Unknown source."),L=$.source.tagged||d.serverCache.isFiltered(),O=Vl(f,d,$.path,$.children,b,D,L,I))}else if(y.type===_i.ACK_USER_WRITE){var K=y;O=K.revert?function(f,d,y,b,D,I){var O;if(null!=Kc(b,y))return d;var L=new Qc(b,d,D),B=d.eventCache.getNode(),$=void 0;if(It(y)||".priority"===xt(y)){var K=void 0;if(d.serverCache.isFullyInitialized())K=Ia(b,yu(d));else{var me=d.serverCache.getNode();(0,P.hu)(me instanceof St,"serverChildren would be complete if leaf node"),K=B_(b,me)}$=f.filter.updateFullNode(B,K=K,I)}else{var xe=xt(y),Le=og(b,xe,d.serverCache);null==Le&&d.serverCache.isCompleteForChild(xe)&&(Le=B.getImmediateChild(xe)),($=null!=Le?f.filter.updateChild(B,xe,Le,Yt(y),L,I):d.eventCache.getNode().hasChild(xe)?f.filter.updateChild(B,xe,St.EMPTY_NODE,Yt(y),L,I):B).isEmpty()&&d.serverCache.isFullyInitialized()&&(O=Ia(b,yu(d))).isLeafNode()&&($=f.filter.updateFullNode($,O,I))}return O=d.serverCache.isFullyInitialized()||null!=Kc(b,at()),ao(d,$,O,f.filter.filtersNodes())}(f,d,K.path,b,D,I):function(f,d,y,b,D,I,O){if(null!=Kc(D,y))return d;var L=d.serverCache.isFiltered(),B=d.serverCache;if(null!=b.value){if(It(y)&&B.isFullyInitialized()||B.isCompleteForPath(y))return Zc(f,d,y,B.getNode().getChild(y),D,I,L,O);if(It(y)){var $=new Ri(null);return B.getNode().forEachChild(Io,function(me,xe){$=$.set(new Lt(me),xe)}),Vl(f,d,y,$,D,I,L,O)}return d}var K=new Ri(null);return b.foreach(function(me,xe){var Le=Ot(y,me);B.isCompleteForPath(Le)&&(K=K.set(me,B.getNode().getChild(Le)))}),Vl(f,d,y,K,D,I,L,O)}(f,d,K.path,K.affectedTree,b,D,I)}else{if(y.type!==_i.LISTEN_COMPLETE)throw(0,P.g5)("Unknown operation type: "+y.type);O=function(f,d,y,b,D){var I=d.serverCache;return Hd(f,Qn(d,I.getNode(),I.isFullyInitialized()||It(y),I.isFiltered()),y,b,Vt,D)}(f,d,y.path,b,I)}var me=I.getChanges();return function(f,d,y){var b=d.eventCache;if(b.isFullyInitialized()){var D=b.getNode().isLeafNode()||b.getNode().isEmpty(),I=$c(f);(y.length>0||!f.eventCache.isFullyInitialized()||D&&!b.getNode().equals(I)||!b.getNode().getPriority().equals(I.getPriority()))&&y.push(Nd($c(d)))}}(d,O,me),{viewCache:O,changes:me}}(f.processor_,D,d,y,b);return function(f,d){(0,P.hu)(d.eventCache.getNode().isIndexed(f.filter.getIndex()),"Event snap not indexed"),(0,P.hu)(d.serverCache.getNode().isIndexed(f.filter.getIndex()),"Server snap not indexed")}(f.processor_,I.viewCache),(0,P.hu)(I.viewCache.serverCache.isFullyInitialized()||!D.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),f.viewCache_=I.viewCache,Pi(f,I.changes,I.viewCache.eventCache.getNode(),null)}function Pi(f,d,y,b){return function(f,d,y,b){var D=[],I=[];return d.forEach(function(O){"child_changed"===O.type&&f.index_.indexedValueChanged(O.oldSnap,O.snapshotNode)&&I.push(function(f,d){return{type:"child_moved",snapshotNode:d,childName:f}}(O.childName,O.snapshotNode))}),as(f,D,"child_removed",d,b,y),as(f,D,"child_added",d,b,y),as(f,D,"child_moved",I,b,y),as(f,D,"child_changed",d,b,y),as(f,D,"value",d,b,y),D}(f.eventGenerator_,d,y,b?[b]:f.eventRegistrations_)}var hr,Ro,lg=function(){this.views=new Map};function Ni(f,d,y,b){var D,I,O=d.source.queryId;if(null!==O){var L=f.views.get(O);return(0,P.hu)(null!=L,"SyncTree gave us an op for an invalid query."),U_(L,d,y,b)}var B=[];try{for(var $=(0,se.XA)(f.views.values()),K=$.next();!K.done;K=$.next())B=B.concat(U_(L=K.value,d,y,b))}catch(me){D={error:me}}finally{try{K&&!K.done&&(I=$.return)&&I.call($)}finally{if(D)throw D.error}}return B}function j_(f,d,y,b,D){var O=f.views.get(d._queryIdentifier);if(!O){var L=Ia(y,D?b:null),B=!1;L?B=!0:b instanceof St?(L=B_(y,b),B=!1):(L=St.EMPTY_NODE,B=!1);var $=vr(new ss(L,B,!1),new ss(b,D,!1));return new ug(d,$)}return O}function Ma(f){var d,y,b=[];try{for(var D=(0,se.XA)(f.views.values()),I=D.next();!I.done;I=D.next()){var O=I.value;O.query._queryParams.loadsAllData()||b.push(O)}}catch(L){d={error:L}}finally{try{I&&!I.done&&(y=D.return)&&y.call(D)}finally{if(d)throw d.error}}return b}function xa(f,d){var y,b,D=null;try{for(var I=(0,se.XA)(f.views.values()),O=I.next();!O.done;O=I.next())D=D||Eu(O.value,d)}catch(B){y={error:B}}finally{try{O&&!O.done&&(b=I.return)&&b.call(I)}finally{if(y)throw y.error}}return D}function H_(f,d){return d._queryParams.loadsAllData()?Gs(f):f.views.get(d._queryIdentifier)}function ui(f,d){return null!=H_(f,d)}function Oa(f){return null!=Gs(f)}function Gs(f){var d,y;try{for(var b=(0,se.XA)(f.views.values()),D=b.next();!D.done;D=b.next()){var I=D.value;if(I.query._queryParams.loadsAllData())return I}}catch(O){d={error:O}}finally{try{D&&!D.done&&(y=b.return)&&y.call(b)}finally{if(d)throw d.error}}return null}var Mr=1,wu=function(d){this.listenProvider_=d,this.syncPointTree_=new Ri(null),this.pendingWriteTree_={visibleWrites:vi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Bl(f,d,y,b,D){return function(f,d,y,b,D){(0,P.hu)(b>f.lastWriteId,"Stacking an older write on top of newer ones"),void 0===D&&(D=!0),f.allWrites.push({path:d,snap:y,writeId:b,visible:D}),D&&(f.visibleWrites=Vs(f.visibleWrites,d,y)),f.lastWriteId=b}(f.pendingWriteTree_,d,y,b,D),D?$n(f,new Sa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,y)):[]}function Ur(f,d,y){void 0===y&&(y=!1);var b=function(f,d){for(var y=0;y<f.allWrites.length;y++){var b=f.allWrites[y];if(b.writeId===d)return b}return null}(f.pendingWriteTree_,d);if(function(f,d){var y=f.allWrites.findIndex(function($){return $.writeId===d});(0,P.hu)(y>=0,"removeWrite called with nonexistent writeId.");var b=f.allWrites[y];f.allWrites.splice(y,1);for(var D=b.visible,I=!1,O=f.allWrites.length-1;D&&O>=0;){var L=f.allWrites[O];L.visible&&(O>=y&&tI(L,b.path)?D=!1:_r(b.path,L.path)&&(I=!0)),O--}return!!D&&(I?(function(f){f.visibleWrites=uo(f.allWrites,ng,at()),f.lastWriteId=f.allWrites.length>0?f.allWrites[f.allWrites.length-1].writeId:-1}(f),!0):(b.snap?f.visibleWrites=Ol(f.visibleWrites,b.path):ct(b.children,function($){f.visibleWrites=Ol(f.visibleWrites,Ot(b.path,$))}),!0))}(f.pendingWriteTree_,d)){var I=new Ri(null);return null!=b.snap?I=I.set(at(),!0):ct(b.children,function(O){I=I.set(new Lt(O),!0)}),$n(f,new Zp(b.path,I,y))}return[]}function hs(f,d,y){return $n(f,new Sa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,y))}function Xc(f,d,y,b){var D=d._path,I=f.syncPointTree_.get(D),O=[];if(I&&("default"===d._queryIdentifier||ui(I,d))){var L=function(f,d,y,b){var D,I,O=d._queryIdentifier,L=[],B=[],$=Oa(f);if("default"===O)try{for(var K=(0,se.XA)(f.views.entries()),me=K.next();!me.done;me=K.next()){var Ke,xe=(0,se.CR)(me.value,2),Le=xe[0];B=B.concat(Oo(Ke=xe[1],y,b)),Hs(Ke)&&(f.views.delete(Le),Ke.query._queryParams.loadsAllData()||L.push(Ke.query))}}catch(bt){D={error:bt}}finally{try{me&&!me.done&&(I=K.return)&&I.call(K)}finally{if(D)throw D.error}}else(Ke=f.views.get(O))&&(B=B.concat(Oo(Ke,y,b)),Hs(Ke)&&(f.views.delete(O),Ke.query._queryParams.loadsAllData()||L.push(Ke.query)));return $&&!Oa(f)&&L.push(new((0,P.hu)(hr,"Reference.ts has not been loaded"),hr)(d._repo,d._path)),{removed:L,events:B}}(I,d,y,b);(function(f){return 0===f.views.size})(I)&&(f.syncPointTree_=f.syncPointTree_.remove(D));var B=L.removed;O=L.events;var $=-1!==B.findIndex(function(Jn){return Jn._queryParams.loadsAllData()}),K=f.syncPointTree_.findOnPath(D,function(Jn,Xi){return Oa(Xi)});if($&&!K){var me=f.syncPointTree_.subtree(D);if(!me.isEmpty())for(var xe=function(f){return f.fold(function(d,y,b){if(y&&Oa(y))return[Gs(y)];var I=[];return y&&(I=Ma(y)),ct(b,function(O,L){I=I.concat(L)}),I})}(me),Le=0;Le<xe.length;++Le){var Ke=xe[Le],bt=Ke.query,pt=eh(f,Ke);f.listenProvider_.startListening(Na(bt),th(f,bt),pt.hashFn,pt.onComplete)}}!K&&B.length>0&&!b&&($?f.listenProvider_.stopListening(Na(d),null):B.forEach(function(Jn){var Xi=f.queryToTagMap.get(nh(Jn));f.listenProvider_.stopListening(Na(Jn),Xi)})),function(f,d){for(var y=0;y<d.length;++y){var b=d[y];if(!b._queryParams.loadsAllData()){var D=nh(b),I=f.queryToTagMap.get(D);f.queryToTagMap.delete(D),f.tagToQueryMap.delete(I)}}}(f,B)}return O}function hg(f,d,y){var b=d._path,D=null,I=!1;f.syncPointTree_.foreachOnPath(b,function(bt,pt){var kt=Fn(bt,b);D=D||xa(pt,kt),I=I||Oa(pt)});var L,O=f.syncPointTree_.get(b);O?(I=I||Oa(O),D=D||xa(O,at())):(O=new lg,f.syncPointTree_=f.syncPointTree_.set(b,O)),null!=D?L=!0:(L=!1,D=St.EMPTY_NODE,f.syncPointTree_.subtree(b).foreachChild(function(bt,pt){var kt=xa(pt,at());kt&&(D=D.updateImmediateChild(bt,kt))}));var $=ui(O,d);if(!$&&!d._queryParams.loadsAllData()){var K=nh(d);(0,P.hu)(!f.queryToTagMap.has(K),"View does not exist, but we have a tag");var me=Mr++;f.queryToTagMap.set(K,me),f.tagToQueryMap.set(me,K)}var Le=function(f,d,y,b,D,I){var O=j_(f,d,b,D,I);return f.views.has(d._queryIdentifier)||f.views.set(d._queryIdentifier,O),function(f,d){f.eventRegistrations_.push(d)}(O,y),function(f,d){var y=f.viewCache_.eventCache,b=[];return y.getNode().isLeafNode()||y.getNode().forEachChild(wn,function(I,O){b.push(Fs(I,O))}),y.isFullyInitialized()&&b.push(Nd(y.getNode())),Pi(f,b,y.getNode(),d)}(O,y)}(O,d,y,js(f.pendingWriteTree_,b),D,L);if(!$&&!I){var Ke=H_(O,d);Le=Le.concat(function(f,d,y){var b=d._path,D=th(f,d),I=eh(f,y),O=f.listenProvider_.startListening(Na(d),D,I.hashFn,I.onComplete),L=f.syncPointTree_.subtree(b);if(D)(0,P.hu)(!Oa(L.value),"If we're adding a query, it shouldn't be shadowed");else for(var B=L.fold(function(me,xe,Le){if(!It(me)&&xe&&Oa(xe))return[Gs(xe).query];var Ke=[];return xe&&(Ke=Ke.concat(Ma(xe).map(function(bt){return bt.query}))),ct(Le,function(bt,pt){Ke=Ke.concat(pt)}),Ke}),$=0;$<B.length;++$){var K=B[$];f.listenProvider_.stopListening(Na(K),th(f,K))}return O}(f,d,Ke))}return Le}function Ul(f,d,y){var D=f.pendingWriteTree_,I=f.syncPointTree_.findOnPath(d,function(O,L){var $=xa(L,Fn(O,d));if($)return $});return Pl(D,d,I,y,!0)}function $n(f,d){return ka(d,f.syncPointTree_,null,js(f.pendingWriteTree_,at()))}function ka(f,d,y,b){if(It(f.path))return ko(f,d,y,b);var D=d.get(at());null==y&&null!=D&&(y=xa(D,at()));var I=[],O=xt(f.path),L=f.operationForChild(O),B=d.children.get(O);if(B&&L){var $=y?y.getImmediateChild(O):null,K=vu(b,O);I=I.concat(ka(L,B,$,K))}return D&&(I=I.concat(Ni(D,f,b,y))),I}function ko(f,d,y,b){var D=d.get(at());null==y&&null!=D&&(y=xa(D,at()));var I=[];return d.children.inorderTraversal(function(O,L){var B=y?y.getImmediateChild(O):null,$=vu(b,O),K=f.operationForChild(O);K&&(I=I.concat(ko(K,L,B,$)))}),D&&(I=I.concat(Ni(D,f,b,y))),I}function eh(f,d){var y=d.query,b=th(f,y);return{hashFn:function(){return(function(f){return f.viewCache_.serverCache.getNode()}(d)||St.EMPTY_NODE).hash()},onComplete:function(D){if("ok"===D)return b?function(f,d,y){var b=co(f,y);if(b){var D=jl(b),I=D.path,O=D.queryId,L=Fn(I,d);return Pa(f,I,new zc(Ls(O),L))}return[]}(f,y._path,b):function(f,d){return $n(f,new zc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d))}(f,y._path);var I=function(f,d){var y="Unknown Error";"too_big"===f?y="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===f?y="Client doesn't have permission to access the desired data.":"unavailable"===f&&(y="The service is unavailable");var b=new Error(f+" at "+d._path.toString()+": "+y);return b.code=f.toUpperCase(),b}(D,y);return Xc(f,y,null,I)}}}function th(f,d){var y=nh(d);return f.queryToTagMap.get(y)}function nh(f){return f._path.toString()+"$"+f._queryIdentifier}function co(f,d){return f.tagToQueryMap.get(d)}function jl(f){var d=f.indexOf("$");return(0,P.hu)(-1!==d&&d<f.length-1,"Bad queryKey."),{queryId:f.substr(d+1),path:new Lt(f.substr(0,d))}}function Pa(f,d,y){var b=f.syncPointTree_.get(d);return(0,P.hu)(b,"Missing sync point for query tag that we're tracking"),Ni(b,y,js(f.pendingWriteTree_,d),null)}function Na(f){return f._queryParams.loadsAllData()&&!f._queryParams.isDefault()?new((0,P.hu)(Ro,"Reference.ts has not been loaded"),Ro)(f._repo,f._path):f}var $d=function(){function f(d){this.node_=d}return f.prototype.getImmediateChild=function(d){return new f(this.node_.getImmediateChild(d))},f.prototype.node=function(){return this.node_},f}(),Tu=function(){function f(d,y){this.syncTree_=d,this.path_=y}return f.prototype.getImmediateChild=function(d){var y=Ot(this.path_,d);return new f(this.syncTree_,y)},f.prototype.node=function(){return Ul(this.syncTree_,this.path_)},f}(),Wd=function(f,d,y){return f&&"object"==typeof f?((0,P.hu)(".sv"in f,"Unexpected leaf node or priority contents"),"string"==typeof f[".sv"]?z_(f[".sv"],d,y):"object"==typeof f[".sv"]?Yd(f[".sv"],d):void(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(f,null,2))):f},z_=function(f,d,y){switch(f){case"timestamp":return y.timestamp;default:(0,P.hu)(!1,"Unexpected server value: "+f)}},Yd=function(f,d,y){f.hasOwnProperty("increment")||(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(f,null,2));var b=f.increment;"number"!=typeof b&&(0,P.hu)(!1,"Unexpected increment value: "+b);var D=d.node();if((0,P.hu)(null!=D,"Expected ChildrenNode.EMPTY_NODE for nulls"),!D.isLeafNode())return b;var O=D.getValue();return"number"!=typeof O?b:O+b},q_=function(f,d,y,b){return qs(d,new Tu(y,f),b)},Gl=function(f,d,y){return qs(f,new $d(d),y)};function qs(f,d,y){var I,b=f.getPriority().val(),D=Wd(b,d.getImmediateChild(".priority"),y);if(f.isLeafNode()){var O=f,L=Wd(O.getValue(),d,y);return L!==O.getValue()||D!==O.getPriority().val()?new wa(L,zn(D)):f}var B=f;return I=B,D!==B.getPriority().val()&&(I=I.updatePriority(new wa(D))),B.forEachChild(wn,function($,K){var me=qs(K,d.getImmediateChild($),y);me!==K&&(I=I.updateImmediateChild($,me))}),I}var Rt=function(d,y,b){void 0===d&&(d=""),void 0===y&&(y=null),void 0===b&&(b={children:{},childCount:0}),this.name=d,this.parent=y,this.node=b};function ih(f,d){for(var y=d instanceof Lt?d:new Lt(d),b=f,D=xt(y);null!==D;){var I=(0,P.DV)(b.node.children,D)||{children:{},childCount:0};b=new Rt(D,b,I),D=xt(y=Yt(y))}return b}function ln(f){return f.node.value}function zl(f,d){f.node.value=d,Kd(f)}function oh(f){return f.node.childCount>0}function $s(f,d){ct(f.node.children,function(y,b){d(new Rt(y,f,b))})}function fg(f,d,y,b){y&&!b&&d(f),$s(f,function(D){fg(D,d,!0,b)}),y&&b&&d(f)}function La(f){return new Lt(null===f.parent?f.name:La(f.parent)+"/"+f.name)}function Kd(f){null!==f.parent&&function(f,d,y){var b=function(f){return void 0===ln(f)&&!oh(f)}(y),D=(0,P.r3)(f.node.children,d);b&&D?(delete f.node.children[d],f.node.childCount--,Kd(f)):!b&&!D&&(f.node.children[d]=y.node,f.node.childCount++,Kd(f))}(f.parent,f.name,f)}var Ws=/[\[\].#$\/\u0000-\u001F\u007F]/,dr=/[\[\].#$\u0000-\u001F\u007F]/,Er=10485760,sh=function(f){return"string"==typeof f&&0!==f.length&&!Ws.test(f)},Qd=function(f){return"string"==typeof f&&0!==f.length&&!dr.test(f)},ds=function(f){return null===f||"string"==typeof f||"number"==typeof f&&!be(f)||f&&"object"==typeof f&&(0,P.r3)(f,".sv")},fo=function(f,d,y,b){b&&void 0===d||Su((0,P.gK)(f,"value"),d,y)},Su=function(f,d,y){var b=y instanceof Lt?new du(y,f):y;if(void 0===d)throw new Error(f+"contains undefined "+J(b));if("function"==typeof d)throw new Error(f+"contains a function "+J(b)+" with contents = "+d.toString());if(be(d))throw new Error(f+"contains "+d.toString()+" "+J(b));if("string"==typeof d&&d.length>Er/3&&(0,P.ug)(d)>Er)throw new Error(f+"contains a string greater than "+Er+" utf8 bytes "+J(b)+" ('"+d.substring(0,50)+"...')");if(d&&"object"==typeof d){var D=!1,I=!1;if(ct(d,function(O,L){if(".value"===O)D=!0;else if(".priority"!==O&&".sv"!==O&&(I=!0,!sh(O)))throw new Error(f+" contains an invalid key ("+O+") "+J(b)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(f,d){f.parts_.length>0&&(f.byteLength_+=1),f.parts_.push(d),f.byteLength_+=(0,P.ug)(d),H(f)})(b,O),Su(f,L,b),function(f){var d=f.parts_.pop();f.byteLength_-=(0,P.ug)(d),f.parts_.length>0&&(f.byteLength_-=1)}(b)}),D&&I)throw new Error(f+' contains ".value" child '+J(b)+" in addition to actual children.")}},Ys=function(f,d,y,b){if(!b||void 0!==d){var D=(0,P.gK)(f,"values");if(!d||"object"!=typeof d||Array.isArray(d))throw new Error(D+" must be an object containing the children to replace.");var I=[];ct(d,function(O,L){var B=new Lt(O);if(Su(D,L,Ot(y,B)),".priority"===ns(B)&&!ds(L))throw new Error(D+"contains an invalid value for '"+B.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");I.push(B)}),function(f,d){var y,b;for(y=0;y<d.length;y++)for(var D=mi(b=d[y]),I=0;I<D.length;I++)if((".priority"!==D[I]||I!==D.length-1)&&!sh(D[I]))throw new Error(f+"contains an invalid key ("+D[I]+") in path "+b.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');d.sort(oi);var O=null;for(y=0;y<d.length;y++){if(b=d[y],null!==O&&_r(O,b))throw new Error(f+"contains a path "+O.toString()+" that is ancestor of another path "+b.toString());O=b}}(D,I)}},Ks=function(f,d,y){if(!y||void 0!==d){if(be(d))throw new Error((0,P.gK)(f,"priority")+"is "+d.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ds(d))throw new Error((0,P.gK)(f,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},uh=function(f,d,y){if(!y||void 0!==d)switch(d){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,P.gK)(f,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Po=function(f,d,y,b){if(!(b&&void 0===y||sh(y)))throw new Error((0,P.gK)(f,d)+'was an invalid key = "'+y+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},zt=function(f,d,y,b){if(!(b&&void 0===y||Qd(y)))throw new Error((0,P.gK)(f,d)+'was an invalid path = "'+y+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},po=function(f,d){if(".info"===xt(d))throw new Error(f+" failed = Can't modify data under /.info/")},Qs=function(f,d){var y=d.path.toString();if("string"!=typeof d.repoInfo.host||0===d.repoInfo.host.length||!sh(d.repoInfo.namespace)&&"localhost"!==d.repoInfo.host.split(":")[0]||0!==y.length&&!function(f){return f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),Qd(f)}(y))throw new Error((0,P.gK)(f,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},W_=function(f,d,y,b){if((!b||void 0!==y)&&"boolean"!=typeof y)throw new Error((0,P.gK)(f,d)+"must be a boolean.")},Zd=function(){this.eventLists_=[],this.recursionDepth_=0};function Zs(f,d){for(var y=null,b=0;b<d.length;b++){var D=d[b],I=D.getPath();null!==y&&!rs(I,y.path)&&(f.eventLists_.push(y),y=null),null===y&&(y={events:[],path:I}),y.events.push(D)}y&&f.eventLists_.push(y)}function $l(f,d,y){Zs(f,y),Au(f,function(b){return rs(b,d)})}function fr(f,d,y){Zs(f,y),Au(f,function(b){return _r(b,d)||_r(d,b)})}function Au(f,d){f.recursionDepth_++;for(var y=!0,b=0;b<f.eventLists_.length;b++){var D=f.eventLists_[b];D&&(d(D.path)?(pg(f.eventLists_[b]),f.eventLists_[b]=null):y=!1)}y&&(f.eventLists_=[]),f.recursionDepth_--}function pg(f){for(var d=0;d<f.events.length;d++){var y=f.events[d];if(null!==y){f.events[d]=null;var b=y.getEventRunner();He&&ut("event: "+y.toString()),an(b)}}}var lh="repo_interrupt",Wl=function(){function f(d,y,b,D){this.repoInfo_=d,this.forceRestClient_=y,this.authTokenProvider_=b,this.appCheckProvider_=D,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Zd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ta(),this.transactionQueueTree_=new Rt,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return f.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},f}();function hh(f){var y=f.infoData_.getNode(new Lt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+y}function Ba(f){return function(f){return(f=f||{}).timestamp=f.timestamp||(new Date).getTime(),f}({timestamp:hh(f)})}function Js(f,d,y,b,D){f.dataUpdateCount++;var I=new Lt(d);y=f.interceptServerDataCallback_?f.interceptServerDataCallback_(d,y):y;var O=[];if(D)if(b){var L=(0,P.UI)(y,function(xe){return zn(xe)});O=function(f,d,y,b){var D=co(f,b);if(D){var I=jl(D),O=I.path,L=I.queryId,B=Fn(O,d),$=Ri.fromObject(y);return Pa(f,O,new qc(Ls(L),B,$))}return[]}(f.serverSyncTree_,I,L,D)}else{var B=zn(y);O=function(f,d,y,b){var D=co(f,b);if(null!=D){var I=jl(D),O=I.path,L=I.queryId,B=Fn(O,d);return Pa(f,O,new Sa(Ls(L),B,y))}return[]}(f.serverSyncTree_,I,B,D)}else if(b){var $=(0,P.UI)(y,function(xe){return zn(xe)});O=function(f,d,y){var b=Ri.fromObject(y);return $n(f,new qc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,b))}(f.serverSyncTree_,I,$)}else{var K=zn(y);O=hs(f.serverSyncTree_,I,K)}var me=I;O.length>0&&(me=Ua(f,I)),fr(f.eventQueue_,me,O)}function gg(f,d){Jd(f,"connected",d),!1===d&&function(f){gs(f,"onDisconnectEvents");var d=Ba(f),y=Ta();Oi(f.onDisconnect_,at(),function(D,I){var O=q_(D,I,f.serverSyncTree_,d);os(y,D,O)});var b=[];Oi(y,at(),function(D,I){b=b.concat(hs(f.serverSyncTree_,D,I));var O=ea(f,D);Ua(f,O)}),f.onDisconnect_=Ta(),fr(f.eventQueue_,at(),b)}(f)}function Jd(f,d,y){var b=new Lt("/.info/"+d),D=zn(y);f.infoData_.updateSnapshot(b,D);var I=hs(f.infoSyncTree_,b,D);fr(f.eventQueue_,b,I)}function fh(f){return f.nextWriteId_++}function Xs(f,d,y,b,D){gs(f,"set",{path:d.toString(),value:y,priority:b});var I=Ba(f),O=zn(y,b),L=Ul(f.serverSyncTree_,d),B=Gl(O,L,I),$=fh(f),K=Bl(f.serverSyncTree_,d,B,$,!0);Zs(f.eventQueue_,K),f.server_.put(d.toString(),O.val(!0),function(xe,Le){var Ke="ok"===xe;Ke||Zt("set at "+d+" failed: "+xe);var bt=Ur(f.serverSyncTree_,$,!Ke);fr(f.eventQueue_,d,bt),Fi(0,D,xe,Le)});var me=ea(f,d);Ua(f,me),fr(f.eventQueue_,me,[])}function Xd(f,d,y){f.server_.onDisconnectCancel(d.toString(),function(b,D){"ok"===b&&cr(f.onDisconnect_,d),Fi(0,y,b,D)})}function ph(f,d,y,b){var D=zn(y);f.server_.onDisconnectPut(d.toString(),D.val(!0),function(I,O){"ok"===I&&os(f.onDisconnect_,d,D),Fi(0,b,I,O)})}function gh(f,d,y){var b;b=".info"===xt(d._path)?Xc(f.infoSyncTree_,d,y):Xc(f.serverSyncTree_,d,y),$l(f.eventQueue_,d._path,b)}function _g(f){f.persistentConnection_&&f.persistentConnection_.interrupt(lh)}function gs(f){for(var d=[],y=1;y<arguments.length;y++)d[y-1]=arguments[y];var b="";f.persistentConnection_&&(b=f.persistentConnection_.id+":"),ut.apply(void 0,(0,se.ev)([b],(0,se.CR)(d)))}function Fi(f,d,y,b){d&&an(function(){if("ok"===y)d(null);else{var D=(y||"error").toUpperCase(),I=D;b&&(I+=": "+b);var O=new Error(I);O.code=D,d(O)}})}function Li(f,d,y){return Ul(f.serverSyncTree_,d,y)||St.EMPTY_NODE}function No(f,d){if(void 0===d&&(d=f.transactionQueueTree_),d||Mu(f,d),ln(d)){var y=K_(f,d);(0,P.hu)(y.length>0,"Sending zero length transaction queue"),y.every(function(D){return 0===D.status})&&function(f,d,y){for(var b=y.map(function(xe){return xe.currentWriteId}),D=Li(f,d,b),I=D,O=D.hash(),L=0;L<y.length;L++){var B=y[L];(0,P.hu)(0===B.status,"tryToSendTransactionQueue_: items in queue should all be run."),B.status=1,B.retryCount++;var $=Fn(d,B.path);I=I.updateChild($,B.currentOutputSnapshotRaw)}var K=I.val(!0),me=d;f.server_.put(me.toString(),K,function(xe){gs(f,"transaction put response",{path:me.toString(),status:xe});var Le=[];if("ok"===xe){for(var Ke=[],bt=function(kt){y[kt].status=2,Le=Le.concat(Ur(f.serverSyncTree_,y[kt].currentWriteId)),y[kt].onComplete&&Ke.push(function(){return y[kt].onComplete(null,!0,y[kt].currentOutputSnapshotResolved)}),y[kt].unwatcher()},pt=0;pt<y.length;pt++)bt(pt);for(Mu(f,ih(f.transactionQueueTree_,d)),No(f,f.transactionQueueTree_),fr(f.eventQueue_,d,Le),pt=0;pt<Ke.length;pt++)an(Ke[pt])}else{if("datastale"===xe)for(pt=0;pt<y.length;pt++)y[pt].status=3===y[pt].status?4:0;else for(Zt("transaction at "+me.toString()+" failed: "+xe),pt=0;pt<y.length;pt++)y[pt].status=4,y[pt].abortReason=xe;Ua(f,d)}},O)}(f,La(d),y)}else oh(d)&&$s(d,function(D){No(f,D)})}function Ua(f,d){var y=bg(f,d),b=La(y);return function(f,d,y){if(0!==d.length){for(var b=[],D=[],O=d.filter(function($){return 0===$.status}).map(function($){return $.currentWriteId}),L=function($){var Le,K=d[$],me=Fn(y,K.path),xe=!1;if((0,P.hu)(null!==me,"rerunTransactionsUnderNode_: relativePath should not be null."),4===K.status)xe=!0,Le=K.abortReason,D=D.concat(Ur(f.serverSyncTree_,K.currentWriteId,!0));else if(0===K.status)if(K.retryCount>=25)xe=!0,Le="maxretry",D=D.concat(Ur(f.serverSyncTree_,K.currentWriteId,!0));else{var Ke=Li(f,K.path,O);K.currentInputSnapshot=Ke;var bt=d[$].update(Ke.val());if(void 0!==bt){Su("transaction failed: Data returned ",bt,K.path);var pt=zn(bt);"object"==typeof bt&&null!=bt&&(0,P.r3)(bt,".priority")||(pt=pt.updatePriority(Ke.getPriority()));var Jn=K.currentWriteId,Xi=Ba(f),$a=Gl(pt,Ke,Xi);K.currentOutputSnapshotRaw=pt,K.currentOutputSnapshotResolved=$a,K.currentWriteId=fh(f),O.splice(O.indexOf(Jn),1),D=(D=D.concat(Bl(f.serverSyncTree_,K.path,$a,K.currentWriteId,K.applyLocally))).concat(Ur(f.serverSyncTree_,Jn,!0))}else xe=!0,Le="nodata",D=D.concat(Ur(f.serverSyncTree_,K.currentWriteId,!0))}fr(f.eventQueue_,y,D),D=[],xe&&(d[$].status=2,setTimeout(d[$].unwatcher,Math.floor(0)),d[$].onComplete&&b.push("nodata"===Le?function(){return d[$].onComplete(null,!1,d[$].currentInputSnapshot)}:function(){return d[$].onComplete(new Error(Le),!1,null)}))},B=0;B<d.length;B++)L(B);for(Mu(f,f.transactionQueueTree_),B=0;B<b.length;B++)an(b[B]);No(f,f.transactionQueueTree_)}}(f,K_(f,y),b),b}function bg(f,d){var y,b=f.transactionQueueTree_;for(y=xt(d);null!==y&&void 0===ln(b);)b=ih(b,y),y=xt(d=Yt(d));return b}function K_(f,d){var y=[];return Q_(f,d,y),y.sort(function(b,D){return b.order-D.order}),y}function Q_(f,d,y){var b=ln(d);if(b)for(var D=0;D<b.length;D++)y.push(b[D]);$s(d,function(I){Q_(f,I,y)})}function Mu(f,d){var y=ln(d);if(y){for(var b=0,D=0;D<y.length;D++)2!==y[D].status&&(y[b]=y[D],b++);y.length=b,zl(d,y.length>0?y:void 0)}$s(d,function(I){Mu(f,I)})}function ea(f,d){var y=La(bg(f,d)),b=ih(f.transactionQueueTree_,d);return function(f,d,y){for(var b=f.parent;null!==b;){if(d(b))return!0;b=b.parent}}(b,function(D){ms(f,D)}),ms(f,b),fg(b,function(D){ms(f,D)}),y}function ms(f,d){var y=ln(d);if(y){for(var b=[],D=[],I=-1,O=0;O<y.length;O++)3===y[O].status||(1===y[O].status?((0,P.hu)(I===O-1,"All SENT items should be at beginning of queue."),I=O,y[O].status=3,y[O].abortReason="set"):((0,P.hu)(0===y[O].status,"Unexpected transaction status in abort"),y[O].unwatcher(),D=D.concat(Ur(f.serverSyncTree_,y[O].currentWriteId,!0)),y[O].onComplete&&b.push(y[O].onComplete.bind(null,new Error("set"),!1,null))));for(-1===I?zl(d,void 0):y.length=I+1,fr(f.eventQueue_,La(d),D),O=0;O<b.length;O++)an(b[O])}}var Zl=function(f,d){var y=J_(f),b=y.namespace;return"firebase.com"===y.domain&&Qt(y.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!b||"undefined"===b)&&"localhost"!==y.domain&&Qt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),y.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Zt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Un(y.host,y.secure,b,d,"ws"===y.scheme||"wss"===y.scheme,"",b!==y.subdomain),path:new Lt(y.pathString)}},J_=function(f){var d="",y="",b="",D="",I="",O=!0,L="https",B=443;if("string"==typeof f){var $=f.indexOf("//");$>=0&&(L=f.substring(0,$-1),f=f.substring($+2));var K=f.indexOf("/");-1===K&&(K=f.length);var me=f.indexOf("?");-1===me&&(me=f.length),d=f.substring(0,Math.min(K,me)),K<me&&(D=function(f){for(var d="",y=f.split("/"),b=0;b<y.length;b++)if(y[b].length>0){var D=y[b];try{D=decodeURIComponent(D.replace(/\+/g," "))}catch(I){}d+="/"+D}return d}(f.substring(K,me)));var xe=function(f){var d,y,b={};"?"===f.charAt(0)&&(f=f.substring(1));try{for(var D=(0,se.XA)(f.split("&")),I=D.next();!I.done;I=D.next()){var O=I.value;if(0!==O.length){var L=O.split("=");2===L.length?b[decodeURIComponent(L[0])]=decodeURIComponent(L[1]):Zt("Invalid query segment '"+O+"' in query '"+f+"'")}}}catch(B){d={error:B}}finally{try{I&&!I.done&&(y=D.return)&&y.call(D)}finally{if(d)throw d.error}}return b}(f.substring(Math.min(f.length,me)));($=d.indexOf(":"))>=0?(O="https"===L||"wss"===L,B=parseInt(d.substring($+1),10)):$=d.length;var Le=d.slice(0,$);if("localhost"===Le.toLowerCase())y="localhost";else if(Le.split(".").length<=2)y=Le;else{var Ke=d.indexOf(".");b=d.substring(0,Ke).toLowerCase(),y=d.substring(Ke+1),I=b}"ns"in xe&&(I=xe.ns)}return{host:d,port:B,domain:y,subdomain:b,secure:O,scheme:L,pathString:D,namespace:I}},_h=function(){function f(d,y,b,D){this.eventType=d,this.eventRegistration=y,this.snapshot=b,this.prevName=D}return f.prototype.getPath=function(){var d=this.snapshot.ref;return"value"===this.eventType?d._path:d.parent._path},f.prototype.getEventType=function(){return this.eventType},f.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},f.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,P.Pz)(this.snapshot.exportVal())},f}(),Eg=function(){function f(d,y,b){this.eventRegistration=d,this.error=y,this.path=b}return f.prototype.getPath=function(){return this.path},f.prototype.getEventType=function(){return"cancel"},f.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},f.prototype.toString=function(){return this.path.toString()+":cancel"},f}(),wg=function(){function f(d,y){this.snapshotCallback=d,this.cancelCallback=y}return f.prototype.onValue=function(d,y){this.snapshotCallback.call(null,d,y)},f.prototype.onCancel=function(d){return(0,P.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,d)},Object.defineProperty(f.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),f.prototype.matches=function(d){return this.snapshotCallback===d.snapshotCallback||this.snapshotCallback.userCallback===d.snapshotCallback.userCallback&&this.snapshotCallback.context===d.snapshotCallback.context},f}(),Dg=function(){function f(d,y){this._repo=d,this._path=y}return f.prototype.cancel=function(){var d=new P.BH;return Xd(this._repo,this._path,d.wrapCallback(function(){})),d.promise},f.prototype.remove=function(){po("OnDisconnect.remove",this._path);var d=new P.BH;return ph(this._repo,this._path,null,d.wrapCallback(function(){})),d.promise},f.prototype.set=function(d){po("OnDisconnect.set",this._path),fo("OnDisconnect.set",d,this._path,!1);var y=new P.BH;return ph(this._repo,this._path,d,y.wrapCallback(function(){})),y.promise},f.prototype.setWithPriority=function(d,y){po("OnDisconnect.setWithPriority",this._path),fo("OnDisconnect.setWithPriority",d,this._path,!1),Ks("OnDisconnect.setWithPriority",y,!1);var b=new P.BH;return function(f,d,y,b,D){var I=zn(y,b);f.server_.onDisconnectPut(d.toString(),I.val(!0),function(O,L){"ok"===O&&os(f.onDisconnect_,d,I),Fi(0,D,O,L)})}(this._repo,this._path,d,y,b.wrapCallback(function(){})),b.promise},f.prototype.update=function(d){po("OnDisconnect.update",this._path),Ys("OnDisconnect.update",d,this._path,!1);var y=new P.BH;return function(f,d,y,b){if((0,P.xb)(y))return ut("onDisconnect().update() called with empty data.  Don't do anything."),void Fi(0,b,"ok",void 0);f.server_.onDisconnectMerge(d.toString(),y,function(D,I){"ok"===D&&ct(y,function(O,L){var B=zn(L);os(f.onDisconnect_,Ot(d,O),B)}),Fi(0,b,D,I)})}(this._repo,this._path,d,y.wrapCallback(function(){})),y.promise},f}(),Kr=function(){function f(d,y,b,D){this._repo=d,this._path=y,this._queryParams=b,this._orderByCalled=D}return Object.defineProperty(f.prototype,"key",{get:function(){return It(this._path)?null:ns(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ref",{get:function(){return new fn(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_queryIdentifier",{get:function(){var d=Ml(this._queryParams),y=_n(d);return"{}"===y?"default":y},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_queryObject",{get:function(){return Ml(this._queryParams)},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(d){if(!((d=(0,P.m9)(d))instanceof f))return!1;var y=this._repo===d._repo,b=rs(this._path,d._path);return y&&b&&this._queryIdentifier===d._queryIdentifier},f.prototype.toJSON=function(){return this.toString()},f.prototype.toString=function(){return this._repo.toString()+function(f){for(var d="",y=f.pieceNum_;y<f.pieces_.length;y++)""!==f.pieces_[y]&&(d+="/"+encodeURIComponent(String(f.pieces_[y])));return d||"/"}(this._path)},f}();function ta(f,d){if(!0===f._orderByCalled)throw new Error(d+": You can't combine multiple orderBy calls.")}function Fo(f){var d=null,y=null;if(f.hasStart()&&(d=f.getIndexStartValue()),f.hasEnd()&&(y=f.getIndexEndValue()),f.getIndex()===Io){var b="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",D="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(f.hasStart()){if(f.getIndexStartName()!==ve)throw new Error(b);if("string"!=typeof d)throw new Error(D)}if(f.hasEnd()){if(f.getIndexEndName()!==Re)throw new Error(b);if("string"!=typeof y)throw new Error(D)}}else if(f.getIndex()===wn){if(null!=d&&!ds(d)||null!=y&&!ds(y))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,P.hu)(f.getIndex()instanceof mu||f.getIndex()===El,"unknown index type."),null!=d&&"object"==typeof d||null!=y&&"object"==typeof y)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function xu(f){if(f.hasStart()&&f.hasEnd()&&f.hasLimit()&&!f.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var fn=function(f){function d(y,b){return f.call(this,y,b,new Yp,!1)||this}return(0,se.ZT)(d,f),Object.defineProperty(d.prototype,"parent",{get:function(){var y=ii(this._path);return null===y?null:new d(this._repo,y)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"root",{get:function(){for(var y=this;null!==y.parent;)y=y.parent;return y},enumerable:!1,configurable:!0}),d}(Kr),Jl=function(){function f(d,y,b){this._node=d,this.ref=y,this._index=b}return Object.defineProperty(f.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),f.prototype.child=function(d){var y=new Lt(d),b=na(this.ref,d);return new f(this._node.getChild(y),b,wn)},f.prototype.exists=function(){return!this._node.isEmpty()},f.prototype.exportVal=function(){return this._node.val(!0)},f.prototype.forEach=function(d){var y=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(D,I){return d(new f(I,na(y.ref,D),wn))})},f.prototype.hasChild=function(d){var y=new Lt(d);return!this._node.getChild(y).isEmpty()},f.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},f.prototype.toJSON=function(){return this.exportVal()},f.prototype.val=function(){return this._node.val()},f}();function tf(f,d){return(f=(0,P.m9)(f))._checkNotDeleted("ref"),void 0!==d?na(f._root,d):f._root}function vh(f,d){(f=(0,P.m9)(f))._checkNotDeleted("refFromURL");var y=Zl(d,f._repo.repoInfo_.nodeAdmin);Qs("refFromURL",y);var b=y.repoInfo;return!f._repo.repoInfo_.isCustomHost()&&b.host!==f._repo.repoInfo_.host&&Qt("refFromURL: Host name does not match the current database: (found "+b.host+" but expected "+f._repo.repoInfo_.host+")"),tf(f,y.path.toString())}function na(f,d){return null===xt((f=(0,P.m9)(f))._path)?((y=d)&&(y=y.replace(/^\/*\.info(\/|$)/,"/")),zt("child","path",y,!1)):zt("child","path",d,!1),new fn(f._repo,Ot(f._path,d));var y}function Tg(f,d){f=(0,P.m9)(f),po("push",f._path),fo("push",d,f._path,!0);var O,y=hh(f._repo),b=$p(y),D=na(f,b),I=na(f,b);return O=null!=d?Xl(I,d).then(function(){return I}):Promise.resolve(I),D.then=O.then.bind(O),D.catch=O.then.bind(O,void 0),D}function X_(f){return po("remove",f._path),Xl(f,null)}function Xl(f,d){f=(0,P.m9)(f),po("set",f._path),fo("set",d,f._path,!1);var y=new P.BH;return Xs(f._repo,f._path,d,null,y.wrapCallback(function(){})),y.promise}function ra(f,d){f=(0,P.m9)(f),po("setPriority",f._path),Ks("setPriority",d,!1);var y=new P.BH;return Xs(f._repo,Ot(f._path,".priority"),d,null,y.wrapCallback(function(){})),y.promise}function ev(f,d,y){if(po("setWithPriority",f._path),fo("setWithPriority",d,f._path,!1),Ks("setWithPriority",y,!1),".length"===f.key||".keys"===f.key)throw"setWithPriority failed: "+f.key+" is a read-only object.";var b=new P.BH;return Xs(f._repo,f._path,d,y,b.wrapCallback(function(){})),b.promise}function Ou(f,d){Ys("update",d,f._path,!1);var y=new P.BH;return function(f,d,y,b){gs(f,"update",{path:d.toString(),value:y});var D=!0,I=Ba(f),O={};if(ct(y,function($,K){D=!1,O[$]=q_(Ot(d,$),zn(K),f.serverSyncTree_,I)}),D)ut("update() called with empty data.  Don't do anything."),Fi(0,b,"ok",void 0);else{var L=fh(f),B=function(f,d,y,b){!function(f,d,y,b){(0,P.hu)(b>f.lastWriteId,"Stacking an older merge on top of newer ones"),f.allWrites.push({path:d,children:y,writeId:b,visible:!0}),f.visibleWrites=Bs(f.visibleWrites,d,y),f.lastWriteId=b}(f.pendingWriteTree_,d,y,b);var D=Ri.fromObject(y);return $n(f,new qc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,D))}(f.serverSyncTree_,d,O,L);Zs(f.eventQueue_,B),f.server_.merge(d.toString(),y,function($,K){var me="ok"===$;me||Zt("update at "+d+" failed: "+$);var xe=Ur(f.serverSyncTree_,L,!me),Le=xe.length>0?Ua(f,d):d;fr(f.eventQueue_,Le,xe),Fi(0,b,$,K)}),ct(y,function($){var K=ea(f,Ot(d,$));Ua(f,K)}),fr(f.eventQueue_,d,[])}}(f._repo,f._path,d,y.wrapCallback(function(){})),y.promise}function TE(f){return function(f,d){var y=function(f,d){var y=d._path,b=null;f.syncPointTree_.foreachOnPath(y,function($,K){var me=Fn($,y);b=b||xa(K,me)});var D=f.syncPointTree_.get(y);D?b=b||xa(D,at()):(D=new lg,f.syncPointTree_=f.syncPointTree_.set(y,D));var I=null!=b,O=I?new ss(b,!0,!1):null;return function(f){return $c(f.viewCache_)}(j_(D,d,js(f.pendingWriteTree_,d._path),I?O.getNode():St.EMPTY_NODE,I))}(f.serverSyncTree_,d);return null!=y?Promise.resolve(y):f.server_.get(d).then(function(b){var D=zn(b).withIndex(d._queryParams.getIndex()),I=hs(f.serverSyncTree_,d._path,D);return $l(f.eventQueue_,d._path,I),Promise.resolve(D)},function(b){return gs(f,"get for query "+(0,P.Pz)(d)+" failed: "+b),Promise.reject(new Error(b))})}((f=(0,P.m9)(f))._repo,f).then(function(d){return new Jl(d,new fn(f._repo,f._path),f._queryParams.getIndex())})}var Ru=function(){function f(d){this.callbackContext=d}return f.prototype.respondsTo=function(d){return"value"===d},f.prototype.createEvent=function(d,y){var b=y._queryParams.getIndex();return new _h("value",this,new Jl(d.snapshotNode,new fn(y._repo,y._path),b))},f.prototype.getEventRunner=function(d){var y=this;return"cancel"===d.getEventType()?function(){return y.callbackContext.onCancel(d.error)}:function(){return y.callbackContext.onValue(d.snapshot,null)}},f.prototype.createCancelEvent=function(d,y){return this.callbackContext.hasCancelCallback?new Eg(this,d,y):null},f.prototype.matches=function(d){return d instanceof f&&(!d.callbackContext||!this.callbackContext||d.callbackContext.matches(this.callbackContext))},f.prototype.hasAnyCallback=function(){return null!==this.callbackContext},f}(),Qr=function(){function f(d,y){this.eventType=d,this.callbackContext=y}return f.prototype.respondsTo=function(d){var y="children_added"===d?"child_added":d;return this.eventType===("children_removed"===y?"child_removed":y)},f.prototype.createCancelEvent=function(d,y){return this.callbackContext.hasCancelCallback?new Eg(this,d,y):null},f.prototype.createEvent=function(d,y){(0,P.hu)(null!=d.childName,"Child events should have a childName.");var b=na(new fn(y._repo,y._path),d.childName),D=y._queryParams.getIndex();return new _h(d.type,this,new Jl(d.snapshotNode,b,D),d.prevName)},f.prototype.getEventRunner=function(d){var y=this;return"cancel"===d.getEventType()?function(){return y.callbackContext.onCancel(d.error)}:function(){return y.callbackContext.onValue(d.snapshot,d.prevName)}},f.prototype.matches=function(d){return d instanceof f&&this.eventType===d.eventType&&(!this.callbackContext||!d.callbackContext||this.callbackContext.matches(d.callbackContext))},f.prototype.hasAnyCallback=function(){return!!this.callbackContext},f}();function ja(f,d,y,b,D){var I;if("object"==typeof b&&(I=void 0,D=b),"function"==typeof b&&(I=b),D&&D.onlyOnce){var O=y,L=function(K,me){gh(f._repo,f,$),O(K,me)};L.userCallback=y.userCallback,L.context=y.context,y=L}var B=new wg(y,I||void 0),$="value"===d?new Ru(B):new Qr(d,B);return function(f,d,y){var b;b=".info"===xt(d._path)?hg(f.infoSyncTree_,d,y):hg(f.serverSyncTree_,d,y),$l(f.eventQueue_,d._path,b)}(f._repo,f,$),function(){return gh(f._repo,f,$)}}function ia(f,d,y,b){return ja(f,"value",d,y,b)}function Ha(f,d,y,b){return ja(f,"child_added",d,y,b)}function xr(f,d,y,b){return ja(f,"child_changed",d,y,b)}function Ga(f,d,y,b){return ja(f,"child_moved",d,y,b)}function bh(f,d,y,b){return ja(f,"child_removed",d,y,b)}function Sg(f,d,y){var b=null,D=y?new wg(y):null;"value"===d?b=new Ru(D):d&&(b=new Qr(d,D)),gh(f._repo,f,b)}var Vi=function(){},bi=function(f){function d(y,b){var D=f.call(this)||this;return D._value=y,D._key=b,D}return(0,se.ZT)(d,f),d.prototype._apply=function(y){fo("endAt",this._value,y._path,!0);var b=Al(y._queryParams,this._value,this._key);if(xu(b),Fo(b),y._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kr(y._repo,y._path,b,y._orderByCalled)},d}(Vi);function Ag(f,d){return Po("endAt","key",d,!0),new bi(f,d)}var nf=function(f){function d(y,b){var D=f.call(this)||this;return D._value=y,D._key=b,D}return(0,se.ZT)(d,f),d.prototype._apply=function(y){fo("endBefore",this._value,y._path,!1);var b=function(f,d,y){var D;return f.index_===Io?("string"==typeof d&&(d=Ns(d)),D=Al(f,d,y)):D=Al(f,d,null==y?ve:Ns(y)),D.endBeforeSet_=!0,D}(y._queryParams,this._value,this._key);if(xu(b),Fo(b),y._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kr(y._repo,y._path,b,y._orderByCalled)},d}(Vi);function Ch(f,d){return Po("endBefore","key",d,!0),new nf(f,d)}var ku=function(f){function d(y,b){var D=f.call(this)||this;return D._value=y,D._key=b,D}return(0,se.ZT)(d,f),d.prototype._apply=function(y){fo("startAt",this._value,y._path,!0);var b=Sl(y._queryParams,this._value,this._key);if(xu(b),Fo(b),y._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Kr(y._repo,y._path,b,y._orderByCalled)},d}(Vi);function tv(f,d){return void 0===f&&(f=null),Po("startAt","key",d,!0),new ku(f,d)}var nv=function(f){function d(y,b){var D=f.call(this)||this;return D._value=y,D._key=b,D}return(0,se.ZT)(d,f),d.prototype._apply=function(y){fo("startAfter",this._value,y._path,!1);var b=function(f,d,y){var b;return f.index_===Io?("string"==typeof d&&(d=wl(d)),b=Sl(f,d,y)):b=Sl(f,d,null==y?Re:wl(y)),b.startAfterSet_=!0,b}(y._queryParams,this._value,this._key);if(xu(b),Fo(b),y._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Kr(y._repo,y._path,b,y._orderByCalled)},d}(Vi);function rv(f,d){return Po("startAfter","key",d,!0),new nv(f,d)}var Ig=function(f){function d(y){var b=f.call(this)||this;return b._limit=y,b}return(0,se.ZT)(d,f),d.prototype._apply=function(y){if(y._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kr(y._repo,y._path,function(f,d){var y=f.copy();return y.limitSet_=!0,y.limit_=d,y.viewFrom_="l",y}(y._queryParams,this._limit),y._orderByCalled)},d}(Vi);function Pu(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ig(f)}var rf=function(f){function d(y){var b=f.call(this)||this;return b._limit=y,b}return(0,se.ZT)(d,f),d.prototype._apply=function(y){if(y._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kr(y._repo,y._path,function(f,d){var y=f.copy();return y.limitSet_=!0,y.limit_=d,y.viewFrom_="r",y}(y._queryParams,this._limit),y._orderByCalled)},d}(Vi);function Mg(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new rf(f)}var Eh=function(f){function d(y){var b=f.call(this)||this;return b._path=y,b}return(0,se.ZT)(d,f),d.prototype._apply=function(y){ta(y,"orderByChild");var b=new Lt(this._path);if(It(b))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var D=new mu(b),I=si(y._queryParams,D);return Fo(I),new Kr(y._repo,y._path,I,!0)},d}(Vi);function of(f){if("$key"===f)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===f)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===f)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return zt("orderByChild","path",f,!1),new Eh(f)}var za=function(f){function d(){return null!==f&&f.apply(this,arguments)||this}return(0,se.ZT)(d,f),d.prototype._apply=function(y){ta(y,"orderByKey");var b=si(y._queryParams,Io);return Fo(b),new Kr(y._repo,y._path,b,!0)},d}(Vi);function xg(){return new za}var iv=function(f){function d(){return null!==f&&f.apply(this,arguments)||this}return(0,se.ZT)(d,f),d.prototype._apply=function(y){ta(y,"orderByPriority");var b=si(y._queryParams,wn);return Fo(b),new Kr(y._repo,y._path,b,!0)},d}(Vi);function Nu(){return new iv}var ov=function(f){function d(){return null!==f&&f.apply(this,arguments)||this}return(0,se.ZT)(d,f),d.prototype._apply=function(y){ta(y,"orderByValue");var b=si(y._queryParams,El);return Fo(b),new Kr(y._repo,y._path,b,!0)},d}(Vi);function sv(){return new ov}var av=function(f){function d(y,b){var D=f.call(this)||this;return D._value=y,D._key=b,D}return(0,se.ZT)(d,f),d.prototype._apply=function(y){if(fo("equalTo",this._value,y._path,!1),y._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(y._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new bi(this._value,this._key)._apply(new ku(this._value,this._key)._apply(y))},d}(Vi);function sf(f,d){return Po("equalTo","key",d,!0),new av(f,d)}function go(f){for(var d,y,b=[],D=1;D<arguments.length;D++)b[D-1]=arguments[D];var I=(0,P.m9)(f);try{for(var O=(0,se.XA)(b),L=O.next();!L.done;L=O.next()){var B=L.value;I=B._apply(I)}}catch($){d={error:$}}finally{try{L&&!L.done&&(y=O.return)&&y.call(O)}finally{if(d)throw d.error}}return I}(function(f){(0,P.hu)(!hr,"__referenceConstructor has already been defined"),hr=f})(fn),function(f){(0,P.hu)(!Ro,"__referenceConstructor has already been defined"),Ro=f}(fn);var jr={},af=!1;function tc(f,d,y,b,D){var I=b||f.options.databaseURL;void 0===I&&(f.options.projectId||Qt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ut("Using default host for project ",f.options.projectId),I=f.options.projectId+"-default-rtdb.firebaseio.com");var B,O=Zl(I,D),L=O.repoInfo,$=void 0;"undefined"!=typeof process&&($=process.env.FIREBASE_DATABASE_EMULATOR_HOST),$?(B=!0,L=(O=Zl(I="http://"+$+"?ns="+L.namespace,D)).repoInfo):B=!O.repoInfo.secure;var K=D&&B?new Mt(Mt.OWNER):new jt(f.name,f.options,d);Qs("Invalid Firebase Database URL",O),It(O.path)||Qt("Database URL must point to the root of a Firebase Database (not including a child path).");var me=function(f,d,y,b){var D=jr[d.name];D||(jr[d.name]=D={});var I=D[f.toURLString()];return I&&Qt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),I=new Wl(f,af,y,b),D[f.toURLString()]=I,I}(L,f,K,new Wi(f.name,y));return new lv(me,f)}var lv=function(){function f(d,y){this._repoInternal=d,this.app=y,this.type="database",this._instanceStarted=!1}return Object.defineProperty(f.prototype,"_repo",{get:function(){return this._instanceStarted||(function(f,d,y){if(f.stats_=sn(f.repoInfo_),f.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)f.server_=new pE(f.repoInfo_,function(b,D,I,O){Js(f,b,D,I,O)},f.authTokenProvider_,f.appCheckProvider_),setTimeout(function(){return gg(f,!0)},0);else{if(null!=y){if("object"!=typeof y)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,P.Pz)(y)}catch(b){throw new Error("Invalid authOverride provided: "+b)}}f.persistentConnection_=new fu(f.repoInfo_,d,function(b,D,I,O){Js(f,b,D,I,O)},function(b){gg(f,b)},function(b){!function(f,d){ct(d,function(y,b){Jd(f,y,b)})}(f,b)},f.authTokenProvider_,f.appCheckProvider_,y),f.server_=f.persistentConnection_}f.authTokenProvider_.addTokenChangeListener(function(b){f.server_.refreshAuthToken(b)}),f.appCheckProvider_.addTokenChangeListener(function(b){f.server_.refreshAppCheckToken(b.token)}),f.statsReporter_=function(f,d){var y=f.toString();return Sr[y]||(Sr[y]=d()),Sr[y]}(f.repoInfo_,function(){return new Qp(f.stats_,f.server_)}),f.infoData_=new k_,f.infoSyncTree_=new wu({startListening:function(b,D,I,O){var L=[],B=f.infoData_.getNode(b._path);return B.isEmpty()||(L=hs(f.infoSyncTree_,b._path,B),setTimeout(function(){O("ok")},0)),L},stopListening:function(){}}),Jd(f,"connected",!1),f.serverSyncTree_=new wu({startListening:function(b,D,I,O){return f.server_.listen(b,I,D,function(L,B){var $=O(L,B);fr(f.eventQueue_,b._path,$)}),[]},stopListening:function(b,D){f.server_.unlisten(b,D)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new fn(this._repo,at())),this._rootInternal},enumerable:!1,configurable:!0}),f.prototype._delete=function(){return this._checkNotDeleted("delete"),function(f,d){var y=jr[d];(!y||y[f.key]!==f)&&Qt("Database "+d+"("+f.repoInfo_+") has already been deleted."),_g(f),delete y[f.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},f.prototype._checkNotDeleted=function(d){null===this._rootInternal&&Qt("Cannot call "+d+" on a deleted database.")},f}();function cv(f){(f=(0,P.m9)(f))._checkNotDeleted("goOffline"),_g(f._repo)}function Fu(f){(f=(0,P.m9)(f))._checkNotDeleted("goOnline"),function(f){f.persistentConnection_&&f.persistentConnection_.resume(lh)}(f._repo)}var Lo={".sv":"timestamp"},kg=function(){function f(d,y){this.committed=d,this.snapshot=y}return f.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},f}();function IE(f,d,y){var b;if(f=(0,P.m9)(f),po("Reference.transaction",f._path),".length"===f.key||".keys"===f.key)throw"Reference.transaction failed: "+f.key+" is a read-only object.";var D=null===(b=null==y?void 0:y.applyLocally)||void 0===b||b,I=new P.BH,L=ia(f,function(){});return function(f,d,y,b,D,I){gs(f,"transaction on "+d);var O={path:d,update:y,onComplete:b,status:null,order:Me(),applyLocally:I,retryCount:0,unwatcher:D,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},L=Li(f,d,void 0);O.currentInputSnapshot=L;var B=O.update(L.val());if(void 0===B)O.unwatcher(),O.currentOutputSnapshotRaw=null,O.currentOutputSnapshotResolved=null,O.onComplete&&O.onComplete(null,!1,O.currentInputSnapshot);else{Su("transaction failed: Data returned ",B,O.path),O.status=0;var $=ih(f.transactionQueueTree_,d),K=ln($)||[];K.push(O),zl($,K);var me=void 0;"object"==typeof B&&null!==B&&(0,P.r3)(B,".priority")?(me=(0,P.DV)(B,".priority"),(0,P.hu)(ds(me),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):me=(Ul(f.serverSyncTree_,d)||St.EMPTY_NODE).getPriority().val();var Le=Ba(f),Ke=zn(B,me),bt=Gl(Ke,L,Le);O.currentOutputSnapshotRaw=Ke,O.currentOutputSnapshotResolved=bt,O.currentWriteId=fh(f);var pt=Bl(f.serverSyncTree_,d,bt,O.currentWriteId,O.applyLocally);fr(f.eventQueue_,d,pt),No(f,f.transactionQueueTree_)}}(f._repo,f._path,d,function(B,$,K){var me=null;B?I.reject(B):(me=new Jl(K,new fn(f._repo,f._path),wn),I.resolve(new kg($,me)))},L,D),I.promise}var Vo=function(){function f(d){this._delegate=d}return f.prototype.cancel=function(d){(0,P.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,P.Wj)("OnDisconnect.cancel","onComplete",d,!0);var y=this._delegate.cancel();return d&&y.then(function(){return d(null)},function(b){return d(b)}),y},f.prototype.remove=function(d){(0,P.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,P.Wj)("OnDisconnect.remove","onComplete",d,!0);var y=this._delegate.remove();return d&&y.then(function(){return d(null)},function(b){return d(b)}),y},f.prototype.set=function(d,y){(0,P.Dv)("OnDisconnect.set",1,2,arguments.length),(0,P.Wj)("OnDisconnect.set","onComplete",y,!0);var b=this._delegate.set(d);return y&&b.then(function(){return y(null)},function(D){return y(D)}),b},f.prototype.setWithPriority=function(d,y,b){(0,P.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,P.Wj)("OnDisconnect.setWithPriority","onComplete",b,!0);var D=this._delegate.setWithPriority(d,y);return b&&D.then(function(){return b(null)},function(I){return b(I)}),D},f.prototype.update=function(d,y){if((0,P.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(d)){for(var b={},D=0;D<d.length;++D)b[""+D]=d[D];d=b,Zt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,P.Wj)("OnDisconnect.update","onComplete",y,!0);var I=this._delegate.update(d);return y&&I.then(function(){return y(null)},function(O){return y(O)}),I},f}(),uf=function(){function f(d,y){this.committed=d,this.snapshot=y}return f.prototype.toJSON=function(){return(0,P.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},f}(),oa=function(){function f(d,y){this._database=d,this._delegate=y}return f.prototype.val=function(){return(0,P.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},f.prototype.exportVal=function(){return(0,P.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},f.prototype.toJSON=function(){return(0,P.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},f.prototype.exists=function(){return(0,P.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},f.prototype.child=function(d){return(0,P.Dv)("DataSnapshot.child",0,1,arguments.length),d=String(d),zt("DataSnapshot.child","path",d,!1),new f(this._database,this._delegate.child(d))},f.prototype.hasChild=function(d){return(0,P.Dv)("DataSnapshot.hasChild",1,1,arguments.length),zt("DataSnapshot.hasChild","path",d,!1),this._delegate.hasChild(d)},f.prototype.getPriority=function(){return(0,P.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},f.prototype.forEach=function(d){var y=this;return(0,P.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,P.Wj)("DataSnapshot.forEach","action",d,!1),this._delegate.forEach(function(b){return d(new f(y._database,b))})},f.prototype.hasChildren=function(){return(0,P.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(f.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),f.prototype.numChildren=function(){return(0,P.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},f.prototype.getRef=function(){return(0,P.Dv)("DataSnapshot.ref",0,0,arguments.length),new sa(this._database,this._delegate.ref)},Object.defineProperty(f.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),f}(),Pg=function(){function f(d,y){this.database=d,this._delegate=y}return f.prototype.on=function(d,y,b,D){var O,I=this;(0,P.Dv)("Query.on",2,4,arguments.length),(0,P.Wj)("Query.on","callback",y,!1);var L=f.getCancelAndContextArgs_("Query.on",b,D),B=function(K,me){y.call(L.context,new oa(I.database,K),me)};B.userCallback=y,B.context=L.context;var $=null===(O=L.cancel)||void 0===O?void 0:O.bind(L.context);switch(d){case"value":return ia(this._delegate,B,$),y;case"child_added":return Ha(this._delegate,B,$),y;case"child_removed":return bh(this._delegate,B,$),y;case"child_changed":return xr(this._delegate,B,$),y;case"child_moved":return Ga(this._delegate,B,$),y;default:throw new Error((0,P.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},f.prototype.off=function(d,y,b){if((0,P.Dv)("Query.off",0,3,arguments.length),uh("Query.off",d,!0),(0,P.Wj)("Query.off","callback",y,!0),(0,P.lb)("Query.off","context",b,!0),y){var D=function(){};D.userCallback=y,D.context=b,Sg(this._delegate,d,D)}else Sg(this._delegate,d)},f.prototype.get=function(){var d=this;return TE(this._delegate).then(function(y){return new oa(d.database,y)})},f.prototype.once=function(d,y,b,D){var I=this;(0,P.Dv)("Query.once",1,4,arguments.length),(0,P.Wj)("Query.once","callback",y,!0);var O=f.getCancelAndContextArgs_("Query.once",b,D),L=new P.BH,B=function(K,me){var xe=new oa(I.database,K);y&&y.call(O.context,xe,me),L.resolve(xe)};B.userCallback=y,B.context=O.context;var $=function(K){O.cancel&&O.cancel.call(O.context,K),L.reject(K)};switch(d){case"value":ia(this._delegate,B,$,{onlyOnce:!0});break;case"child_added":Ha(this._delegate,B,$,{onlyOnce:!0});break;case"child_removed":bh(this._delegate,B,$,{onlyOnce:!0});break;case"child_changed":xr(this._delegate,B,$,{onlyOnce:!0});break;case"child_moved":Ga(this._delegate,B,$,{onlyOnce:!0});break;default:throw new Error((0,P.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return L.promise},f.prototype.limitToFirst=function(d){return(0,P.Dv)("Query.limitToFirst",1,1,arguments.length),new f(this.database,go(this._delegate,Pu(d)))},f.prototype.limitToLast=function(d){return(0,P.Dv)("Query.limitToLast",1,1,arguments.length),new f(this.database,go(this._delegate,Mg(d)))},f.prototype.orderByChild=function(d){return(0,P.Dv)("Query.orderByChild",1,1,arguments.length),new f(this.database,go(this._delegate,of(d)))},f.prototype.orderByKey=function(){return(0,P.Dv)("Query.orderByKey",0,0,arguments.length),new f(this.database,go(this._delegate,xg()))},f.prototype.orderByPriority=function(){return(0,P.Dv)("Query.orderByPriority",0,0,arguments.length),new f(this.database,go(this._delegate,Nu()))},f.prototype.orderByValue=function(){return(0,P.Dv)("Query.orderByValue",0,0,arguments.length),new f(this.database,go(this._delegate,sv()))},f.prototype.startAt=function(d,y){return void 0===d&&(d=null),(0,P.Dv)("Query.startAt",0,2,arguments.length),new f(this.database,go(this._delegate,tv(d,y)))},f.prototype.startAfter=function(d,y){return void 0===d&&(d=null),(0,P.Dv)("Query.startAfter",0,2,arguments.length),new f(this.database,go(this._delegate,rv(d,y)))},f.prototype.endAt=function(d,y){return void 0===d&&(d=null),(0,P.Dv)("Query.endAt",0,2,arguments.length),new f(this.database,go(this._delegate,Ag(d,y)))},f.prototype.endBefore=function(d,y){return void 0===d&&(d=null),(0,P.Dv)("Query.endBefore",0,2,arguments.length),new f(this.database,go(this._delegate,Ch(d,y)))},f.prototype.equalTo=function(d,y){return(0,P.Dv)("Query.equalTo",1,2,arguments.length),new f(this.database,go(this._delegate,sf(d,y)))},f.prototype.toString=function(){return(0,P.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},f.prototype.toJSON=function(){return(0,P.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},f.prototype.isEqual=function(d){if((0,P.Dv)("Query.isEqual",1,1,arguments.length),!(d instanceof f)){var y="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(y)}return this._delegate.isEqual(d._delegate)},f.getCancelAndContextArgs_=function(d,y,b){var D={cancel:void 0,context:void 0};if(y&&b)D.cancel=y,(0,P.Wj)(d,"cancel",D.cancel,!0),D.context=b,(0,P.lb)(d,"context",D.context,!0);else if(y)if("object"==typeof y&&null!==y)D.context=y;else{if("function"!=typeof y)throw new Error((0,P.gK)(d,"cancelOrContext")+" must either be a cancel callback or a context object.");D.cancel=y}return D},Object.defineProperty(f.prototype,"ref",{get:function(){return new sa(this.database,new fn(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),f}(),sa=function(f){function d(y,b){var D=f.call(this,y,new Kr(b._repo,b._path,new Yp,!1))||this;return D.database=y,D._delegate=b,D}return(0,se.ZT)(d,f),d.prototype.getKey=function(){return(0,P.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},d.prototype.child=function(y){return(0,P.Dv)("Reference.child",1,1,arguments.length),"number"==typeof y&&(y=String(y)),new d(this.database,na(this._delegate,y))},d.prototype.getParent=function(){(0,P.Dv)("Reference.parent",0,0,arguments.length);var y=this._delegate.parent;return y?new d(this.database,y):null},d.prototype.getRoot=function(){return(0,P.Dv)("Reference.root",0,0,arguments.length),new d(this.database,this._delegate.root)},d.prototype.set=function(y,b){(0,P.Dv)("Reference.set",1,2,arguments.length),(0,P.Wj)("Reference.set","onComplete",b,!0);var D=Xl(this._delegate,y);return b&&D.then(function(){return b(null)},function(I){return b(I)}),D},d.prototype.update=function(y,b){if((0,P.Dv)("Reference.update",1,2,arguments.length),Array.isArray(y)){for(var D={},I=0;I<y.length;++I)D[""+I]=y[I];y=D,Zt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}po("Reference.update",this._delegate._path),(0,P.Wj)("Reference.update","onComplete",b,!0);var O=Ou(this._delegate,y);return b&&O.then(function(){return b(null)},function(L){return b(L)}),O},d.prototype.setWithPriority=function(y,b,D){(0,P.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,P.Wj)("Reference.setWithPriority","onComplete",D,!0);var I=ev(this._delegate,y,b);return D&&I.then(function(){return D(null)},function(O){return D(O)}),I},d.prototype.remove=function(y){(0,P.Dv)("Reference.remove",0,1,arguments.length),(0,P.Wj)("Reference.remove","onComplete",y,!0);var b=X_(this._delegate);return y&&b.then(function(){return y(null)},function(D){return y(D)}),b},d.prototype.transaction=function(y,b,D){var I=this;(0,P.Dv)("Reference.transaction",1,3,arguments.length),(0,P.Wj)("Reference.transaction","transactionUpdate",y,!1),(0,P.Wj)("Reference.transaction","onComplete",b,!0),W_("Reference.transaction","applyLocally",D,!0);var O=IE(this._delegate,y,{applyLocally:D}).then(function(L){return new uf(L.committed,new oa(I.database,L.snapshot))});return b&&O.then(function(L){return b(null,L.committed,L.snapshot)},function(L){return b(L,!1,null)}),O},d.prototype.setPriority=function(y,b){(0,P.Dv)("Reference.setPriority",1,2,arguments.length),(0,P.Wj)("Reference.setPriority","onComplete",b,!0);var D=ra(this._delegate,y);return b&&D.then(function(){return b(null)},function(I){return b(I)}),D},d.prototype.push=function(y,b){var D=this;(0,P.Dv)("Reference.push",0,2,arguments.length),(0,P.Wj)("Reference.push","onComplete",b,!0);var I=Tg(this._delegate,y),O=I.then(function(B){return new d(D.database,B)});b&&O.then(function(){return b(null)},function(B){return b(B)});var L=new d(this.database,I);return L.then=O.then.bind(O),L.catch=O.catch.bind(O,void 0),L},d.prototype.onDisconnect=function(){return po("Reference.onDisconnect",this._delegate._path),new Vo(new Dg(this._delegate._repo,this._delegate._path))},Object.defineProperty(d.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),d}(Pg),aa=function(){function f(d,y){var b=this;this._delegate=d,this.app=y,this.INTERNAL={delete:function(){return b._delegate._delete()}}}return f.prototype.useEmulator=function(d,y,b){void 0===b&&(b={}),function(f,d,y,b){void 0===b&&(b={}),(f=(0,P.m9)(f))._checkNotDeleted("useEmulator"),f._instanceStarted&&Qt("Cannot call useEmulator() after instance has already been initialized.");var D=f._repoInternal,I=void 0;if(D.repoInfo_.nodeAdmin)b.mockUserToken&&Qt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),I=new Mt(Mt.OWNER);else if(b.mockUserToken){var O=(0,P.Sg)(b.mockUserToken,f.app.options.projectId);I=new Mt(O)}!function(f,d,y,b){f.repoInfo_=new Un(d+":"+y,!1,f.repoInfo_.namespace,f.repoInfo_.webSocketOnly,f.repoInfo_.nodeAdmin,f.repoInfo_.persistenceKey,f.repoInfo_.includeNamespaceInQueryParams),b&&(f.authTokenProvider_=b)}(D,d,y,I)}(this._delegate,d,y,b)},f.prototype.ref=function(d){if((0,P.Dv)("database.ref",0,1,arguments.length),d instanceof sa){var y=vh(this._delegate,d.toString());return new sa(this,y)}return y=tf(this._delegate,d),new sa(this,y)},f.prototype.refFromURL=function(d){var y="database.refFromURL";(0,P.Dv)(y,1,1,arguments.length);var b=vh(this._delegate,d);return new sa(this,b)},f.prototype.goOffline=function(){return(0,P.Dv)("database.goOffline",0,0,arguments.length),cv(this._delegate)},f.prototype.goOnline=function(){return(0,P.Dv)("database.goOnline",0,0,arguments.length),Fu(this._delegate)},f.ServerValue={TIMESTAMP:Lo,increment:function(d){return function(f){return{".sv":{increment:f}}}(d)}},f}(),dv=Object.freeze({__proto__:null,forceLongPolling:function(){sr.forceDisallow(),hu.forceAllow()},forceWebSockets:function(){hu.forceDisallow()},isWebSocketsAvailable:function(){return sr.isAvailable()},setSecurityDebugCallback:function(f,d){f._delegate._repo.persistentConnection_.securityDebugCallback_=d},stats:function(f,d){!function(f,d){if(void 0===d&&(d=!1),"undefined"!=typeof console){var y;d?(f.statsListener_||(f.statsListener_=new xo(f.stats_)),y=f.statsListener_.get()):y=f.stats_.get();var b=Object.keys(y).reduce(function(D,I){return Math.max(I.length,D)},0);ct(y,function(D,I){for(var O=D,L=D.length;L<b+2;L++)O+=" ";console.log(O+I)})}}(f._delegate._repo,d)},statsIncrementCounter:function(f,d){!function(f,d){f.stats_.incrementCounter(d),function(f,d){f.statsToReport_[d]=!0}(f.statsReporter_,d)}(f._delegate._repo,d)},dataUpdateCount:function(f){return f._delegate._repo.dataUpdateCount},interceptServerData:function(f,d){return function(f,d){f.interceptServerDataCallback_=d}(f._delegate._repo,d)},initStandalone:function(f){var d=f.app,y=f.url,D=f.customAuthImpl,I=f.namespace,O=f.nodeAdmin,L=void 0!==O&&O;re(f.version);var B=new fe.zt("auth-internal",new fe.H0("database-standalone"));return B.setComponent(new fe.wA("auth-internal",function(){return D},"PRIVATE")),{instance:new aa(tc(d,B,void 0,y,L),d),namespace:I}}}),cf=fu;fu.prototype.simpleListen=function(f,d){this.sendRequest("q",{p:f},d)},fu.prototype.echo=function(f,d){this.sendRequest("echo",{d:f},d)};var yv=Object.freeze({__proto__:null,DataConnection:cf,RealTimeConnection:ri,hijackHash:function(f){var d=fu.prototype.put;return fu.prototype.put=function(y,b,D,I){void 0!==I&&(I=f()),d.call(this,y,b,D,I)},function(){fu.prototype.put=d}},ConnectionTarget:Un,queryIdentifier:function(f){return f._delegate._queryIdentifier},forceRestClient:function(f){!function(f){af=f}(f)}}),Sh=aa.ServerValue;!function(f){re(f.SDK_VERSION);var d=f.INTERNAL.registerComponent(new fe.wA("database",function(y,b){var D=b.instanceIdentifier,I=y.getProvider("app").getImmediate(),O=y.getProvider("auth-internal"),L=y.getProvider("app-check-internal");return new aa(tc(I,O,L,D),I)},"PUBLIC").setServiceProps({Reference:sa,Query:Pg,Database:aa,DataSnapshot:oa,enableLogging:xn,INTERNAL:dv,ServerValue:Sh,TEST_ACCESS:yv}).setMultipleInstances(!0));f.registerVersion("@firebase/database","0.10.8"),(0,P.Yr)()&&(rt.exports=d)}(p.Z)},300:(rt,ke,Y)=>{"use strict";function p(){for(var G=0,X=0,ce=arguments.length;X<ce;X++)G+=arguments[X].length;var Ie=Array(G),Me=0;for(X=0;X<ce;X++)for(var $e=arguments[X],Ve=0,He=$e.length;Ve<He;Ve++,Me++)Ie[Me]=$e[Ve];return Ie}Y.d(ke,{in:()=>se,Yd:()=>re,Ub:()=>W,Am:()=>ie});var fe,P=[],se=(()=>{return(G=se||(se={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",se;var G})(),Ee={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},ae=se.INFO,pe=((fe={})[se.DEBUG]="log",fe[se.VERBOSE]="log",fe[se.INFO]="info",fe[se.WARN]="warn",fe[se.ERROR]="error",fe),he=function(G,X){for(var ce=[],Ie=2;Ie<arguments.length;Ie++)ce[Ie-2]=arguments[Ie];if(!(X<G.logLevel)){var Me=(new Date).toISOString(),$e=pe[X];if(!$e)throw new Error("Attempted to log a message with an invalid logType (value: "+X+")");console[$e].apply(console,p(["["+Me+"]  "+G.name+":"],ce))}},re=function(){function G(X){this.name=X,this._logLevel=ae,this._logHandler=he,this._userLogHandler=null,P.push(this)}return Object.defineProperty(G.prototype,"logLevel",{get:function(){return this._logLevel},set:function(X){if(!(X in se))throw new TypeError('Invalid value "'+X+'" assigned to `logLevel`');this._logLevel=X},enumerable:!1,configurable:!0}),G.prototype.setLogLevel=function(X){this._logLevel="string"==typeof X?Ee[X]:X},Object.defineProperty(G.prototype,"logHandler",{get:function(){return this._logHandler},set:function(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(X){this._userLogHandler=X},enumerable:!1,configurable:!0}),G.prototype.debug=function(){for(var X=[],ce=0;ce<arguments.length;ce++)X[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,p([this,se.DEBUG],X)),this._logHandler.apply(this,p([this,se.DEBUG],X))},G.prototype.log=function(){for(var X=[],ce=0;ce<arguments.length;ce++)X[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,p([this,se.VERBOSE],X)),this._logHandler.apply(this,p([this,se.VERBOSE],X))},G.prototype.info=function(){for(var X=[],ce=0;ce<arguments.length;ce++)X[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,p([this,se.INFO],X)),this._logHandler.apply(this,p([this,se.INFO],X))},G.prototype.warn=function(){for(var X=[],ce=0;ce<arguments.length;ce++)X[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,p([this,se.WARN],X)),this._logHandler.apply(this,p([this,se.WARN],X))},G.prototype.error=function(){for(var X=[],ce=0;ce<arguments.length;ce++)X[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,p([this,se.ERROR],X)),this._logHandler.apply(this,p([this,se.ERROR],X))},G}();function W(G){P.forEach(function(X){X.setLogLevel(G)})}function ie(G,X){for(var ce=function(Ve){var He=null;X&&X.level&&(He=Ee[X.level]),Ve.userLogHandler=null===G?null:function($t,xn){for(var ut=[],on=2;on<arguments.length;on++)ut[on-2]=arguments[on];var yn=ut.map(function(Qt){if(null==Qt)return null;if("string"==typeof Qt)return Qt;if("number"==typeof Qt||"boolean"==typeof Qt)return Qt.toString();if(Qt instanceof Error)return Qt.message;try{return JSON.stringify(Qt)}catch(Zt){return null}}).filter(function(Qt){return Qt}).join(" ");xn>=(null!=He?He:$t.logLevel)&&G({level:se[xn].toLowerCase(),message:yn,args:ut,type:$t.name})}},Ie=0,Me=P;Ie<Me.length;Ie++)ce(Me[Ie])}},4685:(rt,ke,Y)=>{"use strict";Y.d(ke,{BH:()=>X,LL:()=>De,gQ:()=>Wi,hu:()=>P,g5:()=>se,US:()=>pe,h$:()=>he,r3:()=>Jt,Sg:()=>ce,ne:()=>jt,p$:()=>W,ZB:()=>ie,gK:()=>Bn,m9:()=>sn,z$:()=>Ie,GJ:()=>hn,jU:()=>Ve,ru:()=>He,d:()=>xn,xb:()=>Wt,w1:()=>ut,uI:()=>Me,UG:()=>$e,Yr:()=>yn,b$:()=>$t,G6:()=>Qt,Mn:()=>on,w9:()=>Pt,cI:()=>_n,UI:()=>On,xO:()=>an,DV:()=>di,ug:()=>Xn,dS:()=>fi,Pz:()=>lt,Dv:()=>vn,Wj:()=>rr,lb:()=>Fc});var p=Y(4762),P=function(te,ne){if(!te)throw se(ne)},se=function(te){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+te)},Ee=function(te){for(var ne=[],le=0,ge=0;ge<te.length;ge++){var ue=te.charCodeAt(ge);ue<128?ne[le++]=ue:ue<2048?(ne[le++]=ue>>6|192,ne[le++]=63&ue|128):55296==(64512&ue)&&ge+1<te.length&&56320==(64512&te.charCodeAt(ge+1))?(ue=65536+((1023&ue)<<10)+(1023&te.charCodeAt(++ge)),ne[le++]=ue>>18|240,ne[le++]=ue>>12&63|128,ne[le++]=ue>>6&63|128,ne[le++]=63&ue|128):(ne[le++]=ue>>12|224,ne[le++]=ue>>6&63|128,ne[le++]=63&ue|128)}return ne},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(te,ne){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var le=ne?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[],ue=0;ue<te.length;ue+=3){var We=te[ue],Et=ue+1<te.length,dn=Et?te[ue+1]:0,gn=ue+2<te.length,tn=gn?te[ue+2]:0,yr=(15&dn)<<2|tn>>6,So=63&tn;gn||(So=64,Et||(yr=64)),ge.push(le[We>>2],le[(3&We)<<4|dn>>4],le[yr],le[So])}return ge.join("")},encodeString:function(te,ne){return this.HAS_NATIVE_SUPPORT&&!ne?btoa(te):this.encodeByteArray(Ee(te),ne)},decodeString:function(te,ne){return this.HAS_NATIVE_SUPPORT&&!ne?atob(te):function(te){for(var ne=[],le=0,ge=0;le<te.length;){var ue=te[le++];if(ue<128)ne[ge++]=String.fromCharCode(ue);else if(ue>191&&ue<224){var We=te[le++];ne[ge++]=String.fromCharCode((31&ue)<<6|63&We)}else if(ue>239&&ue<365){var gn=((7&ue)<<18|(63&(We=te[le++]))<<12|(63&(Et=te[le++]))<<6|63&te[le++])-65536;ne[ge++]=String.fromCharCode(55296+(gn>>10)),ne[ge++]=String.fromCharCode(56320+(1023&gn))}else{We=te[le++];var Et=te[le++];ne[ge++]=String.fromCharCode((15&ue)<<12|(63&We)<<6|63&Et)}}return ne.join("")}(this.decodeStringToByteArray(te,ne))},decodeStringToByteArray:function(te,ne){this.init_();for(var le=ne?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[],ue=0;ue<te.length;){var We=le[te.charAt(ue++)],dn=ue<te.length?le[te.charAt(ue)]:0,tn=++ue<te.length?le[te.charAt(ue)]:64,Fr=++ue<te.length?le[te.charAt(ue)]:64;if(++ue,null==We||null==dn||null==tn||null==Fr)throw Error();ge.push(We<<2|dn>>4),64!==tn&&(ge.push(dn<<4&240|tn>>2),64!==Fr&&ge.push(tn<<6&192|Fr))}return ge},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}},he=function(te){var ne=Ee(te);return pe.encodeByteArray(ne,!0)},re=function(te){try{return pe.decodeString(te,!0)}catch(ne){console.error("base64Decode failed: ",ne)}return null};function W(te){return ie(void 0,te)}function ie(te,ne){if(!(ne instanceof Object))return ne;switch(ne.constructor){case Date:return new Date(ne.getTime());case Object:void 0===te&&(te={});break;case Array:te=[];break;default:return ne}for(var ge in ne)!ne.hasOwnProperty(ge)||!G(ge)||(te[ge]=ie(te[ge],ne[ge]));return te}function G(te){return"__proto__"!==te}var X=function(){function te(){var ne=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(le,ge){ne.resolve=le,ne.reject=ge})}return te.prototype.wrapCallback=function(ne){var le=this;return function(ge,ue){ge?le.reject(ge):le.resolve(ue),"function"==typeof ne&&(le.promise.catch(function(){}),1===ne.length?ne(ge):ne(ge,ue))}},te}();function ce(te,ne){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ge=ne||"demo-project",ue=te.iat||0,We=te.sub||te.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Et=(0,p.pi)({iss:"https://securetoken.google.com/"+ge,aud:ge,iat:ue,exp:ue+3600,auth_time:ue,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},te);return[pe.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),pe.encodeString(JSON.stringify(Et),!1),""].join(".")}function Ie(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ie())}function $e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(te){return!1}}function Ve(){return"object"==typeof self&&self.self===self}function He(){var te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function $t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xn(){return Ie().indexOf("Electron/")>=0}function ut(){var te=Ie();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function on(){return Ie().indexOf("MSAppHost/")>=0}function yn(){return!1}function Qt(){return!$e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var Re=function(te){function ne(le,ge,ue){var We=te.call(this,ge)||this;return We.code=le,We.customData=ue,We.name="FirebaseError",Object.setPrototypeOf(We,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(We,De.prototype.create),We}return(0,p.ZT)(ne,te),ne}(Error),De=function(){function te(ne,le,ge){this.service=ne,this.serviceName=le,this.errors=ge}return te.prototype.create=function(ne){for(var le=[],ge=1;ge<arguments.length;ge++)le[ge-1]=arguments[ge];var ue=le[0]||{},We=this.service+"/"+ne,Et=this.errors[ne],dn=Et?gt(Et,ue):"Error",gn=this.serviceName+": "+dn+" ("+We+").",tn=new Re(We,gn,ue);return tn},te}();function gt(te,ne){return te.replace(mt,function(le,ge){var ue=ne[ge];return null!=ue?String(ue):"<"+ge+"?>"})}var mt=/\{\$([^}]+)}/g;function _n(te){return JSON.parse(te)}function lt(te){return JSON.stringify(te)}var ct=function(te){var ne={},le={},ge={},ue="";try{var We=te.split(".");ne=_n(re(We[0])||""),le=_n(re(We[1])||""),ue=We[2],ge=le.d||{},delete le.d}catch(Et){}return{header:ne,claims:le,data:ge,signature:ue}},Pt=function(te){var le=ct(te).claims;return!!le&&"object"==typeof le&&le.hasOwnProperty("iat")},hn=function(te){var ne=ct(te).claims;return"object"==typeof ne&&!0===ne.admin};function Jt(te,ne){return Object.prototype.hasOwnProperty.call(te,ne)}function di(te,ne){if(Object.prototype.hasOwnProperty.call(te,ne))return te[ne]}function Wt(te){for(var ne in te)if(Object.prototype.hasOwnProperty.call(te,ne))return!1;return!0}function On(te,ne,le){var ge={};for(var ue in te)Object.prototype.hasOwnProperty.call(te,ue)&&(ge[ue]=ne.call(le,te[ue],ue,te));return ge}function an(te){for(var ne=[],le=function(gn,tn){Array.isArray(tn)?tn.forEach(function(ir){ne.push(encodeURIComponent(gn)+"="+encodeURIComponent(ir))}):ne.push(encodeURIComponent(gn)+"="+encodeURIComponent(tn))},ge=0,ue=Object.entries(te);ge<ue.length;ge++){var We=ue[ge];le(We[0],We[1])}return ne.length?"&"+ne.join("&"):""}var Wi=function(){function te(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var ne=1;ne<this.blockSize;++ne)this.pad_[ne]=0;this.reset()}return te.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},te.prototype.compress_=function(ne,le){le||(le=0);var ge=this.W_;if("string"==typeof ne)for(var ue=0;ue<16;ue++)ge[ue]=ne.charCodeAt(le)<<24|ne.charCodeAt(le+1)<<16|ne.charCodeAt(le+2)<<8|ne.charCodeAt(le+3),le+=4;else for(ue=0;ue<16;ue++)ge[ue]=ne[le]<<24|ne[le+1]<<16|ne[le+2]<<8|ne[le+3],le+=4;for(ue=16;ue<80;ue++)ge[ue]=4294967295&((We=ge[ue-3]^ge[ue-8]^ge[ue-14]^ge[ue-16])<<1|We>>>31);var Fr,yr,Et=this.chain_[0],dn=this.chain_[1],gn=this.chain_[2],tn=this.chain_[3],ir=this.chain_[4];for(ue=0;ue<80;ue++){ue<40?ue<20?(Fr=tn^dn&(gn^tn),yr=1518500249):(Fr=dn^gn^tn,yr=1859775393):ue<60?(Fr=dn&gn|tn&(dn|gn),yr=2400959708):(Fr=dn^gn^tn,yr=3395469782);var We=(Et<<5|Et>>>27)+Fr+ir+yr+ge[ue]&4294967295;ir=tn,tn=gn,gn=4294967295&(dn<<30|dn>>>2),dn=Et,Et=We}this.chain_[0]=this.chain_[0]+Et&4294967295,this.chain_[1]=this.chain_[1]+dn&4294967295,this.chain_[2]=this.chain_[2]+gn&4294967295,this.chain_[3]=this.chain_[3]+tn&4294967295,this.chain_[4]=this.chain_[4]+ir&4294967295},te.prototype.update=function(ne,le){if(null!=ne){void 0===le&&(le=ne.length);for(var ge=le-this.blockSize,ue=0,We=this.buf_,Et=this.inbuf_;ue<le;){if(0===Et)for(;ue<=ge;)this.compress_(ne,ue),ue+=this.blockSize;if("string"==typeof ne){for(;ue<le;)if(We[Et]=ne.charCodeAt(ue),++ue,++Et===this.blockSize){this.compress_(We),Et=0;break}}else for(;ue<le;)if(We[Et]=ne[ue],++ue,++Et===this.blockSize){this.compress_(We),Et=0;break}}this.inbuf_=Et,this.total_+=le}},te.prototype.digest=function(){var ne=[],le=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ge=this.blockSize-1;ge>=56;ge--)this.buf_[ge]=255&le,le/=256;this.compress_(this.buf_);var ue=0;for(ge=0;ge<5;ge++)for(var We=24;We>=0;We-=8)ne[ue]=this.chain_[ge]>>We&255,++ue;return ne},te}();function jt(te,ne){var le=new Mt(te,ne);return le.subscribe.bind(le)}var Mt=function(){function te(ne,le){var ge=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=le,this.task.then(function(){ne(ge)}).catch(function(ue){ge.error(ue)})}return te.prototype.next=function(ne){this.forEachObserver(function(le){le.next(ne)})},te.prototype.error=function(ne){this.forEachObserver(function(le){le.error(ne)}),this.close(ne)},te.prototype.complete=function(){this.forEachObserver(function(ne){ne.complete()}),this.close()},te.prototype.subscribe=function(ne,le,ge){var We,ue=this;if(void 0===ne&&void 0===le&&void 0===ge)throw new Error("Missing Observer.");void 0===(We=function(te,ne){if("object"!=typeof te||null===te)return!1;for(var le=0,ge=["next","error","complete"];le<ge.length;le++){var ue=ge[le];if(ue in te&&"function"==typeof te[ue])return!0}return!1}(ne)?ne:{next:ne,error:le,complete:ge}).next&&(We.next=qe),void 0===We.error&&(We.error=qe),void 0===We.complete&&(We.complete=qe);var Et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{ue.finalError?We.error(ue.finalError):We.complete()}catch(dn){}}),this.observers.push(We),Et},te.prototype.unsubscribeOne=function(ne){void 0===this.observers||void 0===this.observers[ne]||(delete this.observers[ne],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},te.prototype.forEachObserver=function(ne){if(!this.finalized)for(var le=0;le<this.observers.length;le++)this.sendOne(le,ne)},te.prototype.sendOne=function(ne,le){var ge=this;this.task.then(function(){if(void 0!==ge.observers&&void 0!==ge.observers[ne])try{le(ge.observers[ne])}catch(ue){"undefined"!=typeof console&&console.error&&console.error(ue)}})},te.prototype.close=function(ne){var le=this;this.finalized||(this.finalized=!0,void 0!==ne&&(this.finalError=ne),this.task.then(function(){le.observers=void 0,le.onNoObservers=void 0}))},te}();function qe(){}var vn=function(te,ne,le,ge){var ue;if(ge<ne?ue="at least "+ne:ge>le&&(ue=0===le?"none":"no more than "+le),ue)throw new Error(te+" failed: Was called with "+ge+(1===ge?" argument.":" arguments.")+" Expects "+ue+".")};function Bn(te,ne){return te+" failed: "+ne+" argument "}function rr(te,ne,le,ge){if((!ge||le)&&"function"!=typeof le)throw new Error(Bn(te,ne)+"must be a valid function.")}function Fc(te,ne,le,ge){if((!ge||le)&&("object"!=typeof le||null===le))throw new Error(Bn(te,ne)+"must be a valid context object.")}var fi=function(te){for(var ne=[],le=0,ge=0;ge<te.length;ge++){var ue=te.charCodeAt(ge);if(ue>=55296&&ue<=56319){var We=ue-55296;ge++,P(ge<te.length,"Surrogate pair missing trail surrogate."),ue=65536+(We<<10)+(te.charCodeAt(ge)-56320)}ue<128?ne[le++]=ue:ue<2048?(ne[le++]=ue>>6|192,ne[le++]=63&ue|128):ue<65536?(ne[le++]=ue>>12|224,ne[le++]=ue>>6&63|128,ne[le++]=63&ue|128):(ne[le++]=ue>>18|240,ne[le++]=ue>>12&63|128,ne[le++]=ue>>6&63|128,ne[le++]=63&ue|128)}return ne},Xn=function(te){for(var ne=0,le=0;le<te.length;le++){var ge=te.charCodeAt(le);ge<128?ne++:ge<2048?ne+=2:ge>=55296&&ge<=56319?(ne+=4,le++):ne+=3}return ne};function sn(te){return te&&te._delegate?te._delegate:te}},2329:(rt,ke,Y)=>{"use strict";Y.d(ke,{Z:()=>p.Z});var p=Y(9759),P="8.8.0";p.Z.registerVersion("firebase",P,"app"),p.Z.SDK_VERSION=P},1524:(rt,ke,Y)=>{var p;!function(fe,P,se,Ee){"use strict";var Me,ae=["","webkit","Moz","MS","ms","o"],pe=P.createElement("div"),re=Math.round,W=Math.abs,ie=Date.now;function G(N,H,J){return setTimeout($t(N,J),H)}function X(N,H,J){return!!Array.isArray(N)&&(ce(N,J[H],J),!0)}function ce(N,H,J){var we;if(N)if(N.forEach)N.forEach(H,J);else if(N.length!==Ee)for(we=0;we<N.length;)H.call(J,N[we],we,N),we++;else for(we in N)N.hasOwnProperty(we)&&H.call(J,N[we],we,N)}function Ie(N,H,J){var we="DEPRECATED METHOD: "+H+"\n"+J+" AT \n";return function(){var Fe=new Error("get-stack-trace"),et=Fe&&Fe.stack?Fe.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Kt=fe.console&&(fe.console.warn||fe.console.log);return Kt&&Kt.call(fe.console,we,et),N.apply(this,arguments)}}Me="function"!=typeof Object.assign?function(H){if(H===Ee||null===H)throw new TypeError("Cannot convert undefined or null to object");for(var J=Object(H),we=1;we<arguments.length;we++){var Fe=arguments[we];if(Fe!==Ee&&null!==Fe)for(var et in Fe)Fe.hasOwnProperty(et)&&(J[et]=Fe[et])}return J}:Object.assign;var $e=Ie(function(H,J,we){for(var Fe=Object.keys(J),et=0;et<Fe.length;)(!we||we&&H[Fe[et]]===Ee)&&(H[Fe[et]]=J[Fe[et]]),et++;return H},"extend","Use `assign`."),Ve=Ie(function(H,J){return $e(H,J,!0)},"merge","Use `assign`.");function He(N,H,J){var Fe,we=H.prototype;(Fe=N.prototype=Object.create(we)).constructor=N,Fe._super=we,J&&Me(Fe,J)}function $t(N,H){return function(){return N.apply(H,arguments)}}function xn(N,H){return"function"==typeof N?N.apply(H&&H[0]||Ee,H):N}function ut(N,H){return N===Ee?H:N}function on(N,H,J){ce(_e(H),function(we){N.addEventListener(we,J,!1)})}function yn(N,H,J){ce(_e(H),function(we){N.removeEventListener(we,J,!1)})}function Qt(N,H){for(;N;){if(N==H)return!0;N=N.parentNode}return!1}function Zt(N,H){return N.indexOf(H)>-1}function _e(N){return N.trim().split(/\s+/g)}function be(N,H,J){if(N.indexOf&&!J)return N.indexOf(H);for(var we=0;we<N.length;){if(J&&N[we][J]==H||!J&&N[we]===H)return we;we++}return-1}function Ce(N){return Array.prototype.slice.call(N,0)}function ve(N,H,J){for(var we=[],Fe=[],et=0;et<N.length;){var Kt=H?N[et][H]:N[et];be(Fe,Kt)<0&&we.push(N[et]),Fe[et]=Kt,et++}return J&&(we=H?we.sort(function(Ir,Wr){return Ir[H]>Wr[H]}):we.sort()),we}function Re(N,H){for(var J,we,Fe=H[0].toUpperCase()+H.slice(1),et=0;et<ae.length;){if((we=(J=ae[et])?J+Fe:H)in N)return we;et++}return Ee}var De=1;function mt(N){var H=N.ownerDocument||N;return H.defaultView||H.parentWindow||fe}var lt="ontouchstart"in fe,ct=Re(fe,"PointerEvent")!==Ee,Je=lt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Qe="touch",hn="mouse",Bn=["x","y"],Pn=["clientX","clientY"];function rr(N,H){var J=this;this.manager=N,this.callback=H,this.element=N.element,this.target=N.options.inputTarget,this.domHandler=function(we){xn(N.options.enable,[N])&&J.handler(we)},this.init()}function fi(N,H,J){var we=J.pointers.length,Fe=J.changedPointers.length,et=1&H&&we-Fe==0,Kt=12&H&&we-Fe==0;J.isFirst=!!et,J.isFinal=!!Kt,et&&(N.session={}),J.eventType=H,function(N,H){var J=N.session,we=H.pointers,Fe=we.length;J.firstInput||(J.firstInput=Xe(H)),Fe>1&&!J.firstMultiple?J.firstMultiple=Xe(H):1===Fe&&(J.firstMultiple=!1);var et=J.firstInput,Kt=J.firstMultiple,lr=Kt?Kt.center:et.center,Ir=H.center=At(we);H.timeStamp=ie(),H.deltaTime=H.timeStamp-et.timeStamp,H.angle=sn(lr,Ir),H.distance=Sr(lr,Ir),function(N,H){var J=H.center,we=N.offsetDelta||{},Fe=N.prevDelta||{},et=N.prevInput||{};(1===H.eventType||4===et.eventType)&&(Fe=N.prevDelta={x:et.deltaX||0,y:et.deltaY||0},we=N.offsetDelta={x:J.x,y:J.y}),H.deltaX=Fe.x+(J.x-we.x),H.deltaY=Fe.y+(J.y-we.y)}(J,H),H.offsetDirection=To(H.deltaX,H.deltaY);var Wr=gl(H.deltaTime,H.deltaX,H.deltaY);H.overallVelocityX=Wr.x,H.overallVelocityY=Wr.y,H.overallVelocity=W(Wr.x)>W(Wr.y)?Wr.x:Wr.y,H.scale=Kt?function(N,H){return Sr(H[0],H[1],Pn)/Sr(N[0],N[1],Pn)}(Kt.pointers,we):1,H.rotation=Kt?function(N,H){return sn(H[1],H[0],Pn)+sn(N[1],N[0],Pn)}(Kt.pointers,we):0,H.maxPointers=J.prevInput?H.pointers.length>J.prevInput.maxPointers?H.pointers.length:J.prevInput.maxPointers:H.pointers.length,function(N,H){var Fe,et,Kt,lr,J=N.lastInterval||H,we=H.timeStamp-J.timeStamp;if(8!=H.eventType&&(we>25||J.velocity===Ee)){var Ir=H.deltaX-J.deltaX,Wr=H.deltaY-J.deltaY,Ki=gl(we,Ir,Wr);et=Ki.x,Kt=Ki.y,Fe=W(Ki.x)>W(Ki.y)?Ki.x:Ki.y,lr=To(Ir,Wr),N.lastInterval=H}else Fe=J.velocity,et=J.velocityX,Kt=J.velocityY,lr=J.direction;H.velocity=Fe,H.velocityX=et,H.velocityY=Kt,H.direction=lr}(J,H);var Ki=N.element;Qt(H.srcEvent.target,Ki)&&(Ki=H.srcEvent.target),H.target=Ki}(N,J),N.emit("hammer.input",J),N.recognize(J),N.session.prevInput=J}function Xe(N){for(var H=[],J=0;J<N.pointers.length;)H[J]={clientX:re(N.pointers[J].clientX),clientY:re(N.pointers[J].clientY)},J++;return{timeStamp:ie(),pointers:H,center:At(H),deltaX:N.deltaX,deltaY:N.deltaY}}function At(N){var H=N.length;if(1===H)return{x:re(N[0].clientX),y:re(N[0].clientY)};for(var J=0,we=0,Fe=0;Fe<H;)J+=N[Fe].clientX,we+=N[Fe].clientY,Fe++;return{x:re(J/H),y:re(we/H)}}function gl(N,H,J){return{x:H/N||0,y:J/N||0}}function To(N,H){return N===H?1:W(N)>=W(H)?N<0?2:4:H<0?8:16}function Sr(N,H,J){J||(J=Bn);var we=H[J[0]]-N[J[0]],Fe=H[J[1]]-N[J[1]];return Math.sqrt(we*we+Fe*Fe)}function sn(N,H,J){return J||(J=Bn),180*Math.atan2(H[J[1]]-N[J[1]],H[J[0]]-N[J[0]])/Math.PI}rr.prototype={handler:function(){},init:function(){this.evEl&&on(this.element,this.evEl,this.domHandler),this.evTarget&&on(this.target,this.evTarget,this.domHandler),this.evWin&&on(mt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&yn(this.element,this.evEl,this.domHandler),this.evTarget&&yn(this.target,this.evTarget,this.domHandler),this.evWin&&yn(mt(this.element),this.evWin,this.domHandler)}};var le={mousedown:1,mousemove:2,mouseup:4},ge="mousedown",ue="mousemove mouseup";function We(){this.evEl=ge,this.evWin=ue,this.pressed=!1,rr.apply(this,arguments)}He(We,rr,{handler:function(H){var J=le[H.type];1&J&&0===H.button&&(this.pressed=!0),2&J&&1!==H.which&&(J=4),this.pressed&&(4&J&&(this.pressed=!1),this.callback(this.manager,J,{pointers:[H],changedPointers:[H],pointerType:hn,srcEvent:H}))}});var Et={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},dn={2:Qe,3:"pen",4:hn,5:"kinect"},gn="pointerdown",tn="pointermove pointerup pointercancel";function ir(){this.evEl=gn,this.evWin=tn,rr.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}fe.MSPointerEvent&&!fe.PointerEvent&&(gn="MSPointerDown",tn="MSPointerMove MSPointerUp MSPointerCancel"),He(ir,rr,{handler:function(H){var J=this.store,we=!1,Fe=H.type.toLowerCase().replace("ms",""),et=Et[Fe],Kt=dn[H.pointerType]||H.pointerType,lr=Kt==Qe,Ir=be(J,H.pointerId,"pointerId");1&et&&(0===H.button||lr)?Ir<0&&(J.push(H),Ir=J.length-1):12&et&&(we=!0),!(Ir<0)&&(J[Ir]=H,this.callback(this.manager,et,{pointers:J,changedPointers:[H],pointerType:Kt,srcEvent:H}),we&&J.splice(Ir,1))}});var Fr={touchstart:1,touchmove:2,touchend:4,touchcancel:8},yr="touchstart",So="touchstart touchmove touchend touchcancel";function Os(){this.evTarget=yr,this.evWin=So,this.started=!1,rr.apply(this,arguments)}function cu(N,H){var J=Ce(N.touches),we=Ce(N.changedTouches);return 12&H&&(J=ve(J.concat(we),"identifier",!0)),[J,we]}He(Os,rr,{handler:function(H){var J=Fr[H.type];if(1===J&&(this.started=!0),this.started){var we=cu.call(this,H,J);12&J&&we[0].length-we[1].length==0&&(this.started=!1),this.callback(this.manager,J,{pointers:we[0],changedPointers:we[1],pointerType:Qe,srcEvent:H})}}});var Lc={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ml="touchstart touchmove touchend touchcancel";function Ea(){this.evTarget=ml,this.targetIds={},rr.apply(this,arguments)}function hu(N,H){var J=Ce(N.touches),we=this.targetIds;if(3&H&&1===J.length)return we[J[0].identifier]=!0,[J,J];var Fe,et,Kt=Ce(N.changedTouches),lr=[],Ir=this.target;if(et=J.filter(function(Wr){return Qt(Wr.target,Ir)}),1===H)for(Fe=0;Fe<et.length;)we[et[Fe].identifier]=!0,Fe++;for(Fe=0;Fe<Kt.length;)we[Kt[Fe].identifier]&&lr.push(Kt[Fe]),12&H&&delete we[Kt[Fe].identifier],Fe++;return lr.length?[ve(et.concat(lr),"identifier",!0),lr]:void 0}function or(){rr.apply(this,arguments);var N=$t(this.handler,this);this.touch=new Ea(this.manager,N),this.mouse=new We(this.manager,N),this.primaryTouch=null,this.lastTouches=[]}function Lr(N,H){1&N?(this.primaryTouch=H.changedPointers[0].identifier,sr.call(this,H)):12&N&&sr.call(this,H)}function sr(N){var H=N.changedPointers[0];if(H.identifier===this.primaryTouch){var J={x:H.clientX,y:H.clientY};this.lastTouches.push(J);var we=this.lastTouches;setTimeout(function(){var et=we.indexOf(J);et>-1&&we.splice(et,1)},2500)}}function pi(N){for(var H=N.srcEvent.clientX,J=N.srcEvent.clientY,we=0;we<this.lastTouches.length;we++){var Fe=this.lastTouches[we],et=Math.abs(H-Fe.x),Kt=Math.abs(J-Fe.y);if(et<=25&&Kt<=25)return!0}return!1}He(Ea,rr,{handler:function(H){var J=Lc[H.type],we=hu.call(this,H,J);!we||this.callback(this.manager,J,{pointers:we[0],changedPointers:we[1],pointerType:Qe,srcEvent:H})}}),He(or,rr,{handler:function(H,J,we){var et=we.pointerType==hn;if(!(et&&we.sourceCapabilities&&we.sourceCapabilities.firesTouchEvents)){if(we.pointerType==Qe)Lr.call(this,J,we);else if(et&&pi.call(this,we))return;this.callback(H,J,we)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Vc=Re(pe.style,"touchAction"),Vr=Vc!==Ee,Ye="compute",un="manipulation",Yn="none",Ii="pan-x",Nn="pan-y",gi=function(){if(!Vr)return!1;var N={},H=fe.CSS&&fe.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(J){N[J]=!H||fe.CSS.supports("touch-action",J)}),N}();function Rn(N,H){this.manager=N,this.set(H)}function Br(N){this.options=Me({},this.defaults,N||{}),this.id=De++,this.manager=null,this.options.enable=ut(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Lt(N){return 16&N?"cancel":8&N?"end":4&N?"move":2&N?"start":""}function at(N){return 16==N?"down":8==N?"up":2==N?"left":4==N?"right":""}function xt(N,H){var J=H.manager;return J?J.get(N):N}function ur(){Br.apply(this,arguments)}function Yt(){ur.apply(this,arguments),this.pX=null,this.pY=null}function ns(){ur.apply(this,arguments)}function Ao(){Br.apply(this,arguments),this._timer=null,this._input=null}function mi(){ur.apply(this,arguments)}function ii(){ur.apply(this,arguments)}function Ot(){Br.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function It(N,H){return(H=H||{}).recognizers=ut(H.recognizers,It.defaults.preset),new rs(N,H)}function rs(N,H){this.options=Me({},It.defaults,H||{}),this.options.inputTarget=this.options.inputTarget||N,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=N,this.input=function(N){return new(N.options.inputClass||(ct?ir:Je?Ea:lt?or:We))(N,fi)}(this),this.touchAction=new Rn(this,this.options.touchAction),_r(this,!0),ce(this.options.recognizers,function(J){var we=this.add(new J[0](J[1]));J[2]&&we.recognizeWith(J[2]),J[3]&&we.requireFailure(J[3])},this)}function _r(N,H){var we,J=N.element;J.style&&(ce(N.options.cssProps,function(Fe,et){we=Re(J.style,et),H?(N.oldCssProps[we]=J.style[we],J.style[we]=Fe):J.style[we]=N.oldCssProps[we]||""}),H||(N.oldCssProps={}))}Rn.prototype={set:function(N){N==Ye&&(N=this.compute()),Vr&&this.manager.element.style&&gi[N]&&(this.manager.element.style[Vc]=N),this.actions=N.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var N=[];return ce(this.manager.recognizers,function(H){xn(H.options.enable,[H])&&(N=N.concat(H.getTouchAction()))}),function(N){if(Zt(N,Yn))return Yn;var H=Zt(N,Ii),J=Zt(N,Nn);return H&&J?Yn:H||J?H?Ii:Nn:Zt(N,un)?un:"auto"}(N.join(" "))},preventDefaults:function(N){var H=N.srcEvent,J=N.offsetDirection;if(!this.manager.session.prevented){var we=this.actions,Fe=Zt(we,Yn)&&!gi[Yn],et=Zt(we,Nn)&&!gi[Nn],Kt=Zt(we,Ii)&&!gi[Ii];if(Fe&&1===N.pointers.length&&N.distance<2&&N.deltaTime<250)return;return Kt&&et||!(Fe||et&&6&J||Kt&&24&J)?void 0:this.preventSrc(H)}H.preventDefault()},preventSrc:function(N){this.manager.session.prevented=!0,N.preventDefault()}},Br.prototype={defaults:{},set:function(N){return Me(this.options,N),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(N){if(X(N,"recognizeWith",this))return this;var H=this.simultaneous;return H[(N=xt(N,this)).id]||(H[N.id]=N,N.recognizeWith(this)),this},dropRecognizeWith:function(N){return X(N,"dropRecognizeWith",this)||(N=xt(N,this),delete this.simultaneous[N.id]),this},requireFailure:function(N){if(X(N,"requireFailure",this))return this;var H=this.requireFail;return-1===be(H,N=xt(N,this))&&(H.push(N),N.requireFailure(this)),this},dropRequireFailure:function(N){if(X(N,"dropRequireFailure",this))return this;N=xt(N,this);var H=be(this.requireFail,N);return H>-1&&this.requireFail.splice(H,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(N){return!!this.simultaneous[N.id]},emit:function(N){var H=this,J=this.state;function we(Fe){H.manager.emit(Fe,N)}J<8&&we(H.options.event+Lt(J)),we(H.options.event),N.additionalEvent&&we(N.additionalEvent),J>=8&&we(H.options.event+Lt(J))},tryEmit:function(N){if(this.canEmit())return this.emit(N);this.state=32},canEmit:function(){for(var N=0;N<this.requireFail.length;){if(!(33&this.requireFail[N].state))return!1;N++}return!0},recognize:function(N){var H=Me({},N);if(!xn(this.options.enable,[this,H]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(H),30&this.state&&this.tryEmit(H)},process:function(N){},getTouchAction:function(){},reset:function(){}},He(ur,Br,{defaults:{pointers:1},attrTest:function(N){var H=this.options.pointers;return 0===H||N.pointers.length===H},process:function(N){var H=this.state,J=N.eventType,we=6&H,Fe=this.attrTest(N);return we&&(8&J||!Fe)?16|H:we||Fe?4&J?8|H:2&H?4|H:2:32}}),He(Yt,ur,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var N=this.options.direction,H=[];return 6&N&&H.push(Nn),24&N&&H.push(Ii),H},directionTest:function(N){var H=this.options,J=!0,we=N.distance,Fe=N.direction,et=N.deltaX,Kt=N.deltaY;return Fe&H.direction||(6&H.direction?(Fe=0===et?1:et<0?2:4,J=et!=this.pX,we=Math.abs(N.deltaX)):(Fe=0===Kt?1:Kt<0?8:16,J=Kt!=this.pY,we=Math.abs(N.deltaY))),N.direction=Fe,J&&we>H.threshold&&Fe&H.direction},attrTest:function(N){return ur.prototype.attrTest.call(this,N)&&(2&this.state||!(2&this.state)&&this.directionTest(N))},emit:function(N){this.pX=N.deltaX,this.pY=N.deltaY;var H=at(N.direction);H&&(N.additionalEvent=this.options.event+H),this._super.emit.call(this,N)}}),He(ns,ur,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Yn]},attrTest:function(N){return this._super.attrTest.call(this,N)&&(Math.abs(N.scale-1)>this.options.threshold||2&this.state)},emit:function(N){1!==N.scale&&(N.additionalEvent=this.options.event+(N.scale<1?"in":"out")),this._super.emit.call(this,N)}}),He(Ao,Br,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(N){var H=this.options,J=N.pointers.length===H.pointers,we=N.distance<H.threshold,Fe=N.deltaTime>H.time;if(this._input=N,!we||!J||12&N.eventType&&!Fe)this.reset();else if(1&N.eventType)this.reset(),this._timer=G(function(){this.state=8,this.tryEmit()},H.time,this);else if(4&N.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(N){8===this.state&&(N&&4&N.eventType?this.manager.emit(this.options.event+"up",N):(this._input.timeStamp=ie(),this.manager.emit(this.options.event,this._input)))}}),He(mi,ur,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Yn]},attrTest:function(N){return this._super.attrTest.call(this,N)&&(Math.abs(N.rotation)>this.options.threshold||2&this.state)}}),He(ii,ur,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Yt.prototype.getTouchAction.call(this)},attrTest:function(N){var J,H=this.options.direction;return 30&H?J=N.overallVelocity:6&H?J=N.overallVelocityX:24&H&&(J=N.overallVelocityY),this._super.attrTest.call(this,N)&&H&N.offsetDirection&&N.distance>this.options.threshold&&N.maxPointers==this.options.pointers&&W(J)>this.options.velocity&&4&N.eventType},emit:function(N){var H=at(N.offsetDirection);H&&this.manager.emit(this.options.event+H,N),this.manager.emit(this.options.event,N)}}),He(Ot,Br,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[un]},process:function(N){var H=this.options,J=N.pointers.length===H.pointers,we=N.distance<H.threshold,Fe=N.deltaTime<H.time;if(this.reset(),1&N.eventType&&0===this.count)return this.failTimeout();if(we&&Fe&&J){if(4!=N.eventType)return this.failTimeout();var et=!this.pTime||N.timeStamp-this.pTime<H.interval,Kt=!this.pCenter||Sr(this.pCenter,N.center)<H.posThreshold;if(this.pTime=N.timeStamp,this.pCenter=N.center,Kt&&et?this.count+=1:this.count=1,this._input=N,0==this.count%H.taps)return this.hasRequireFailures()?(this._timer=G(function(){this.state=8,this.tryEmit()},H.interval,this),2):8}return 32},failTimeout:function(){return this._timer=G(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),It.VERSION="2.0.7",It.defaults={domEvents:!1,touchAction:Ye,enable:!0,inputTarget:null,inputClass:null,preset:[[mi,{enable:!1}],[ns,{enable:!1},["rotate"]],[ii,{direction:6}],[Yt,{direction:6},["swipe"]],[Ot],[Ot,{event:"doubletap",taps:2},["tap"]],[Ao]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},rs.prototype={set:function(N){return Me(this.options,N),N.touchAction&&this.touchAction.update(),N.inputTarget&&(this.input.destroy(),this.input.target=N.inputTarget,this.input.init()),this},stop:function(N){this.session.stopped=N?2:1},recognize:function(N){var H=this.session;if(!H.stopped){this.touchAction.preventDefaults(N);var J,we=this.recognizers,Fe=H.curRecognizer;(!Fe||Fe&&8&Fe.state)&&(Fe=H.curRecognizer=null);for(var et=0;et<we.length;)J=we[et],2===H.stopped||Fe&&J!=Fe&&!J.canRecognizeWith(Fe)?J.reset():J.recognize(N),!Fe&&14&J.state&&(Fe=H.curRecognizer=J),et++}},get:function(N){if(N instanceof Br)return N;for(var H=this.recognizers,J=0;J<H.length;J++)if(H[J].options.event==N)return H[J];return null},add:function(N){if(X(N,"add",this))return this;var H=this.get(N.options.event);return H&&this.remove(H),this.recognizers.push(N),N.manager=this,this.touchAction.update(),N},remove:function(N){if(X(N,"remove",this))return this;if(N=this.get(N)){var H=this.recognizers,J=be(H,N);-1!==J&&(H.splice(J,1),this.touchAction.update())}return this},on:function(N,H){if(N!==Ee&&H!==Ee){var J=this.handlers;return ce(_e(N),function(we){J[we]=J[we]||[],J[we].push(H)}),this}},off:function(N,H){if(N!==Ee){var J=this.handlers;return ce(_e(N),function(we){H?J[we]&&J[we].splice(be(J[we],H),1):delete J[we]}),this}},emit:function(N,H){this.options.domEvents&&function(N,H){var J=P.createEvent("Event");J.initEvent(N,!0,!0),J.gesture=H,H.target.dispatchEvent(J)}(N,H);var J=this.handlers[N]&&this.handlers[N].slice();if(J&&J.length){H.type=N,H.preventDefault=function(){H.srcEvent.preventDefault()};for(var we=0;we<J.length;)J[we](H),we++}},destroy:function(){this.element&&_r(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Me(It,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:rs,Input:rr,TouchAction:Rn,TouchInput:Ea,MouseInput:We,PointerEventInput:ir,TouchMouseInput:or,SingleTouchInput:Os,Recognizer:Br,AttrRecognizer:ur,Tap:Ot,Pan:Yt,Swipe:ii,Pinch:ns,Rotate:mi,Press:Ao,on,off:yn,each:ce,merge:Ve,extend:$e,assign:Me,inherit:He,bindFn:$t,prefixed:Re}),(void 0!==fe?fe:"undefined"!=typeof self?self:{}).Hammer=It,(p=function(){return It}.call(ke,Y,ke,rt))!==Ee&&(rt.exports=p)}(window,document)},7574:(rt,ke,Y)=>{"use strict";Y.d(ke,{y:()=>ie});var p=Y(7393),P=Y(9181),se=Y(6490),ae=Y(6554),pe=Y(4487);var W=Y(2494);let ie=(()=>{class X{constructor(Ie){this._isScalar=!1,Ie&&(this._subscribe=Ie)}lift(Ie){const Me=new X;return Me.source=this,Me.operator=Ie,Me}subscribe(Ie,Me,$e){const{operator:Ve}=this,He=function(X,ce,Ie){if(X){if(X instanceof p.L)return X;if(X[P.b])return X[P.b]()}return X||ce||Ie?new p.L(X,ce,Ie):new p.L(se.c)}(Ie,Me,$e);if(He.add(Ve?Ve.call(He,this.source):this.source||W.v.useDeprecatedSynchronousErrorHandling&&!He.syncErrorThrowable?this._subscribe(He):this._trySubscribe(He)),W.v.useDeprecatedSynchronousErrorHandling&&He.syncErrorThrowable&&(He.syncErrorThrowable=!1,He.syncErrorThrown))throw He.syncErrorValue;return He}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(Me){W.v.useDeprecatedSynchronousErrorHandling&&(Ie.syncErrorThrown=!0,Ie.syncErrorValue=Me),function(X){for(;X;){const{closed:ce,destination:Ie,isStopped:Me}=X;if(ce||Me)return!1;X=Ie&&Ie instanceof p.L?Ie:null}return!0}(Ie)?Ie.error(Me):console.warn(Me)}}forEach(Ie,Me){return new(Me=G(Me))(($e,Ve)=>{let He;He=this.subscribe($t=>{try{Ie($t)}catch(xn){Ve(xn),He&&He.unsubscribe()}},Ve,$e)})}_subscribe(Ie){const{source:Me}=this;return Me&&Me.subscribe(Ie)}[ae.L](){return this}pipe(...Ie){return 0===Ie.length?this:function(X){return 0===X.length?pe.y:1===X.length?X[0]:function(Ie){return X.reduce((Me,$e)=>$e(Me),Ie)}}(Ie)(this)}toPromise(Ie){return new(Ie=G(Ie))((Me,$e)=>{let Ve;this.subscribe(He=>Ve=He,He=>$e(He),()=>Me(Ve))})}}return X.create=ce=>new X(ce),X})();function G(X){if(X||(X=W.v.Promise||Promise),!X)throw new Error("no Promise impl found");return X}},6490:(rt,ke,Y)=>{"use strict";Y.d(ke,{c:()=>P});var p=Y(2494),fe=Y(4449);const P={closed:!0,next(se){},error(se){if(p.v.useDeprecatedSynchronousErrorHandling)throw se;(0,fe.z)(se)},complete(){}}},9765:(rt,ke,Y)=>{"use strict";Y.d(ke,{Yc:()=>pe,xQ:()=>he});var p=Y(7574),fe=Y(7393),P=Y(5319),se=Y(7971),Ee=Y(8858),ae=Y(9181);class pe extends fe.L{constructor(ie){super(ie),this.destination=ie}}let he=(()=>{class W extends p.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ae.b](){return new pe(this)}lift(G){const X=new re(this,this);return X.operator=G,X}next(G){if(this.closed)throw new se.N;if(!this.isStopped){const{observers:X}=this,ce=X.length,Ie=X.slice();for(let Me=0;Me<ce;Me++)Ie[Me].next(G)}}error(G){if(this.closed)throw new se.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:X}=this,ce=X.length,Ie=X.slice();for(let Me=0;Me<ce;Me++)Ie[Me].error(G);this.observers.length=0}complete(){if(this.closed)throw new se.N;this.isStopped=!0;const{observers:G}=this,X=G.length,ce=G.slice();for(let Ie=0;Ie<X;Ie++)ce[Ie].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new se.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new se.N;return this.hasError?(G.error(this.thrownError),P.w.EMPTY):this.isStopped?(G.complete(),P.w.EMPTY):(this.observers.push(G),new Ee.W(this,G))}asObservable(){const G=new p.y;return G.source=this,G}}return W.create=(ie,G)=>new re(ie,G),W})();class re extends he{constructor(ie,G){super(),this.destination=ie,this.source=G}next(ie){const{destination:G}=this;G&&G.next&&G.next(ie)}error(ie){const{destination:G}=this;G&&G.error&&this.destination.error(ie)}complete(){const{destination:ie}=this;ie&&ie.complete&&this.destination.complete()}_subscribe(ie){const{source:G}=this;return G?this.source.subscribe(ie):P.w.EMPTY}}},8858:(rt,ke,Y)=>{"use strict";Y.d(ke,{W:()=>fe});var p=Y(5319);class fe extends p.w{constructor(se,Ee){super(),this.subject=se,this.subscriber=Ee,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const se=this.subject,Ee=se.observers;if(this.subject=null,!Ee||0===Ee.length||se.isStopped||se.closed)return;const ae=Ee.indexOf(this.subscriber);-1!==ae&&Ee.splice(ae,1)}}},7393:(rt,ke,Y)=>{"use strict";Y.d(ke,{L:()=>pe});var p=Y(9105),fe=Y(6490),P=Y(5319),se=Y(9181),Ee=Y(2494),ae=Y(4449);class pe extends P.w{constructor(W,ie,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=fe.c;break;case 1:if(!W){this.destination=fe.c;break}if("object"==typeof W){W instanceof pe?(this.syncErrorThrowable=W.syncErrorThrowable,this.destination=W,W.add(this)):(this.syncErrorThrowable=!0,this.destination=new he(this,W));break}default:this.syncErrorThrowable=!0,this.destination=new he(this,W,ie,G)}}[se.b](){return this}static create(W,ie,G){const X=new pe(W,ie,G);return X.syncErrorThrowable=!1,X}next(W){this.isStopped||this._next(W)}error(W){this.isStopped||(this.isStopped=!0,this._error(W))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(W){this.destination.next(W)}_error(W){this.destination.error(W),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:W}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=W,this}}class he extends pe{constructor(W,ie,G,X){super(),this._parentSubscriber=W;let ce,Ie=this;(0,p.m)(ie)?ce=ie:ie&&(ce=ie.next,G=ie.error,X=ie.complete,ie!==fe.c&&(Ie=Object.create(ie),(0,p.m)(Ie.unsubscribe)&&this.add(Ie.unsubscribe.bind(Ie)),Ie.unsubscribe=this.unsubscribe.bind(this))),this._context=Ie,this._next=ce,this._error=G,this._complete=X}next(W){if(!this.isStopped&&this._next){const{_parentSubscriber:ie}=this;Ee.v.useDeprecatedSynchronousErrorHandling&&ie.syncErrorThrowable?this.__tryOrSetError(ie,this._next,W)&&this.unsubscribe():this.__tryOrUnsub(this._next,W)}}error(W){if(!this.isStopped){const{_parentSubscriber:ie}=this,{useDeprecatedSynchronousErrorHandling:G}=Ee.v;if(this._error)G&&ie.syncErrorThrowable?(this.__tryOrSetError(ie,this._error,W),this.unsubscribe()):(this.__tryOrUnsub(this._error,W),this.unsubscribe());else if(ie.syncErrorThrowable)G?(ie.syncErrorValue=W,ie.syncErrorThrown=!0):(0,ae.z)(W),this.unsubscribe();else{if(this.unsubscribe(),G)throw W;(0,ae.z)(W)}}}complete(){if(!this.isStopped){const{_parentSubscriber:W}=this;if(this._complete){const ie=()=>this._complete.call(this._context);Ee.v.useDeprecatedSynchronousErrorHandling&&W.syncErrorThrowable?(this.__tryOrSetError(W,ie),this.unsubscribe()):(this.__tryOrUnsub(ie),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(W,ie){try{W.call(this._context,ie)}catch(G){if(this.unsubscribe(),Ee.v.useDeprecatedSynchronousErrorHandling)throw G;(0,ae.z)(G)}}__tryOrSetError(W,ie,G){if(!Ee.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ie.call(this._context,G)}catch(X){return Ee.v.useDeprecatedSynchronousErrorHandling?(W.syncErrorValue=X,W.syncErrorThrown=!0,!0):((0,ae.z)(X),!0)}return!1}_unsubscribe(){const{_parentSubscriber:W}=this;this._context=null,this._parentSubscriber=null,W.unsubscribe()}}},5319:(rt,ke,Y)=>{"use strict";Y.d(ke,{w:()=>ae});var p=Y(9796),fe=Y(1555),P=Y(9105);const Ee=(()=>{function he(re){return Error.call(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((W,ie)=>`${ie+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re,this}return he.prototype=Object.create(Error.prototype),he})();class ae{constructor(re){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,re&&(this._ctorUnsubscribe=!0,this._unsubscribe=re)}unsubscribe(){let re;if(this.closed)return;let{_parentOrParents:W,_ctorUnsubscribe:ie,_unsubscribe:G,_subscriptions:X}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,W instanceof ae)W.remove(this);else if(null!==W)for(let ce=0;ce<W.length;++ce)W[ce].remove(this);if((0,P.m)(G)){ie&&(this._unsubscribe=void 0);try{G.call(this)}catch(ce){re=ce instanceof Ee?pe(ce.errors):[ce]}}if((0,p.k)(X)){let ce=-1,Ie=X.length;for(;++ce<Ie;){const Me=X[ce];if((0,fe.K)(Me))try{Me.unsubscribe()}catch($e){re=re||[],$e instanceof Ee?re=re.concat(pe($e.errors)):re.push($e)}}}if(re)throw new Ee(re)}add(re){let W=re;if(!re)return ae.EMPTY;switch(typeof re){case"function":W=new ae(re);case"object":if(W===this||W.closed||"function"!=typeof W.unsubscribe)return W;if(this.closed)return W.unsubscribe(),W;if(!(W instanceof ae)){const X=W;W=new ae,W._subscriptions=[X]}break;default:throw new Error("unrecognized teardown "+re+" added to Subscription.")}let{_parentOrParents:ie}=W;if(null===ie)W._parentOrParents=this;else if(ie instanceof ae){if(ie===this)return W;W._parentOrParents=[ie,this]}else{if(-1!==ie.indexOf(this))return W;ie.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[W]:G.push(W),W}remove(re){const W=this._subscriptions;if(W){const ie=W.indexOf(re);-1!==ie&&W.splice(ie,1)}}}var he;function pe(he){return he.reduce((re,W)=>re.concat(W instanceof Ee?W.errors:W),[])}ae.EMPTY=((he=new ae).closed=!0,he)},2494:(rt,ke,Y)=>{"use strict";Y.d(ke,{v:()=>fe});let p=!1;const fe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(P){if(P){const se=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+se.stack)}else p&&console.log("RxJS: Back to a better error behavior. Thank you. <3");p=P},get useDeprecatedSynchronousErrorHandling(){return p}}},5345:(rt,ke,Y)=>{"use strict";Y.d(ke,{IY:()=>se,Ds:()=>ae,ft:()=>he});var p=Y(7393),fe=Y(7574),P=Y(7444);class se extends p.L{constructor(W){super(),this.parent=W}_next(W){this.parent.notifyNext(W)}_error(W){this.parent.notifyError(W),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ae extends p.L{notifyNext(W){this.destination.next(W)}notifyError(W){this.destination.error(W)}notifyComplete(){this.destination.complete()}}function he(re,W){if(W.closed)return;if(re instanceof fe.y)return re.subscribe(W);let ie;try{ie=(0,P.s)(re)(W)}catch(G){W.error(G)}return ie}},2441:(rt,ke,Y)=>{"use strict";Y.d(ke,{c:()=>Ee,N:()=>ae});var p=Y(9765),fe=Y(7574),P=Y(5319),se=Y(1307);class Ee extends fe.y{constructor(ie,G){super(),this.source=ie,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(ie){return this.getSubject().subscribe(ie)}getSubject(){const ie=this._subject;return(!ie||ie.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ie=this._connection;return ie||(this._isComplete=!1,ie=this._connection=new P.w,ie.add(this.source.subscribe(new pe(this.getSubject(),this))),ie.closed&&(this._connection=null,ie=P.w.EMPTY)),ie}refCount(){return(0,se.x)()(this)}}const ae=(()=>{const W=Ee.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:W._subscribe},_isComplete:{value:W._isComplete,writable:!0},getSubject:{value:W.getSubject},connect:{value:W.connect},refCount:{value:W.refCount}}})();class pe extends p.Yc{constructor(ie,G){super(ie),this.connectable=G}_error(ie){this._unsubscribe(),super._error(ie)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ie=this.connectable;if(ie){this.connectable=null;const G=ie._connection;ie._refCount=0,ie._subject=null,ie._connection=null,G&&G.unsubscribe()}}}},9193:(rt,ke,Y)=>{"use strict";Y.d(ke,{E:()=>fe,c:()=>P});var p=Y(7574);const fe=new p.y(Ee=>Ee.complete());function P(Ee){return Ee?function(Ee){return new p.y(ae=>Ee.schedule(()=>ae.complete()))}(Ee):fe}},4402:(rt,ke,Y)=>{"use strict";Y.d(ke,{D:()=>Ie});var p=Y(7574),fe=Y(7444),P=Y(5319),se=Y(6554),pe=Y(4087),he=Y(377),ie=Y(4072),G=Y(9489);function Ie(Me,$e){return $e?function(Me,$e){if(null!=Me){if(function(Me){return Me&&"function"==typeof Me[se.L]}(Me))return function(Me,$e){return new p.y(Ve=>{const He=new P.w;return He.add($e.schedule(()=>{const $t=Me[se.L]();He.add($t.subscribe({next(xn){He.add($e.schedule(()=>Ve.next(xn)))},error(xn){He.add($e.schedule(()=>Ve.error(xn)))},complete(){He.add($e.schedule(()=>Ve.complete()))}}))})),He})}(Me,$e);if((0,ie.t)(Me))return function(Me,$e){return new p.y(Ve=>{const He=new P.w;return He.add($e.schedule(()=>Me.then($t=>{He.add($e.schedule(()=>{Ve.next($t),He.add($e.schedule(()=>Ve.complete()))}))},$t=>{He.add($e.schedule(()=>Ve.error($t)))}))),He})}(Me,$e);if((0,G.z)(Me))return(0,pe.r)(Me,$e);if(function(Me){return Me&&"function"==typeof Me[he.hZ]}(Me)||"string"==typeof Me)return function(Me,$e){if(!Me)throw new Error("Iterable cannot be null");return new p.y(Ve=>{const He=new P.w;let $t;return He.add(()=>{$t&&"function"==typeof $t.return&&$t.return()}),He.add($e.schedule(()=>{$t=Me[he.hZ](),He.add($e.schedule(function(){if(Ve.closed)return;let xn,ut;try{const on=$t.next();xn=on.value,ut=on.done}catch(on){return void Ve.error(on)}ut?Ve.complete():(Ve.next(xn),this.schedule())}))})),He})}(Me,$e)}throw new TypeError((null!==Me&&typeof Me||Me)+" is not observable")}(Me,$e):Me instanceof p.y?Me:new p.y((0,fe.s)(Me))}},6693:(rt,ke,Y)=>{"use strict";Y.d(ke,{n:()=>se});var p=Y(7574),fe=Y(5015),P=Y(4087);function se(Ee,ae){return ae?(0,P.r)(Ee,ae):new p.y((0,fe.V)(Ee))}},6682:(rt,ke,Y)=>{"use strict";Y.d(ke,{T:()=>Ee});var p=Y(7574),fe=Y(4869),P=Y(3282),se=Y(6693);function Ee(...ae){let pe=Number.POSITIVE_INFINITY,he=null,re=ae[ae.length-1];return(0,fe.K)(re)?(he=ae.pop(),ae.length>1&&"number"==typeof ae[ae.length-1]&&(pe=ae.pop())):"number"==typeof re&&(pe=ae.pop()),null===he&&1===ae.length&&ae[0]instanceof p.y?ae[0]:(0,P.J)(pe)((0,se.n)(ae,he))}},5917:(rt,ke,Y)=>{"use strict";Y.d(ke,{of:()=>se});var p=Y(4869),fe=Y(6693),P=Y(4087);function se(...Ee){let ae=Ee[Ee.length-1];return(0,p.K)(ae)?(Ee.pop(),(0,P.r)(Ee,ae)):(0,fe.n)(Ee)}},205:(rt,ke,Y)=>{"use strict";Y.d(ke,{_:()=>fe});var p=Y(7574);function fe(se,Ee){return new p.y(Ee?ae=>Ee.schedule(P,0,{error:se,subscriber:ae}):ae=>ae.error(se))}function P({error:se,subscriber:Ee}){Ee.error(se)}},8002:(rt,ke,Y)=>{"use strict";Y.d(ke,{U:()=>fe});var p=Y(7393);function fe(Ee,ae){return function(he){if("function"!=typeof Ee)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return he.lift(new P(Ee,ae))}}class P{constructor(ae,pe){this.project=ae,this.thisArg=pe}call(ae,pe){return pe.subscribe(new se(ae,this.project,this.thisArg))}}class se extends p.L{constructor(ae,pe,he){super(ae),this.project=pe,this.count=0,this.thisArg=he||this}_next(ae){let pe;try{pe=this.project.call(this.thisArg,ae,this.count++)}catch(he){return void this.destination.error(he)}this.destination.next(pe)}}},3282:(rt,ke,Y)=>{"use strict";Y.d(ke,{J:()=>P});var p=Y(9773),fe=Y(4487);function P(se=Number.POSITIVE_INFINITY){return(0,p.zg)(fe.y,se)}},9773:(rt,ke,Y)=>{"use strict";Y.d(ke,{zg:()=>se});var p=Y(8002),fe=Y(4402),P=Y(5345);function se(he,re,W=Number.POSITIVE_INFINITY){return"function"==typeof re?ie=>ie.pipe(se((G,X)=>(0,fe.D)(he(G,X)).pipe((0,p.U)((ce,Ie)=>re(G,ce,X,Ie))),W)):("number"==typeof re&&(W=re),ie=>ie.lift(new Ee(he,W)))}class Ee{constructor(re,W=Number.POSITIVE_INFINITY){this.project=re,this.concurrent=W}call(re,W){return W.subscribe(new ae(re,this.project,this.concurrent))}}class ae extends P.Ds{constructor(re,W,ie=Number.POSITIVE_INFINITY){super(re),this.project=W,this.concurrent=ie,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(re){this.active<this.concurrent?this._tryNext(re):this.buffer.push(re)}_tryNext(re){let W;const ie=this.index++;try{W=this.project(re,ie)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(W)}_innerSub(re){const W=new P.IY(this),ie=this.destination;ie.add(W);const G=(0,P.ft)(re,W);G!==W&&ie.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(re){this.destination.next(re)}notifyComplete(){const re=this.buffer;this.active--,re.length>0?this._next(re.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(rt,ke,Y)=>{"use strict";Y.d(ke,{ht:()=>re,QV:()=>pe});var p=Y(7393),fe=Y(9193),P=Y(5917),se=Y(205);class ae{constructor(G,X,ce){this.kind=G,this.value=X,this.error=ce,this.hasValue="N"===G}observe(G){switch(this.kind){case"N":return G.next&&G.next(this.value);case"E":return G.error&&G.error(this.error);case"C":return G.complete&&G.complete()}}do(G,X,ce){switch(this.kind){case"N":return G&&G(this.value);case"E":return X&&X(this.error);case"C":return ce&&ce()}}accept(G,X,ce){return G&&"function"==typeof G.next?this.observe(G):this.do(G,X,ce)}toObservable(){switch(this.kind){case"N":return(0,P.of)(this.value);case"E":return(0,se._)(this.error);case"C":return(0,fe.c)()}throw new Error("unexpected notification kind value")}static createNext(G){return void 0!==G?new ae("N",G):ae.undefinedValueNotification}static createError(G){return new ae("E",void 0,G)}static createComplete(){return ae.completeNotification}}function pe(ie,G=0){return function(ce){return ce.lift(new he(ie,G))}}ae.completeNotification=new ae("C"),ae.undefinedValueNotification=new ae("N",void 0);class he{constructor(G,X=0){this.scheduler=G,this.delay=X}call(G,X){return X.subscribe(new re(G,this.scheduler,this.delay))}}class re extends p.L{constructor(G,X,ce=0){super(G),this.scheduler=X,this.delay=ce}static dispatch(G){const{notification:X,destination:ce}=G;X.observe(ce),this.unsubscribe()}scheduleMessage(G){this.destination.add(this.scheduler.schedule(re.dispatch,this.delay,new W(G,this.destination)))}_next(G){this.scheduleMessage(ae.createNext(G))}_error(G){this.scheduleMessage(ae.createError(G)),this.unsubscribe()}_complete(){this.scheduleMessage(ae.createComplete()),this.unsubscribe()}}class W{constructor(G,X){this.notification=G,this.destination=X}}},1307:(rt,ke,Y)=>{"use strict";Y.d(ke,{x:()=>fe});var p=Y(7393);function fe(){return function(ae){return ae.lift(new P(ae))}}class P{constructor(ae){this.connectable=ae}call(ae,pe){const{connectable:he}=this;he._refCount++;const re=new se(ae,he),W=pe.subscribe(re);return re.closed||(re.connection=he.connect()),W}}class se extends p.L{constructor(ae,pe){super(ae),this.connectable=pe}_unsubscribe(){const{connectable:ae}=this;if(!ae)return void(this.connection=null);this.connectable=null;const pe=ae._refCount;if(pe<=0)return void(this.connection=null);if(ae._refCount=pe-1,pe>1)return void(this.connection=null);const{connection:he}=this,re=ae._connection;this.connection=null,re&&(!he||re===he)&&re.unsubscribe()}}},8819:(rt,ke,Y)=>{"use strict";Y.d(ke,{B:()=>pe});var p=Y(2441);var se=Y(1307),Ee=Y(9765);function ae(){return new Ee.xQ}function pe(){return he=>(0,se.x)()(function(he,re){return function(ie){let G;G="function"==typeof he?he:function(){return he};const X=Object.create(ie,p.N);return X.source=ie,X.subjectFactory=G,X}}(ae)(he))}},9673:(rt,ke,Y)=>{"use strict";Y.d(ke,{R:()=>Ee});var p=Y(7574),fe=Y(4581),P=Y(6561);class se extends p.y{constructor(he,re=0,W=fe.e){super(),this.source=he,this.delayTime=re,this.scheduler=W,(!(0,P.k)(re)||re<0)&&(this.delayTime=0),(!W||"function"!=typeof W.schedule)&&(this.scheduler=fe.e)}static create(he,re=0,W=fe.e){return new se(he,re,W)}static dispatch(he){const{source:re,subscriber:W}=he;return this.add(re.subscribe(W))}_subscribe(he){return this.scheduler.schedule(se.dispatch,this.delayTime,{source:this.source,subscriber:he})}}function Ee(pe,he=0){return function(W){return W.lift(new ae(pe,he))}}class ae{constructor(he,re){this.scheduler=he,this.delay=re}call(he,re){return new se(re,this.delay,this.scheduler).subscribe(he)}}},3342:(rt,ke,Y)=>{"use strict";Y.d(ke,{b:()=>se});var p=Y(7393);function fe(){}var P=Y(9105);function se(pe,he,re){return function(ie){return ie.lift(new Ee(pe,he,re))}}class Ee{constructor(he,re,W){this.nextOrObserver=he,this.error=re,this.complete=W}call(he,re){return re.subscribe(new ae(he,this.nextOrObserver,this.error,this.complete))}}class ae extends p.L{constructor(he,re,W,ie){super(he),this._tapNext=fe,this._tapError=fe,this._tapComplete=fe,this._tapError=W||fe,this._tapComplete=ie||fe,(0,P.m)(re)?(this._context=this,this._tapNext=re):re&&(this._context=re,this._tapNext=re.next||fe,this._tapError=re.error||fe,this._tapComplete=re.complete||fe)}_next(he){try{this._tapNext.call(this._context,he)}catch(re){return void this.destination.error(re)}this.destination.next(he)}_error(he){try{this._tapError.call(this._context,he)}catch(re){return void this.destination.error(re)}this.destination.error(he)}_complete(){try{this._tapComplete.call(this._context)}catch(he){return void this.destination.error(he)}return this.destination.complete()}}},4087:(rt,ke,Y)=>{"use strict";Y.d(ke,{r:()=>P});var p=Y(7574),fe=Y(5319);function P(se,Ee){return new p.y(ae=>{const pe=new fe.w;let he=0;return pe.add(Ee.schedule(function(){he!==se.length?(ae.next(se[he++]),ae.closed||pe.add(this.schedule())):ae.complete()})),pe})}},6465:(rt,ke,Y)=>{"use strict";Y.d(ke,{o:()=>P});var p=Y(5319);class fe extends p.w{constructor(Ee,ae){super()}schedule(Ee,ae=0){return this}}class P extends fe{constructor(Ee,ae){super(Ee,ae),this.scheduler=Ee,this.work=ae,this.pending=!1}schedule(Ee,ae=0){if(this.closed)return this;this.state=Ee;const pe=this.id,he=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(he,pe,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(he,this.id,ae),this}requestAsyncId(Ee,ae,pe=0){return setInterval(Ee.flush.bind(Ee,this),pe)}recycleAsyncId(Ee,ae,pe=0){if(null!==pe&&this.delay===pe&&!1===this.pending)return ae;clearInterval(ae)}execute(Ee,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(Ee,ae);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,ae){let he,pe=!1;try{this.work(Ee)}catch(re){pe=!0,he=!!re&&re||new Error(re)}if(pe)return this.unsubscribe(),he}_unsubscribe(){const Ee=this.id,ae=this.scheduler,pe=ae.actions,he=pe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==he&&pe.splice(he,1),null!=Ee&&(this.id=this.recycleAsyncId(ae,Ee,null)),this.delay=null}}},6102:(rt,ke,Y)=>{"use strict";Y.d(ke,{v:()=>fe});let p=(()=>{class P{constructor(Ee,ae=P.now){this.SchedulerAction=Ee,this.now=ae}schedule(Ee,ae=0,pe){return new this.SchedulerAction(this,Ee).schedule(pe,ae)}}return P.now=()=>Date.now(),P})();class fe extends p{constructor(se,Ee=p.now){super(se,()=>fe.delegate&&fe.delegate!==this?fe.delegate.now():Ee()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(se,Ee=0,ae){return fe.delegate&&fe.delegate!==this?fe.delegate.schedule(se,Ee,ae):super.schedule(se,Ee,ae)}flush(se){const{actions:Ee}=this;if(this.active)return void Ee.push(se);let ae;this.active=!0;do{if(ae=se.execute(se.state,se.delay))break}while(se=Ee.shift());if(this.active=!1,ae){for(;se=Ee.shift();)se.unsubscribe();throw ae}}}},4581:(rt,ke,Y)=>{"use strict";Y.d(ke,{e:()=>G,E:()=>ie});let p=1;const fe=Promise.resolve(),P={};function se(X){return X in P&&(delete P[X],!0)}const Ee={setImmediate(X){const ce=p++;return P[ce]=!0,fe.then(()=>se(ce)&&X()),ce},clearImmediate(X){se(X)}};var pe=Y(6465),re=Y(6102);const ie=new class extends re.v{flush(ce){this.active=!0,this.scheduled=void 0;const{actions:Ie}=this;let Me,$e=-1,Ve=Ie.length;ce=ce||Ie.shift();do{if(Me=ce.execute(ce.state,ce.delay))break}while(++$e<Ve&&(ce=Ie.shift()));if(this.active=!1,Me){for(;++$e<Ve&&(ce=Ie.shift());)ce.unsubscribe();throw Me}}}(class extends pe.o{constructor(ce,Ie){super(ce,Ie),this.scheduler=ce,this.work=Ie}requestAsyncId(ce,Ie,Me=0){return null!==Me&&Me>0?super.requestAsyncId(ce,Ie,Me):(ce.actions.push(this),ce.scheduled||(ce.scheduled=Ee.setImmediate(ce.flush.bind(ce,null))))}recycleAsyncId(ce,Ie,Me=0){if(null!==Me&&Me>0||null===Me&&this.delay>0)return super.recycleAsyncId(ce,Ie,Me);0===ce.actions.length&&(Ee.clearImmediate(Ie),ce.scheduled=void 0)}}),G=ie},3637:(rt,ke,Y)=>{"use strict";Y.d(ke,{z:()=>P,P:()=>se});var p=Y(6465);const P=new(Y(6102).v)(p.o),se=P},7771:(rt,ke,Y)=>{"use strict";Y.d(ke,{c:()=>ae,N:()=>Ee});var p=Y(6465),P=Y(6102);const Ee=new class extends P.v{}(class extends p.o{constructor(he,re){super(he,re),this.scheduler=he,this.work=re}schedule(he,re=0){return re>0?super.schedule(he,re):(this.delay=re,this.state=he,this.scheduler.flush(this),this)}execute(he,re){return re>0||this.closed?super.execute(he,re):this._execute(he,re)}requestAsyncId(he,re,W=0){return null!==W&&W>0||null===W&&this.delay>0?super.requestAsyncId(he,re,W):he.flush(this)}}),ae=Ee},377:(rt,ke,Y)=>{"use strict";Y.d(ke,{hZ:()=>fe});const fe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(rt,ke,Y)=>{"use strict";Y.d(ke,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(rt,ke,Y)=>{"use strict";Y.d(ke,{b:()=>p});const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(rt,ke,Y)=>{"use strict";Y.d(ke,{N:()=>fe});const fe=(()=>{function P(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return P.prototype=Object.create(Error.prototype),P})()},4449:(rt,ke,Y)=>{"use strict";function p(fe){setTimeout(()=>{throw fe},0)}Y.d(ke,{z:()=>p})},4487:(rt,ke,Y)=>{"use strict";function p(fe){return fe}Y.d(ke,{y:()=>p})},9796:(rt,ke,Y)=>{"use strict";Y.d(ke,{k:()=>p});const p=Array.isArray||(fe=>fe&&"number"==typeof fe.length)},9489:(rt,ke,Y)=>{"use strict";Y.d(ke,{z:()=>p});const p=fe=>fe&&"number"==typeof fe.length&&"function"!=typeof fe},9105:(rt,ke,Y)=>{"use strict";function p(fe){return"function"==typeof fe}Y.d(ke,{m:()=>p})},6561:(rt,ke,Y)=>{"use strict";Y.d(ke,{k:()=>fe});var p=Y(9796);function fe(P){return!(0,p.k)(P)&&P-parseFloat(P)+1>=0}},1555:(rt,ke,Y)=>{"use strict";function p(fe){return null!==fe&&"object"==typeof fe}Y.d(ke,{K:()=>p})},4072:(rt,ke,Y)=>{"use strict";function p(fe){return!!fe&&"function"!=typeof fe.subscribe&&"function"==typeof fe.then}Y.d(ke,{t:()=>p})},4869:(rt,ke,Y)=>{"use strict";function p(fe){return fe&&"function"==typeof fe.schedule}Y.d(ke,{K:()=>p})},7444:(rt,ke,Y)=>{"use strict";Y.d(ke,{s:()=>ie});var p=Y(5015),fe=Y(4449),se=Y(377),ae=Y(6554),he=Y(9489),re=Y(4072),W=Y(1555);const ie=G=>{if(G&&"function"==typeof G[ae.L])return(G=>X=>{const ce=G[ae.L]();if("function"!=typeof ce.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ce.subscribe(X)})(G);if((0,he.z)(G))return(0,p.V)(G);if((0,re.t)(G))return(G=>X=>(G.then(ce=>{X.closed||(X.next(ce),X.complete())},ce=>X.error(ce)).then(null,fe.z),X))(G);if(G&&"function"==typeof G[se.hZ])return(G=>X=>{const ce=G[se.hZ]();for(;;){let Ie;try{Ie=ce.next()}catch(Me){return X.error(Me),X}if(Ie.done){X.complete();break}if(X.next(Ie.value),X.closed)break}return"function"==typeof ce.return&&X.add(()=>{ce.return&&ce.return()}),X})(G);{const ce=`You provided ${(0,W.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ce)}}},5015:(rt,ke,Y)=>{"use strict";Y.d(ke,{V:()=>p});const p=fe=>P=>{for(let se=0,Ee=fe.length;se<Ee&&!P.closed;se++)P.next(fe[se]);P.complete()}},8104:(rt,ke,Y)=>{"use strict";var p=Y(7716);let fe=null;function P(){return fe}const pe=new p.OlP("DocumentToken");let he=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,p.Yz7)({factory:re,token:i,providedIn:"platform"}),i})();function re(){return(0,p.LFG)(ie)}const W=new p.OlP("Location Initialized");let ie=(()=>{class i extends he{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const o=P().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=P().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,u){G()?this._history.pushState(e,o,u):this.location.hash=u}replaceState(e,o,u){G()?this._history.replaceState(e,o,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(pe))},i.\u0275prov=(0,p.Yz7)({factory:X,token:i,providedIn:"platform"}),i})();function G(){return!!window.history.pushState}function X(){return new ie((0,p.LFG)(pe))}function ce(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function Ie(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function Me(i){return i&&"?"!==i[0]?"?"+i:i}let $e=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,p.Yz7)({factory:Ve,token:i,providedIn:"root"}),i})();function Ve(i){const t=(0,p.LFG)(pe).location;return new $t((0,p.LFG)(he),t&&t.origin||"")}const He=new p.OlP("appBaseHref");let $t=(()=>{class i extends $e{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ce(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+Me(this._platformLocation.search),u=this._platformLocation.hash;return u&&e?`${o}${u}`:o}pushState(e,o,u,c){const g=this.prepareExternalUrl(u+Me(c));this._platformLocation.pushState(e,o,g)}replaceState(e,o,u,c){const g=this.prepareExternalUrl(u+Me(c));this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(he),p.LFG(He,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),xn=(()=>{class i extends $e{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=ce(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,u,c){let g=this.prepareExternalUrl(u+Me(c));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,o,g)}replaceState(e,o,u,c){let g=this.prepareExternalUrl(u+Me(c));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(he),p.LFG(He,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),ut=(()=>{class i{constructor(e,o){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const u=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Ie(Qt(u)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+Me(o))}normalize(e){return i.stripTrailingSlash(function(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,Qt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",u=null){this._platformStrategy.pushState(u,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Me(o)),u)}replaceState(e,o="",u=null){this._platformStrategy.replaceState(u,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Me(o)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformStrategy).historyGo)||void 0===u||u.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(u=>u(e,o))}subscribe(e,o,u){return this._subject.subscribe({next:e,error:o,complete:u})}}return i.\u0275fac=function(e){return new(e||i)(p.LFG($e),p.LFG(he))},i.normalizeQueryParams=Me,i.joinWithSlash=ce,i.stripTrailingSlash=Ie,i.\u0275prov=(0,p.Yz7)({factory:on,token:i,providedIn:"root"}),i})();function on(){return new ut((0,p.LFG)($e),(0,p.LFG)(he))}function Qt(i){return i.replace(/\/index.html$/,"")}var be=(()=>((be=be||{})[be.Zero=0]="Zero",be[be.One=1]="One",be[be.Two=2]="Two",be[be.Few=3]="Few",be[be.Many=4]="Many",be[be.Other=5]="Other",be))(),Ce=(()=>((Ce=Ce||{})[Ce.Format=0]="Format",Ce[Ce.Standalone=1]="Standalone",Ce))(),ve=(()=>((ve=ve||{})[ve.Narrow=0]="Narrow",ve[ve.Abbreviated=1]="Abbreviated",ve[ve.Wide=2]="Wide",ve[ve.Short=3]="Short",ve))(),Re=(()=>((Re=Re||{})[Re.Short=0]="Short",Re[Re.Medium=1]="Medium",Re[Re.Long=2]="Long",Re[Re.Full=3]="Full",Re))(),De=(()=>((De=De||{})[De.Decimal=0]="Decimal",De[De.Group=1]="Group",De[De.List=2]="List",De[De.PercentSign=3]="PercentSign",De[De.PlusSign=4]="PlusSign",De[De.MinusSign=5]="MinusSign",De[De.Exponential=6]="Exponential",De[De.SuperscriptingExponent=7]="SuperscriptingExponent",De[De.PerMille=8]="PerMille",De[De.Infinity=9]="Infinity",De[De.NaN=10]="NaN",De[De.TimeSeparator=11]="TimeSeparator",De[De.CurrencyDecimal=12]="CurrencyDecimal",De[De.CurrencyGroup=13]="CurrencyGroup",De))();function hn(i,t){return vn((0,p.cg1)(i)[p.wAp.DateFormat],t)}function Jt(i,t){return vn((0,p.cg1)(i)[p.wAp.TimeFormat],t)}function di(i,t){return vn((0,p.cg1)(i)[p.wAp.DateTimeFormat],t)}function Wt(i,t){const e=(0,p.cg1)(i),o=e[p.wAp.NumberSymbols][t];if(void 0===o){if(t===De.CurrencyDecimal)return e[p.wAp.NumberSymbols][De.Decimal];if(t===De.CurrencyGroup)return e[p.wAp.NumberSymbols][De.Group]}return o}const jt=p.kL8;function Mt(i){if(!i[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vn(i,t){for(let e=t;e>-1;e--)if(void 0!==i[e])return i[e];throw new Error("Locale data API: locale data undefined")}function Bn(i){const[t,e]=i.split(":");return{hours:+t,minutes:+e}}const fi=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Xn={},pl=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Un=(()=>((Un=Un||{})[Un.Short=0]="Short",Un[Un.ShortGMT=1]="ShortGMT",Un[Un.Long=2]="Long",Un[Un.Extended=3]="Extended",Un))(),Xe=(()=>((Xe=Xe||{})[Xe.FullYear=0]="FullYear",Xe[Xe.Month=1]="Month",Xe[Xe.Date=2]="Date",Xe[Xe.Hours=3]="Hours",Xe[Xe.Minutes=4]="Minutes",Xe[Xe.Seconds=5]="Seconds",Xe[Xe.FractionalSeconds=6]="FractionalSeconds",Xe[Xe.Day=7]="Day",Xe))(),At=(()=>((At=At||{})[At.DayPeriods=0]="DayPeriods",At[At.Days=1]="Days",At[At.Months=2]="Months",At[At.Eras=3]="Eras",At))();function gl(i,t,e,o){let u=function(i){if(yl(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[u,c=1,g=1]=i.split("-").map(v=>+v);return To(u,c-1,g)}const e=parseFloat(i);if(!isNaN(i-e))return new Date(e);let o;if(o=i.match(fi))return function(i){const t=new Date(0);let e=0,o=0;const u=i[8]?t.setUTCFullYear:t.setFullYear,c=i[8]?t.setUTCHours:t.setHours;i[9]&&(e=Number(i[9]+i[10]),o=Number(i[9]+i[11])),u.call(t,Number(i[1]),Number(i[2])-1,Number(i[3]));const g=Number(i[4]||0)-e,v=Number(i[5]||0)-o,E=Number(i[6]||0),S=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return c.call(t,g,v,E,S),t}(o)}const t=new Date(i);if(!yl(t))throw new Error(`Unable to convert "${i}" into a date`);return t}(i);t=Sr(e,t)||t;let v,g=[];for(;t;){if(v=pl.exec(t),!v){g.push(t);break}{g=g.concat(v.slice(1));const M=g.pop();if(!M)break;t=M}}let E=u.getTimezoneOffset();o&&(E=cu(o,E),u=function(i,t,e){const u=i.getTimezoneOffset();return function(i,t){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+t),i}(i,-1*(cu(t,u)-u))}(u,o));let S="";return g.forEach(M=>{const k=function(i){if(So[i])return So[i];let t;switch(i){case"G":case"GG":case"GGG":t=ue(At.Eras,ve.Abbreviated);break;case"GGGG":t=ue(At.Eras,ve.Wide);break;case"GGGGG":t=ue(At.Eras,ve.Narrow);break;case"y":t=le(Xe.FullYear,1,0,!1,!0);break;case"yy":t=le(Xe.FullYear,2,0,!0,!0);break;case"yyy":t=le(Xe.FullYear,3,0,!1,!0);break;case"yyyy":t=le(Xe.FullYear,4,0,!1,!0);break;case"Y":t=yr(1);break;case"YY":t=yr(2,!0);break;case"YYY":t=yr(3);break;case"YYYY":t=yr(4);break;case"M":case"L":t=le(Xe.Month,1,1);break;case"MM":case"LL":t=le(Xe.Month,2,1);break;case"MMM":t=ue(At.Months,ve.Abbreviated);break;case"MMMM":t=ue(At.Months,ve.Wide);break;case"MMMMM":t=ue(At.Months,ve.Narrow);break;case"LLL":t=ue(At.Months,ve.Abbreviated,Ce.Standalone);break;case"LLLL":t=ue(At.Months,ve.Wide,Ce.Standalone);break;case"LLLLL":t=ue(At.Months,ve.Narrow,Ce.Standalone);break;case"w":t=Fr(1);break;case"ww":t=Fr(2);break;case"W":t=Fr(1,!0);break;case"d":t=le(Xe.Date,1);break;case"dd":t=le(Xe.Date,2);break;case"c":case"cc":t=le(Xe.Day,1);break;case"ccc":t=ue(At.Days,ve.Abbreviated,Ce.Standalone);break;case"cccc":t=ue(At.Days,ve.Wide,Ce.Standalone);break;case"ccccc":t=ue(At.Days,ve.Narrow,Ce.Standalone);break;case"cccccc":t=ue(At.Days,ve.Short,Ce.Standalone);break;case"E":case"EE":case"EEE":t=ue(At.Days,ve.Abbreviated);break;case"EEEE":t=ue(At.Days,ve.Wide);break;case"EEEEE":t=ue(At.Days,ve.Narrow);break;case"EEEEEE":t=ue(At.Days,ve.Short);break;case"a":case"aa":case"aaa":t=ue(At.DayPeriods,ve.Abbreviated);break;case"aaaa":t=ue(At.DayPeriods,ve.Wide);break;case"aaaaa":t=ue(At.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":t=ue(At.DayPeriods,ve.Abbreviated,Ce.Standalone,!0);break;case"bbbb":t=ue(At.DayPeriods,ve.Wide,Ce.Standalone,!0);break;case"bbbbb":t=ue(At.DayPeriods,ve.Narrow,Ce.Standalone,!0);break;case"B":case"BB":case"BBB":t=ue(At.DayPeriods,ve.Abbreviated,Ce.Format,!0);break;case"BBBB":t=ue(At.DayPeriods,ve.Wide,Ce.Format,!0);break;case"BBBBB":t=ue(At.DayPeriods,ve.Narrow,Ce.Format,!0);break;case"h":t=le(Xe.Hours,1,-12);break;case"hh":t=le(Xe.Hours,2,-12);break;case"H":t=le(Xe.Hours,1);break;case"HH":t=le(Xe.Hours,2);break;case"m":t=le(Xe.Minutes,1);break;case"mm":t=le(Xe.Minutes,2);break;case"s":t=le(Xe.Seconds,1);break;case"ss":t=le(Xe.Seconds,2);break;case"S":t=le(Xe.FractionalSeconds,1);break;case"SS":t=le(Xe.FractionalSeconds,2);break;case"SSS":t=le(Xe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Et(Un.Short);break;case"ZZZZZ":t=Et(Un.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Et(Un.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Et(Un.Long);break;default:return null}return So[i]=t,t}(M);S+=k?k(u,e,E):"''"===M?"'":M.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),S}function To(i,t,e){const o=new Date(0);return o.setFullYear(i,t,e),o.setHours(0,0,0),o}function Sr(i,t){const e=function(i){return(0,p.cg1)(i)[p.wAp.LocaleId]}(i);if(Xn[e]=Xn[e]||{},Xn[e][t])return Xn[e][t];let o="";switch(t){case"shortDate":o=hn(i,Re.Short);break;case"mediumDate":o=hn(i,Re.Medium);break;case"longDate":o=hn(i,Re.Long);break;case"fullDate":o=hn(i,Re.Full);break;case"shortTime":o=Jt(i,Re.Short);break;case"mediumTime":o=Jt(i,Re.Medium);break;case"longTime":o=Jt(i,Re.Long);break;case"fullTime":o=Jt(i,Re.Full);break;case"short":const u=Sr(i,"shortTime"),c=Sr(i,"shortDate");o=sn(di(i,Re.Short),[u,c]);break;case"medium":const g=Sr(i,"mediumTime"),v=Sr(i,"mediumDate");o=sn(di(i,Re.Medium),[g,v]);break;case"long":const E=Sr(i,"longTime"),S=Sr(i,"longDate");o=sn(di(i,Re.Long),[E,S]);break;case"full":const M=Sr(i,"fullTime"),k=Sr(i,"fullDate");o=sn(di(i,Re.Full),[M,k])}return o&&(Xn[e][t]=o),o}function sn(i,t){return t&&(i=i.replace(/\{([^}]+)}/g,function(e,o){return null!=t&&o in t?t[o]:e})),i}function te(i,t,e="-",o,u){let c="";(i<0||u&&i<=0)&&(u?i=1-i:(i=-i,c=e));let g=String(i);for(;g.length<t;)g="0"+g;return o&&(g=g.substr(g.length-t)),c+g}function le(i,t,e=0,o=!1,u=!1){return function(c,g){let v=function(i,t){switch(i){case Xe.FullYear:return t.getFullYear();case Xe.Month:return t.getMonth();case Xe.Date:return t.getDate();case Xe.Hours:return t.getHours();case Xe.Minutes:return t.getMinutes();case Xe.Seconds:return t.getSeconds();case Xe.FractionalSeconds:return t.getMilliseconds();case Xe.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,c);if((e>0||v>-e)&&(v+=e),i===Xe.Hours)0===v&&-12===e&&(v=12);else if(i===Xe.FractionalSeconds)return function(i,t){return te(i,3).substr(0,t)}(v,t);const E=Wt(g,De.MinusSign);return te(v,t,E,o,u)}}function ue(i,t,e=Ce.Format,o=!1){return function(u,c){return function(i,t,e,o,u,c){switch(e){case At.Months:return function(i,t,e){const o=(0,p.cg1)(i),c=vn([o[p.wAp.MonthsFormat],o[p.wAp.MonthsStandalone]],t);return vn(c,e)}(t,u,o)[i.getMonth()];case At.Days:return function(i,t,e){const o=(0,p.cg1)(i),c=vn([o[p.wAp.DaysFormat],o[p.wAp.DaysStandalone]],t);return vn(c,e)}(t,u,o)[i.getDay()];case At.DayPeriods:const g=i.getHours(),v=i.getMinutes();if(c){const S=function(i){const t=(0,p.cg1)(i);return Mt(t),(t[p.wAp.ExtraData][2]||[]).map(o=>"string"==typeof o?Bn(o):[Bn(o[0]),Bn(o[1])])}(t),M=function(i,t,e){const o=(0,p.cg1)(i);Mt(o);const c=vn([o[p.wAp.ExtraData][0],o[p.wAp.ExtraData][1]],t)||[];return vn(c,e)||[]}(t,u,o),k=S.findIndex(F=>{if(Array.isArray(F)){const[j,q]=F,ee=g>=j.hours&&v>=j.minutes,ye=g<q.hours||g===q.hours&&v<q.minutes;if(j.hours<q.hours){if(ee&&ye)return!0}else if(ee||ye)return!0}else if(F.hours===g&&F.minutes===v)return!0;return!1});if(-1!==k)return M[k]}return function(i,t,e){const o=(0,p.cg1)(i),c=vn([o[p.wAp.DayPeriodsFormat],o[p.wAp.DayPeriodsStandalone]],t);return vn(c,e)}(t,u,o)[g<12?0:1];case At.Eras:return function(i,t){return vn((0,p.cg1)(i)[p.wAp.Eras],t)}(t,o)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(u,c,i,t,e,o)}}function Et(i){return function(t,e,o){const u=-1*o,c=Wt(e,De.MinusSign),g=u>0?Math.floor(u/60):Math.ceil(u/60);switch(i){case Un.Short:return(u>=0?"+":"")+te(g,2,c)+te(Math.abs(u%60),2,c);case Un.ShortGMT:return"GMT"+(u>=0?"+":"")+te(g,1,c);case Un.Long:return"GMT"+(u>=0?"+":"")+te(g,2,c)+":"+te(Math.abs(u%60),2,c);case Un.Extended:return 0===o?"Z":(u>=0?"+":"")+te(g,2,c)+":"+te(Math.abs(u%60),2,c);default:throw new Error(`Unknown zone width "${i}"`)}}}function ir(i){return To(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))}function Fr(i,t=!1){return function(e,o){let u;if(t){const c=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,g=e.getDate();u=1+Math.floor((g+c)/7)}else{const c=ir(e),g=function(i){const t=To(i,0,1).getDay();return To(i,0,1+(t<=4?4:11)-t)}(c.getFullYear()),v=c.getTime()-g.getTime();u=1+Math.round(v/6048e5)}return te(u,i,Wt(o,De.MinusSign))}}function yr(i,t=!1){return function(e,o){return te(ir(e).getFullYear(),i,Wt(o,De.MinusSign),t)}}const So={};function cu(i,t){i=i.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(e)?t:e}function yl(i){return i instanceof Date&&!isNaN(i.valueOf())}class ar{}let Mi=(()=>{class i extends ar{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(jt(o||this.locale)(e)){case be.Zero:return"zero";case be.One:return"one";case be.Two:return"two";case be.Few:return"few";case be.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(p.soG))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();function Kn(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const o=e.indexOf("="),[u,c]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(u.trim()===t)return decodeURIComponent(c)}return null}let Ar=(()=>{class i{constructor(e,o,u,c){this._iterableDiffers=e,this._keyValueDiffers=o,this._ngEl=u,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),e.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!0)):Object.keys(e).forEach(o=>this._toggleClass(o,!!e[o])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!1)):Object.keys(e).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(e,o){(e=e.trim())&&e.split(/\s+/g).forEach(u=>{o?this._renderer.addClass(this._ngEl.nativeElement,u):this._renderer.removeClass(this._ngEl.nativeElement,u)})}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},i.\u0275dir=p.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class Lt{constructor(t,e,o,u){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let at=(()=>{class i{constructor(e,o,u){this._viewContainer=e,this._template=o,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=[];e.forEachOperation((u,c,g)=>{if(null==u.previousIndex){const v=this._viewContainer.createEmbeddedView(this._template,new Lt(null,this._ngForOf,-1,-1),null===g?void 0:g),E=new xt(u,v);o.push(E)}else if(null==g)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const v=this._viewContainer.get(c);this._viewContainer.move(v,g);const E=new xt(u,v);o.push(E)}});for(let u=0;u<o.length;u++)this._perViewChange(o[u].view,o[u].record);for(let u=0,c=this._viewContainer.length;u<c;u++){const g=this._viewContainer.get(u);g.context.index=u,g.context.count=c,g.context.ngForOf=this._ngForOf}e.forEachIdentityChange(u=>{this._viewContainer.get(u.currentIndex).context.$implicit=u.item})}_perViewChange(e,o){e.context.$implicit=o.item}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},i.\u0275dir=p.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class xt{constructor(t,e){this.record=t,this.view=e}}let Yt=(()=>{class i{constructor(e,o){this._viewContainer=e,this._context=new ns,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ao("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ao("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.s_b),p.Y36(p.Rgc))},i.\u0275dir=p.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class ns{constructor(){this.$implicit=null,this.ngIf=null}}function Ao(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,p.AaK)(t)}'.`)}class mi{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ii=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const o=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let o=0;o<this._defaultViews.length;o++)this._defaultViews[o].enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=p.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),Ot=(()=>{class i{constructor(e,o,u){this.ngSwitch=u,u._addCase(),this._view=new mi(e,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(ii,9))},i.\u0275dir=p.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),_r=(()=>{class i{constructor(e,o,u){this._ngEl=e,this._differs=o,this._renderer=u,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,o){const[u,c]=e.split(".");null!=(o=null!=o&&c?`${o}${c}`:o)?this._renderer.setStyle(this._ngEl.nativeElement,u,o):this._renderer.removeStyle(this._ngEl.nativeElement,u)}_applyChanges(e){e.forEachRemovedItem(o=>this._setStyle(o.key,null)),e.forEachAddedItem(o=>this._setStyle(o.key,o.currentValue)),e.forEachChangedItem(o=>this._setStyle(o.key,o.currentValue))}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))},i.\u0275dir=p.lG2({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),i})();function N(i,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,p.AaK)(i)}'`)}class H{createSubscription(t,e){return t.subscribe({next:e,error:o=>{throw o}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class J{createSubscription(t,e){return t.then(e,o=>{throw o})}dispose(t){}onDestroy(t){}}const we=new J,Fe=new H;let et=(()=>{class i{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,o=>this._updateLatestValue(e,o))}_selectStrategy(e){if((0,p.QGY)(e))return we;if((0,p.F4k)(e))return Fe;throw N(i,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,o){e===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.sBO,16))},i.\u0275pipe=p.Yjl({name:"async",type:i,pure:!1}),i})(),Ki=(()=>{class i{constructor(e){this.locale=e}transform(e,o="mediumDate",u,c){if(null==e||""===e||e!=e)return null;try{return gl(e,o,c||this.locale,u)}catch(g){throw N(i,g.message)}}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.soG,16))},i.\u0275pipe=p.Yjl({name:"date",type:i,pure:!0}),i})(),bl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[{provide:ar,useClass:Mi}]}),i})();function Cl(i){return"browser"===i}let wn=(()=>{class i{}return i.\u0275prov=(0,p.Yz7)({token:i,providedIn:"root",factory:()=>new zp((0,p.LFG)(pe),window)}),i})();class zp{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const c=u.shadowRoot;if(c){const g=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(g)return g}u=o.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,u=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(o-c[0],u-c[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Uc(this.window.history)||Uc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Uc(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class pu{}class gu extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new gu,fe||(fe=i)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(St=St||document.querySelector("base"),St?St.getAttribute("href"):null);return null==e?null:function(i){In=In||document.createElement("a"),In.setAttribute("href",i);const t=In.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){St=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Kn(document.cookie,t)}}let In,St=null;const zn=new p.OlP("TRANSITION_ID"),Qi=[{provide:p.ip1,useFactory:function(i,t,e){return()=>{e.get(p.CZH).donePromise.then(()=>{const o=P();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(c=>c.getAttribute("ng-transition")===i).forEach(c=>o.remove(c))})}},deps:[zn,pe,p.zs3],multi:!0}];class El{static init(){(0,p.VLi)(new El)}addToWindow(t){p.dqk.getAngularTestability=(o,u=!0)=>{const c=t.findTestabilityInTree(o,u);if(null==c)throw new Error("Could not find testability for element.");return c},p.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(o=>{const u=p.dqk.getAllAngularTestabilities();let c=u.length,g=!1;const v=function(E){g=g||E,c--,0==c&&o(g)};u.forEach(function(E){E.whenStable(v)})})}findTestabilityInTree(t,e,o){if(null==e)return null;const u=t.getTestability(e);return null!=u?u:o?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let ks=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const Tl=new p.OlP("EventManagerPlugins");let Pe=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(u=>u.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,u){return this._findPluginFor(o).addEventListener(e,o,u)}addGlobalEventListener(e,o,u){return this._findPluginFor(o).addGlobalEventListener(e,o,u)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const u=this._plugins;for(let c=0;c<u.length;c++){const g=u[c];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Tl),p.LFG(p.R0b))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();class Xt{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const u=P().getGlobalEventTarget(this._doc,t);if(!u)throw new Error(`Unsupported event target ${u} for event ${e}`);return this.addEventListener(u,e,o)}}let Sl=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),qn=(()=>{class i extends Sl{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,u){e.forEach(c=>{const g=this._doc.createElement("style");g.textContent=c,u.push(o.appendChild(g))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Al),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(e,u,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Al))}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(pe))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();function Al(i){P().remove(i)}const Da={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},si=/%COMP%/g;function cr(i,t,e){for(let o=0;o<t.length;o++){let u=t[o];Array.isArray(u)?cr(i,u,e):(u=u.replace(si,i),e.push(u))}return e}function Oi(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let xo=(()=>{class i{constructor(e,o,u){this.eventManager=e,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new Zi(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case p.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new N_(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(e),u}case 1:case p.ifc.ShadowDom:return new _i(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const u=cr(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Pe),p.LFG(qn),p.LFG(p.AFp))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();class Zi{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Da[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,o){t&&t.insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,u){if(u){e=u+":"+e;const c=Da[u];c?t.setAttributeNS(c,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const u=Da[o];u?t.removeAttributeNS(u,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,u){u&(p.JOm.DashCase|p.JOm.Important)?t.style.setProperty(e,o,u&p.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&p.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Oi(o)):this.eventManager.addEventListener(t,e,Oi(o))}}class N_ extends Zi{constructor(t,e,o,u){super(t),this.component=o;const c=cr(u+"-"+o.id,o.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(si,u+"-"+o.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(si,i)}(u+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class _i extends Zi{constructor(t,e,o,u){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=cr(u.id,u.styles,[]);for(let g=0;g<c.length;g++){const v=document.createElement("style");v.textContent=c[g],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let xl=(()=>{class i extends Xt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,u){return e.addEventListener(o,u,!1),()=>this.removeEventListener(e,o,u)}removeEventListener(e,o,u){return e.removeEventListener(o,u)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(pe))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const Gc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Ls=new p.OlP("HammerGestureConfig"),Zp=new p.OlP("HammerLoader");let zc=(()=>{class i{constructor(){this.events=[],this.overrides={}}buildHammer(e){const o=new Hammer(e,this.options);o.get("pinch").set({enable:!0}),o.get("rotate").set({enable:!0});for(const u in this.overrides)o.get(u).set(this.overrides[u]);return o}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const ss=[{provide:Tl,useClass:(()=>{class i extends Xt{constructor(e,o,u,c){super(e),this._config=o,this.console=u,this.loader=c,this._loaderPromise=null}supports(e){return!(!Gc.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader)}addEventListener(e,o,u){const c=this.manager.getZone();if(o=o.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||this.loader();let g=!1,v=()=>{g=!0};return this._loaderPromise.then(()=>{window.Hammer?g||(v=this.addEventListener(e,o,u)):v=()=>{}}).catch(()=>{v=()=>{}}),()=>{v()}}return c.runOutsideAngular(()=>{const g=this._config.buildHammer(e),v=function(E){c.runGuarded(function(){u(E)})};return g.on(o,v),()=>{g.off(o,v),"function"==typeof g.destroy&&g.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(pe),p.LFG(Ls),p.LFG(p.c2e),p.LFG(Zp,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),multi:!0,deps:[pe,Ls,p.c2e,[new p.FiY,Zp]]},{provide:Ls,useClass:zc,deps:[]}];let Xp=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:ss}),i})();const as=["alt","control","meta","shift"],L_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Wc={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let V_=(()=>{class i extends Xt{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,u){const c=i.parseEventName(o),g=i.eventCallback(c.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,c.domEventName,g))}static parseEventName(e){const o=e.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const c=i._normalizeKey(o.pop());let g="";if(as.forEach(E=>{const S=o.indexOf(E);S>-1&&(o.splice(S,1),g+=E+".")}),g+=c,0!=o.length||0===c.length)return null;const v={};return v.domEventName=u,v.fullKey=g,v}static getEventFullKey(e){let o="",u=function(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&vr.hasOwnProperty(t)&&(t=vr[t]))}return L_[t]||t}(e);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),as.forEach(c=>{c!=u&&Wc[c](e)&&(o+=c+".")}),o+=u,o}static eventCallback(e,o,u){return c=>{i.getEventFullKey(c)===e&&u.runGuarded(()=>o(c))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(pe))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),vi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,p.Yz7)({factory:function(){return(0,p.LFG)(Bs)},token:i,providedIn:"root"}),i})(),Bs=(()=>{class i extends vi{constructor(e){super(),this._doc=e}sanitize(e,o){if(null==o)return null;switch(e){case p.q3G.NONE:return o;case p.q3G.HTML:return(0,p.qzn)(o,"HTML")?(0,p.z3N)(o):(0,p.EiD)(this._doc,String(o)).toString();case p.q3G.STYLE:return(0,p.qzn)(o,"Style")?(0,p.z3N)(o):o;case p.q3G.SCRIPT:if((0,p.qzn)(o,"Script"))return(0,p.z3N)(o);throw new Error("unsafe value used in a script context");case p.q3G.URL:return(0,p.yhl)(o),(0,p.qzn)(o,"URL")?(0,p.z3N)(o):(0,p.mCW)(String(o));case p.q3G.RESOURCE_URL:if((0,p.qzn)(o,"ResourceURL"))return(0,p.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,p.JVY)(e)}bypassSecurityTrustStyle(e){return(0,p.L6k)(e)}bypassSecurityTrustScript(e){return(0,p.eBb)(e)}bypassSecurityTrustUrl(e){return(0,p.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,p.pB0)(e)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(pe))},i.\u0275prov=(0,p.Yz7)({factory:function(){return function(i){return new Bs(i.get(pe))}((0,p.LFG)(p.gxx))},token:i,providedIn:"root"}),i})();const js=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function(){gu.makeCurrent(),El.init()},multi:!0},{provide:pe,useFactory:function(){return(0,p.RDi)(document),document},deps:[]}]),Ld=[[],{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function(){return new p.qLn},deps:[]},{provide:Tl,useClass:xl,multi:!0,deps:[pe,p.R0b,p.Lbi]},{provide:Tl,useClass:V_,multi:!0,deps:[pe]},[],{provide:xo,useClass:xo,deps:[Pe,qn,p.AFp]},{provide:p.FYo,useExisting:xo},{provide:Sl,useExisting:qn},{provide:qn,useClass:qn,deps:[pe]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:Pe,useClass:Pe,deps:[Tl,p.R0b]},{provide:pu,useClass:ks,deps:[]},[]];let Vd=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:p.AFp,useValue:e.appId},{provide:zn,useExisting:p.AFp},Qi]}}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(i,12))},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:Ld,imports:[bl,p.hGG]}),i})();"undefined"!=typeof window&&window;var jn=Y(4402),ot=Y(5917),Vt=Y(9765),Qc=Y(7971);class ki extends Vt.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Qc.N;return this._value}next(t){super.next(this._value=t)}}var Fl=Y(4869),Ll=Y(9796),Yr=Y(7393);class Hd extends Yr.L{notifyNext(t,e,o,u,c){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Zc extends Yr.L{constructor(t,e,o){super(),this.parent=t,this.outerValue=e,this.outerIndex=o,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var bu=Y(7444),Hn=Y(7574);function sg(i,t,e,o,u=new Zc(i,e,o)){if(!u.closed)return t instanceof Hn.y?t.subscribe(u):(0,bu.s)(t)(u)}var Gd=Y(6693);const Vl={};class ag{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new zd(t,this.resultSelector))}}class zd extends Hd{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Vl),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let o=0;o<e;o++)this.add(sg(this,t[o],void 0,o))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,o){const u=this.values,g=this.toRespond?u[o]===Vl?--this.toRespond:this.toRespond:0;u[o]=e,0===g&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}const us=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var ls=Y(3282);function Hs(...i){return(0,ls.J)(1)((0,ot.of)(...i))}var lo=Y(9193);function Oo(i){return new Hn.y(t=>{let e;try{e=i()}catch(u){return void t.error(u)}return(e?(0,jn.D)(e):(0,lo.c)()).subscribe(t)})}var U_=Y(2441),ft=Y(8002),Pi=Y(5345);function hr(i,t){return"function"==typeof t?e=>e.pipe(hr((o,u)=>(0,jn.D)(i(o,u)).pipe((0,ft.U)((c,g)=>t(o,c,u,g))))):e=>e.lift(new lg(i))}class lg{constructor(t){this.project=t}call(t,e){return e.subscribe(new Zn(t,this.project))}}class Zn extends Pi.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const o=this.index++;try{e=this.project(t,o)}catch(u){return void this.destination.error(u)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const o=new Pi.IY(this),u=this.destination;u.add(o),this.innerSubscription=(0,Pi.ft)(t,o),this.innerSubscription!==o&&u.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const qd=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function Ni(i){return t=>0===i?(0,lo.c)():t.lift(new j_(i))}class j_{constructor(t){if(this.total=t,this.total<0)throw new qd}call(t,e){return e.subscribe(new CE(t,this.total))}}class CE extends Yr.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,o=++this.count;o<=e&&(this.destination.next(t),o===e&&(this.destination.complete(),this.unsubscribe()))}}function cs(...i){const t=i[i.length-1];return(0,Fl.K)(t)?(i.pop(),e=>Hs(i,e,t)):e=>Hs(i,e)}function Ma(i,t){let e=!1;return arguments.length>=2&&(e=!0),function(u){return u.lift(new xa(i,t,e))}}class xa{constructor(t,e,o=!1){this.accumulator=t,this.seed=e,this.hasSeed=o}call(t,e){return e.subscribe(new H_(t,this.accumulator,this.seed,this.hasSeed))}}class H_ extends Yr.L{constructor(t,e,o,u){super(t),this.accumulator=e,this._seed=o,this.hasSeed=u,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let o;try{o=this.accumulator(this.seed,t,e)}catch(u){this.destination.error(u)}this.seed=o,this.destination.next(o)}}function ui(i,t){return function(o){return o.lift(new Oa(i,t))}}class Oa{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Gs(t,this.predicate,this.thisArg))}}class Gs extends Yr.L{constructor(t,e,o){super(t),this.predicate=e,this.thisArg=o,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(o){return void this.destination.error(o)}e&&this.destination.next(t)}}function Ro(i){return function(e){const o=new br(i),u=e.lift(o);return o.caught=u}}class br{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Jc(t,this.selector,this.caught))}}class Jc extends Pi.Ds{constructor(t,e,o){super(t),this.selector=e,this.caught=o}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const o=new Pi.IY(this);this.add(o);const u=(0,Pi.ft)(e,o);u!==o&&this.add(u)}}}var Mr=Y(9773);function wu(i,t){return(0,Mr.zg)(i,t,1)}function Bl(i){return function(e){return 0===i?(0,lo.c)():e.lift(new Ji(i))}}class Ji{constructor(t){if(this.total=t,this.total<0)throw new qd}call(t,e){return e.subscribe(new Ur(t,this.total))}}class Ur extends Yr.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,o=this.total,u=this.count++;e.length<o?e.push(t):e[u%o]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const o=this.count>=this.total?this.total:this.count,u=this.ring;for(let c=0;c<o;c++){const g=e++%o;t.next(u[g])}}t.complete()}}function hs(i=cg){return t=>t.lift(new Ra(i))}class Ra{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new zs(t,this.errorFactory))}}class zs extends Yr.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function cg(){return new us}function Xc(i=null){return t=>t.lift(new G_(i))}class G_{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new EE(t,this.defaultValue))}}class EE extends Yr.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var hg=Y(4487);function Cr(i,t){const e=arguments.length>=2;return o=>o.pipe(i?ui((u,c)=>i(u,c,o)):hg.y,Ni(1),e?Xc(t):hs(()=>new us))}var $n=Y(3342),ka=Y(1307),ko=Y(5319);function eh(i){return t=>t.lift(new th(i))}class th{constructor(t){this.callback=t}call(t,e){return e.subscribe(new nh(t,this.callback))}}class nh extends Yr.L{constructor(t,e){super(t),this.add(new ko.w(e))}}class co{constructor(t,e){this.id=t,this.url=e}}class jl extends co{constructor(t,e,o="imperative",u=null){super(t,e),this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pa extends co{constructor(t,e,o){super(t,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Du extends co{constructor(t,e,o){super(t,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Na extends co{constructor(t,e,o){super(t,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rh extends co{constructor(t,e,o,u){super(t,e),this.urlAfterRedirects=o,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wE extends co{constructor(t,e,o,u){super(t,e),this.urlAfterRedirects=o,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hl extends co{constructor(t,e,o,u,c){super(t,e),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $d extends co{constructor(t,e,o,u){super(t,e),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tu extends co{constructor(t,e,o,u){super(t,e),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dg{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wd{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class z_{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yd{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q_{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gl{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qs{constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Rt="primary";class ih{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ln(i){return new ih(i)}const zl="ngNavigationCancelingError";function oh(i){const t=Error("NavigationCancelingError: "+i);return t[zl]=!0,t}function $s(i,t,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||o.length<i.length))return null;const u={};for(let c=0;c<o.length;c++){const g=o[c],v=i[c];if(g.startsWith(":"))u[g.substring(1)]=v;else if(g!==v.path)return null}return{consumed:i.slice(0,o.length),posParams:u}}function ho(i,t){const e=i?Object.keys(i):void 0,o=t?Object.keys(t):void 0;if(!e||!o||e.length!=o.length)return!1;let u;for(let c=0;c<e.length;c++)if(u=e[c],!La(i[u],t[u]))return!1;return!0}function La(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),o=[...t].sort();return e.every((u,c)=>o[c]===u)}return i===t}function Kd(i){return Array.prototype.concat.apply([],i)}function Va(i){return i.length>0?i[i.length-1]:null}function dr(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function Er(i){return(0,p.CqO)(i)?i:(0,p.QGY)(i)?(0,jn.D)(Promise.resolve(i)):(0,ot.of)(i)}const Qd={exact:function Su(i,t,e){if(!Qs(i.segments,t.segments)||!uh(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!i.children[o]||!Su(i.children[o],t.children[o],e))return!1;return!0},subset:Ys},ah={exact:function(i,t){return ho(i,t)},subset:function(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>La(i[e],t[e]))},ignored:()=>!0};function ds(i,t,e){return Qd[e.paths](i.root,t.root,e.matrixParams)&&ah[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function Ys(i,t,e){return Ks(i,t,t.segments,e)}function Ks(i,t,e,o){if(i.segments.length>e.length){const u=i.segments.slice(0,e.length);return!(!Qs(u,e)||t.hasChildren()||!uh(u,e,o))}if(i.segments.length===e.length){if(!Qs(i.segments,e)||!uh(i.segments,e,o))return!1;for(const u in t.children)if(!i.children[u]||!Ys(i.children[u],t.children[u],o))return!1;return!0}{const u=e.slice(0,i.segments.length),c=e.slice(i.segments.length);return!!(Qs(i.segments,u)&&uh(i.segments,u,o)&&i.children[Rt])&&Ks(i.children[Rt],t,c,o)}}function uh(i,t,e){return t.every((o,u)=>ah[e](i[u].parameters,o.parameters))}class Po{constructor(t,e,o){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ln(this.queryParams)),this._queryParamMap}toString(){return $l.serialize(this)}}class zt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,dr(e,(o,u)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fr(this)}}class ql{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ln(this.parameters)),this._parameterMap}toString(){return Ba(this)}}function Qs(i,t){return i.length===t.length&&i.every((e,o)=>e.path===t[o].path)}class Zd{}class Zs{parse(t){const e=new mg(t);return new Po(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var i;return`${`/${Au(t.root,!0)}`}${function(i){const t=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(u=>`${lh(e)}=${lh(u)}`).join("&"):`${lh(e)}=${lh(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${i=t.fragment,encodeURI(i)}`:""}`}}const $l=new Zs;function fr(i){return i.segments.map(t=>Ba(t)).join("/")}function Au(i,t){if(!i.hasChildren())return fr(i);if(t){const e=i.children[Rt]?Au(i.children[Rt],!1):"",o=[];return dr(i.children,(u,c)=>{c!==Rt&&o.push(`${c}:${Au(u,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(i,t){let e=[];return dr(i.children,(o,u)=>{u===Rt&&(e=e.concat(t(o,u)))}),dr(i.children,(o,u)=>{u!==Rt&&(e=e.concat(t(o,u)))}),e}(i,(o,u)=>u===Rt?[Au(i.children[Rt],!1)]:[`${u}:${Au(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Rt]?`${fr(i)}/${e[0]}`:`${fr(i)}/(${e.join("//")})`}}function pg(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lh(i){return pg(i).replace(/%3B/gi,";")}function Wl(i){return pg(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yl(i){return decodeURIComponent(i)}function hh(i){return Yl(i.replace(/\+/g,"%20"))}function Ba(i){return`${Wl(i.path)}${function(i){return Object.keys(i).map(t=>`;${Wl(t)}=${Wl(i[t])}`).join("")}(i.parameters)}`}const gg=/^[^\/()?;=#]+/;function dh(i){const t=i.match(gg);return t?t[0]:""}const Jd=/^[^=?&#]+/,fs=/^[^?&#]+/;class mg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[Rt]=new zt(t,e)),o}parseSegment(){const t=dh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ql(Yl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=dh(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const u=dh(this.remaining);u&&(o=u,this.capture(o))}t[Yl(e)]=Yl(o)}parseQueryParam(t){const e=function(i){const t=i.match(Jd);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const g=function(i){const t=i.match(fs);return t?t[0]:""}(this.remaining);g&&(o=g,this.capture(o))}const u=hh(e),c=hh(o);if(t.hasOwnProperty(u)){let g=t[u];Array.isArray(g)||(g=[g],t[u]=g),g.push(c)}else t[u]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=dh(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let c;o.indexOf(":")>-1?(c=o.substr(0,o.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=Rt);const g=this.parseChildren();e[c]=1===Object.keys(g).length?g[Rt]:new zt([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class yg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Xd(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){const e=Xd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ph(t,this._root);return e.length<2?[]:e[e.length-2].children.map(u=>u.value).filter(u=>u!==t)}pathFromRoot(t){return ph(t,this._root).map(e=>e.value)}}function Xd(i,t){if(i===t.value)return t;for(const e of t.children){const o=Xd(i,e);if(o)return o}return null}function ph(i,t){if(i===t.value)return[t];for(const e of t.children){const o=ph(i,e);if(o.length)return o.unshift(t),o}return[]}class ps{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Kl(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class ef extends yg{constructor(t,e){super(t),this.snapshot=e,mh(this,t)}toString(){return this.snapshot.toString()}}function gh(i,t){const e=function(i,t){const g=new gs([],{},{},"",{},Rt,t,null,i.root,-1,{});return new Fi("",new ps(g,[]))}(i,t),o=new ki([new ql("",{})]),u=new ki({}),c=new ki({}),g=new ki({}),v=new ki(""),E=new Iu(o,u,g,v,c,Rt,t,e.root);return E.snapshot=e.root,new ef(new ps(E,[]),e)}class Iu{constructor(t,e,o,u,c,g,v,E){this.url=t,this.params=e,this.queryParams=o,this.fragment=u,this.data=c,this.outlet=g,this.component=v,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(t=>ln(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(t=>ln(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vg(i,t="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==t)for(o=e.length-1;o>=1;){const u=e[o],c=e[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(c.component)break;o--}}return function(i){return i.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class gs{constructor(t,e,o,u,c,g,v,E,S,M,k){this.url=t,this.params=e,this.queryParams=o,this.fragment=u,this.data=c,this.outlet=g,this.component=v,this.routeConfig=E,this._urlSegment=S,this._lastPathIndex=M,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ln(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ln(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fi extends yg{constructor(t,e){super(e),this.url=t,mh(this,e)}toString(){return Li(this._root)}}function mh(i,t){t.value._routerState=i,t.children.forEach(e=>mh(i,e))}function Li(i){const t=i.children.length>0?` { ${i.children.map(Li).join(", ")} } `:"";return`${i.value}${t}`}function No(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,ho(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),ho(t.params,e.params)||i.params.next(e.params),function(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!ho(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),ho(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function yh(i,t){return ho(i.params,t.params)&&function(i,t){return Qs(i,t)&&i.every((e,o)=>ho(e.parameters,t[o].parameters))}(i.url,t.url)&&!(!i.parent!=!t.parent)&&(!i.parent||yh(i.parent,t.parent))}function Ql(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=t.value;const u=function(i,t,e){return t.children.map(o=>{for(const u of e.children)if(i.shouldReuseRoute(o.value,u.value.snapshot))return Ql(i,o,u);return Ql(i,o)})}(i,t,e);return new ps(o,u)}{if(i.shouldAttach(t.value)){const c=i.retrieve(t.value);if(null!==c){const g=c.route;return bg(t,g),g}}const o=function(i){return new Iu(new ki(i.url),new ki(i.params),new ki(i.queryParams),new ki(i.fragment),new ki(i.data),i.outlet,i.component,i)}(t.value),u=t.children.map(c=>Ql(i,c));return new ps(o,u)}}function bg(i,t){if(i.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=i.value;for(let e=0;e<i.children.length;++e)bg(i.children[e],t.children[e])}function ea(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function ms(i){return"object"==typeof i&&null!=i&&i.outlets}function Cg(i,t,e,o,u){let c={};return o&&dr(o,(g,v)=>{c[v]=Array.isArray(g)?g.map(E=>`${E}`):`${g}`}),new Po(e.root===i?t:Z_(e.root,i,t),c,u)}function Z_(i,t,e){const o={};return dr(i.children,(u,c)=>{o[c]=u===t?e:Z_(u,t,e)}),new zt(i.segments,o)}class Zl{constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&ea(o[0]))throw new Error("Root segment cannot have matrix parameters");const u=o.find(ms);if(u&&u!==Va(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _h{constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}function Kr(i,t,e){if(i||(i=new zt([],{})),0===i.segments.length&&i.hasChildren())return ta(i,t,e);const o=function(i,t,e){let o=0,u=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;u<i.segments.length;){if(o>=e.length)return c;const g=i.segments[u],v=e[o];if(ms(v))break;const E=`${v}`,S=o<e.length-1?e[o+1]:null;if(u>0&&void 0===E)break;if(E&&S&&"object"==typeof S&&void 0===S.outlets){if(!tf(E,S,g))return c;o+=2}else{if(!tf(E,{},g))return c;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(i,t,e),u=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const c=new zt(i.segments.slice(0,o.pathIndex),{});return c.children[Rt]=new zt(i.segments.slice(o.pathIndex),i.children),ta(c,0,u)}return o.match&&0===u.length?new zt(i.segments,{}):o.match&&!i.hasChildren()?xu(i,t,e):o.match?ta(i,0,u):xu(i,t,e)}function ta(i,t,e){if(0===e.length)return new zt(i.segments,{});{const o=function(i){return ms(i[0])?i[0].outlets:{[Rt]:i}}(e),u={};return dr(o,(c,g)=>{"string"==typeof c&&(c=[c]),null!==c&&(u[g]=Kr(i.children[g],t,c))}),dr(i.children,(c,g)=>{void 0===o[g]&&(u[g]=c)}),new zt(i.segments,u)}}function xu(i,t,e){const o=i.segments.slice(0,t);let u=0;for(;u<e.length;){const c=e[u];if(ms(c)){const E=fn(c.outlets);return new zt(o,E)}if(0===u&&ea(e[0])){o.push(new ql(i.segments[t].path,Jl(e[0]))),u++;continue}const g=ms(c)?c.outlets[Rt]:`${c}`,v=u<e.length-1?e[u+1]:null;g&&v&&ea(v)?(o.push(new ql(g,Jl(v))),u+=2):(o.push(new ql(g,{})),u++)}return new zt(o,{})}function fn(i){const t={};return dr(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[o]=xu(new zt([],{}),0,e))}),t}function Jl(i){const t={};return dr(i,(e,o)=>t[o]=`${e}`),t}function tf(i,t,e){return i==e.path&&ho(t,e.parameters)}class na{constructor(t,e,o,u){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=u}activate(t){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),No(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){const u=Kl(e);t.children.forEach(c=>{const g=c.value.outlet;this.deactivateRoutes(c,u[g],o),delete u[g]}),dr(u,(c,g)=>{this.deactivateRouteAndItsChildren(c,o)})}deactivateRoutes(t,e,o){const u=t.value,c=e?e.value:null;if(u===c)if(u.component){const g=o.getContext(u.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,o);else c&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const o=e.getContext(t.value.outlet);if(o&&o.outlet){const u=o.outlet.detach(),c=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const o=e.getContext(t.value.outlet),u=o&&t.value.component?o.children:e,c=Kl(t);for(const g of Object.keys(c))this.deactivateRouteAndItsChildren(c[g],u);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(t,e,o){const u=Kl(e);t.children.forEach(c=>{this.activateRoutes(c,u[c.value.outlet],o),this.forwardEvent(new Gl(c.value.snapshot))}),t.children.length&&this.forwardEvent(new Yd(t.value.snapshot))}activateRoutes(t,e,o){const u=t.value,c=e?e.value:null;if(No(u),u===c)if(u.component){const g=o.getOrCreateContext(u.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,o);else if(u.component){const g=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const v=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),g.children.onOutletReAttached(v.contexts),g.attachRef=v.componentRef,g.route=v.route.value,g.outlet&&g.outlet.attach(v.componentRef,v.route.value),Tg(v.route)}else{const v=function(i){for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(u.snapshot),E=v?v.module.componentFactoryResolver:null;g.attachRef=null,g.route=u,g.resolver=E,g.outlet&&g.outlet.activateWith(u,E),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,o)}}function Tg(i){No(i.value),i.children.forEach(Tg)}class Xl{constructor(t,e){this.routes=t,this.module=e}}function ra(i){return"function"==typeof i}function Ou(i){return i instanceof Po}const ia=Symbol("INITIAL_VALUE");function Ha(){return hr(i=>function(...i){let t,e;return(0,Fl.K)(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(t=i.pop()),1===i.length&&(0,Ll.k)(i[0])&&(i=i[0]),(0,Gd.n)(i,e).lift(new ag(t))}(i.map(t=>t.pipe(Ni(1),cs(ia)))).pipe(Ma((t,e)=>{let o=!1;return e.reduce((u,c,g)=>u!==ia?u:(c===ia&&(o=!0),o||!1!==c&&g!==e.length-1&&!Ou(c)?u:c),t)},ia),ui(t=>t!==ia),(0,ft.U)(t=>Ou(t)?t:!0===t),Ni(1)))}let xr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=p.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&p._UZ(0,"router-outlet")},directives:function(){return[bt]},encapsulation:2}),i})();function Ga(i,t=""){for(let e=0;e<i.length;e++){const o=i[e];bh(o,Sg(t,o))}}function bh(i,t){i.children&&Ga(i.children,t)}function Sg(i,t){return t?i||t.path?i&&!t.path?`${i}/`:!i&&t.path?t.path:`${i}/${t.path}`:"":i}function Vi(i){const t=i.children&&i.children.map(Vi),e=t?Object.assign(Object.assign({},i),{children:t}):Object.assign({},i);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Rt&&(e.component=xr),e}function bi(i){return i.outlet||Rt}function Ag(i,t){const e=i.filter(o=>bi(o)===t);return e.push(...i.filter(o=>bi(o)!==t)),e}const nf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ch(i,t,e){var o;if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},nf):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(t.matcher||$s)(e,i,t);if(!c)return Object.assign({},nf);const g={};dr(c.posParams,(E,S)=>{g[S]=E.path});const v=c.consumed.length>0?Object.assign(Object.assign({},g),c.consumed[c.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:v,positionalParamSegments:null!==(o=c.posParams)&&void 0!==o?o:{}}}function ku(i,t,e,o,u="corrected"){if(e.length>0&&function(i,t,e){return e.some(o=>Pu(i,t,o)&&bi(o)!==Rt)}(i,e,o)){const g=new zt(t,function(i,t,e,o){const u={};u[Rt]=o,o._sourceSegment=i,o._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&bi(c)!==Rt){const g=new zt([],{});g._sourceSegment=i,g._segmentIndexShift=t.length,u[bi(c)]=g}return u}(i,t,o,new zt(e,i.children)));return g._sourceSegment=i,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function(i,t,e){return e.some(o=>Pu(i,t,o))}(i,e,o)){const g=new zt(i.segments,function(i,t,e,o,u,c){const g={};for(const v of o)if(Pu(i,e,v)&&!u[bi(v)]){const E=new zt([],{});E._sourceSegment=i,E._segmentIndexShift="legacy"===c?i.segments.length:t.length,g[bi(v)]=E}return Object.assign(Object.assign({},u),g)}(i,t,e,o,i.children,u));return g._sourceSegment=i,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:e}}const c=new zt(i.segments,i.children);return c._sourceSegment=i,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function Pu(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function rf(i,t,e,o){return!!(bi(i)===o||o!==Rt&&Pu(t,e,i))&&("**"===i.path||Ch(t,i,e).matched)}function Mg(i,t,e){return 0===t.length&&!i.children[e]}class Eh{constructor(t){this.segmentGroup=t||null}}class of{constructor(t){this.urlTree=t}}function za(i){return new Hn.y(t=>t.error(new Eh(i)))}function xg(i){return new Hn.y(t=>t.error(new of(i)))}function iv(i){return new Hn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class sv{constructor(t,e,o,u,c){this.configLoader=e,this.urlSerializer=o,this.urlTree=u,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(p.h0i)}apply(){const t=ku(this.urlTree.root,[],[],this.config).segmentGroup,e=new zt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Rt).pipe((0,ft.U)(c=>this.createUrlTree(sf(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ro(c=>{if(c instanceof of)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Eh?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Rt).pipe((0,ft.U)(u=>this.createUrlTree(sf(u),t.queryParams,t.fragment))).pipe(Ro(u=>{throw u instanceof Eh?this.noMatchError(u):u}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,o){const u=t.segments.length>0?new zt([],{[Rt]:t}):t;return new Po(u,e,o)}expandSegmentGroup(t,e,o,u){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(t,e,o).pipe((0,ft.U)(c=>new zt([],c))):this.expandSegment(t,o,e,o.segments,u,!0)}expandChildren(t,e,o){const u=[];for(const c of Object.keys(o.children))"primary"===c?u.unshift(c):u.push(c);return(0,jn.D)(u).pipe(wu(c=>{const g=o.children[c],v=Ag(e,c);return this.expandSegmentGroup(t,v,g,c).pipe((0,ft.U)(E=>({segment:E,outlet:c})))}),Ma((c,g)=>(c[g.outlet]=g.segment,c),{}),function(i,t){const e=arguments.length>=2;return o=>o.pipe(i?ui((u,c)=>i(u,c,o)):hg.y,Bl(1),e?Xc(t):hs(()=>new us))}())}expandSegment(t,e,o,u,c,g){return(0,jn.D)(o).pipe(wu(v=>this.expandSegmentAgainstRoute(t,e,o,v,u,c,g).pipe(Ro(S=>{if(S instanceof Eh)return(0,ot.of)(null);throw S}))),Cr(v=>!!v),Ro((v,E)=>{if(v instanceof us||"EmptyError"===v.name){if(Mg(e,u,c))return(0,ot.of)(new zt([],{}));throw new Eh(e)}throw v}))}expandSegmentAgainstRoute(t,e,o,u,c,g,v){return rf(u,e,c,g)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(t,e,u,c,g):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,o,u,c,g):za(e):za(e)}expandSegmentAgainstRouteUsingRedirect(t,e,o,u,c,g){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,u,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,u,c,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,o,u){const c=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?xg(c):this.lineralizeSegments(o,c).pipe((0,Mr.zg)(g=>{const v=new zt(g,{});return this.expandSegment(t,v,e,g,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,u,c,g){const{matched:v,consumedSegments:E,lastChild:S,positionalParamSegments:M}=Ch(e,u,c);if(!v)return za(e);const k=this.applyRedirectCommands(E,u.redirectTo,M);return u.redirectTo.startsWith("/")?xg(k):this.lineralizeSegments(u,k).pipe((0,Mr.zg)(F=>this.expandSegment(t,e,o,F.concat(c.slice(S)),g,!1)))}matchSegmentAgainstRoute(t,e,o,u,c){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,ot.of)(o._loadedConfig):this.configLoader.load(t.injector,o)).pipe((0,ft.U)(F=>(o._loadedConfig=F,new zt(u,{})))):(0,ot.of)(new zt(u,{}));const{matched:g,consumedSegments:v,lastChild:E}=Ch(e,o,u);if(!g)return za(e);const S=u.slice(E);return this.getChildConfig(t,o,u).pipe((0,Mr.zg)(k=>{const F=k.module,j=k.routes,{segmentGroup:q,slicedSegments:ee}=ku(e,v,S,j),ye=new zt(q.segments,q.children);if(0===ee.length&&ye.hasChildren())return this.expandChildren(F,j,ye).pipe((0,ft.U)(tt=>new zt(v,tt)));if(0===j.length&&0===ee.length)return(0,ot.of)(new zt(v,{}));const Se=bi(o)===c;return this.expandSegment(F,ye,j,ee,Se?Rt:c,!0).pipe((0,ft.U)(je=>new zt(v.concat(je.segments),je.children)))}))}getChildConfig(t,e,o){return e.children?(0,ot.of)(new Xl(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,ot.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,o).pipe((0,Mr.zg)(u=>{return u?this.configLoader.load(t.injector,e).pipe((0,ft.U)(c=>(e._loadedConfig=c,c))):(i=e,new Hn.y(t=>t.error(oh(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,ot.of)(new Xl([],t))}runCanLoadGuards(t,e,o){const u=e.canLoad;if(!u||0===u.length)return(0,ot.of)(!0);const c=u.map(g=>{const v=t.get(g);let E;if((i=v)&&ra(i.canLoad))E=v.canLoad(e,o);else{if(!ra(v))throw new Error("Invalid CanLoad guard");E=v(e,o)}var i;return Er(E)});return(0,ot.of)(c).pipe(Ha(),(0,$n.b)(g=>{if(!Ou(g))return;const v=oh(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw v.url=g,v}),(0,ft.U)(g=>!0===g))}lineralizeSegments(t,e){let o=[],u=e.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,ot.of)(o);if(u.numberOfChildren>1||!u.children[Rt])return iv(t.redirectTo);u=u.children[Rt]}}applyRedirectCommands(t,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,o)}applyRedirectCreatreUrlTree(t,e,o,u){const c=this.createSegmentGroup(t,e.root,o,u);return new Po(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const o={};return dr(t,(u,c)=>{if("string"==typeof u&&u.startsWith(":")){const v=u.substring(1);o[c]=e[v]}else o[c]=u}),o}createSegmentGroup(t,e,o,u){const c=this.createSegments(t,e.segments,o,u);let g={};return dr(e.children,(v,E)=>{g[E]=this.createSegmentGroup(t,v,o,u)}),new zt(c,g)}createSegments(t,e,o,u){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,u):this.findOrReturn(c,o))}findPosParam(t,e,o){const u=o[e.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return u}findOrReturn(t,e){let o=0;for(const u of e){if(u.path===t.path)return e.splice(o),u;o++}return t}}function sf(i){const t={};for(const o of Object.keys(i.children)){const c=sf(i.children[o]);(c.segments.length>0||c.hasChildren())&&(t[o]=c)}return function(i){if(1===i.numberOfChildren&&i.children[Rt]){const t=i.children[Rt];return new zt(i.segments.concat(t.segments),t.children)}return i}(new zt(i.segments,t))}class ec{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class jr{constructor(t,e){this.component=t,this.route=e}}function af(i,t,e){const o=i._root;return wh(o,t?t._root:null,e,[o.value])}function tc(i,t,e){const o=function(i){if(!i)return null;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(o?o.module.injector:e).get(i)}function wh(i,t,e,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const c=Kl(t);return i.children.forEach(g=>{(function(i,t,e,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const c=i.value,g=t?t.value:null,v=e?e.getContext(i.value.outlet):null;if(g&&c.routeConfig===g.routeConfig){const E=function(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!Qs(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Qs(i.url,t.url)||!ho(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yh(i,t)||!ho(i.queryParams,t.queryParams);case"paramsChange":default:return!yh(i,t)}}(g,c,c.routeConfig.runGuardsAndResolvers);E?u.canActivateChecks.push(new ec(o)):(c.data=g.data,c._resolvedData=g._resolvedData),wh(i,t,c.component?v?v.children:null:e,o,u),E&&v&&v.outlet&&v.outlet.isActivated&&u.canDeactivateChecks.push(new jr(v.outlet.component,g))}else g&&nc(t,v,u),u.canActivateChecks.push(new ec(o)),wh(i,null,c.component?v?v.children:null:e,o,u)})(g,c[g.value.outlet],e,o.concat([g.value]),u),delete c[g.value.outlet]}),dr(c,(g,v)=>nc(g,e.getContext(v),u)),u}function nc(i,t,e){const o=Kl(i),u=i.value;dr(o,(c,g)=>{nc(c,u.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new jr(u.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,u))}class uf{}function oa(i){return new Hn.y(t=>t.error(i))}class sa{constructor(t,e,o,u,c,g){this.rootComponentType=t,this.config=e,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=g}recognize(){const t=ku(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Rt);if(null===e)return null;const o=new gs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new ps(o,e),c=new Fi(this.url,u);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,o=vg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),t.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(t,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,o)}processChildren(t,e){const o=[];for(const c of Object.keys(e.children)){const g=e.children[c],v=Ag(t,c),E=this.processSegmentGroup(v,g,c);if(null===E)return null;o.push(...E)}const u=Dh(o);return u.sort((t,e)=>t.value.outlet===Rt?-1:e.value.outlet===Rt?1:t.value.outlet.localeCompare(e.value.outlet)),u}processSegment(t,e,o,u){for(const c of t){const g=this.processSegmentAgainstRoute(c,e,o,u);if(null!==g)return g}return Mg(e,o,u)?[]:null}processSegmentAgainstRoute(t,e,o,u){if(t.redirectTo||!rf(t,e,o,u))return null;let c,g=[],v=[];if("**"===t.path){const j=o.length>0?Va(o).parameters:{};c=new gs(o,j,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qa(t),bi(t),t.component,t,lf(e),hv(e)+o.length,Th(t))}else{const j=Ch(e,t,o);if(!j.matched)return null;g=j.consumedSegments,v=o.slice(j.lastChild),c=new gs(g,j.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qa(t),bi(t),t.component,t,lf(e),hv(e)+g.length,Th(t))}const E=(i=t).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:M}=ku(e,g,v,E.filter(j=>void 0===j.redirectTo),this.relativeLinkResolution);var i;if(0===M.length&&S.hasChildren()){const j=this.processChildren(E,S);return null===j?null:[new ps(c,j)]}if(0===E.length&&0===M.length)return[new ps(c,[])];const k=bi(t)===u,F=this.processSegment(E,S,M,k?Rt:u);return null===F?null:[new ps(c,F)]}}function Fg(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Dh(i){const t=[],e=new Set;for(const o of i){if(!Fg(o)){t.push(o);continue}const u=t.find(c=>o.value.routeConfig===c.value.routeConfig);void 0!==u?(u.children.push(...o.children),e.add(u)):t.push(o)}for(const o of e){const u=Dh(o.children);t.push(new ps(o.value,u))}return t.filter(o=>!e.has(o))}function lf(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function hv(i){let t=i,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function qa(i){return i.data||{}}function Th(i){return i.resolve||{}}function hf(i){return hr(t=>{const e=i(t);return e?(0,jn.D)(e).pipe((0,ft.U)(()=>t)):(0,ot.of)(t)})}class yv extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Sh=new p.OlP("ROUTES");class Ah{constructor(t,e,o,u){this.loader=t,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=u}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const u=this.loadModuleFactory(e.loadChildren).pipe((0,ft.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const g=c.create(t);return new Xl(Kd(g.injector.get(Sh,void 0,p.XFs.Self|p.XFs.Optional)).map(Vi),g)}),Ro(c=>{throw e._loader$=void 0,c}));return e._loader$=new U_.c(u,()=>new Vt.xQ).pipe((0,ka.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,jn.D)(this.loader.load(t)):Er(t()).pipe((0,Mr.zg)(e=>e instanceof p.YKP?(0,ot.of)(e):(0,jn.D)(this.compiler.compileModuleAsync(e))))}}class f{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new d,this.attachRef=null}}class d{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const o=this.getOrCreateContext(t);o.outlet=e,this.contexts.set(t,o)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new f,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class b{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function D(i){throw i}function I(i,t,e){return t.parse("/")}function O(i,t){return(0,ot.of)(null)}const L={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},B={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $=(()=>{class i{constructor(e,o,u,c,g,v,E,S){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=u,this.location=c,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Vt.xQ,this.errorHandler=D,this.malformedUriErrorHandler=I,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:O,afterPreactivation:O},this.urlHandlingStrategy=new b,this.routeReuseStrategy=new yv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(p.h0i),this.console=g.get(p.c2e);const F=g.get(p.R0b);this.isNgZoneEnabled=F instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new Po(new zt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ah(v,E,j=>this.triggerEvent(new dg(j)),j=>this.triggerEvent(new Wd(j))),this.routerState=gh(this.currentUrlTree,this.rootComponentType),this.transitions=new ki({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(ui(u=>0!==u.id),(0,ft.U)(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),hr(u=>{let c=!1,g=!1;return(0,ot.of)(u).pipe((0,$n.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),hr(v=>{const E=!this.navigated||v.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,ot.of)(v).pipe(hr(M=>{const k=this.transitions.getValue();return o.next(new jl(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),k!==this.transitions.getValue()?lo.E:Promise.resolve(M)}),function(i,t,e,o){return hr(u=>function(i,t,e,o,u){return new sv(i,t,e,o,u).apply()}(i,t,e,u.extractedUrl,o).pipe((0,ft.U)(c=>Object.assign(Object.assign({},u),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,$n.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(i,t,e,o,u){return(0,Mr.zg)(c=>function(i,t,e,o,u="emptyOnly",c="legacy"){try{const g=new sa(i,t,e,o,u,c).recognize();return null===g?oa(new uf):(0,ot.of)(g)}catch(g){return oa(g)}}(i,t,c.urlAfterRedirects,e(c.urlAfterRedirects),o,u).pipe((0,ft.U)(g=>Object.assign(Object.assign({},c),{targetSnapshot:g}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,$n.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const k=new rh(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);o.next(k)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:F,source:j,restoredState:q,extras:ee}=v,ye=new jl(k,this.serializeUrl(F),j,q);o.next(ye);const Se=gh(F,this.rootComponentType).snapshot;return(0,ot.of)(Object.assign(Object.assign({},v),{targetSnapshot:Se,urlAfterRedirects:F,extras:Object.assign(Object.assign({},ee),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),lo.E}),hf(v=>{const{targetSnapshot:E,id:S,extractedUrl:M,rawUrl:k,extras:{skipLocationChange:F,replaceUrl:j}}=v;return this.hooks.beforePreactivation(E,{navigationId:S,appliedUrlTree:M,rawUrlTree:k,skipLocationChange:!!F,replaceUrl:!!j})}),(0,$n.b)(v=>{const E=new wE(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(E)}),(0,ft.U)(v=>Object.assign(Object.assign({},v),{guards:af(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(i,t){return(0,Mr.zg)(e=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:c,canDeactivateChecks:g}}=e;return 0===g.length&&0===c.length?(0,ot.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(i,t,e,o){return(0,jn.D)(i).pipe((0,Mr.zg)(u=>function(i,t,e,o,u){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,ot.of)(!0);const g=c.map(v=>{const E=tc(v,t,u);let S;if(function(i){return i&&ra(i.canDeactivate)}(E))S=Er(E.canDeactivate(i,t,e,o));else{if(!ra(E))throw new Error("Invalid CanDeactivate guard");S=Er(E(i,t,e,o))}return S.pipe(Cr())});return(0,ot.of)(g).pipe(Ha())}(u.component,u.route,e,t,o)),Cr(u=>!0!==u,!0))}(g,o,u,i).pipe((0,Mr.zg)(v=>v&&function(i){return"boolean"==typeof i}(v)?function(i,t,e,o){return(0,jn.D)(t).pipe(wu(u=>Hs(function(i,t){return null!==i&&t&&t(new z_(i)),(0,ot.of)(!0)}(u.route.parent,o),function(i,t){return null!==i&&t&&t(new q_(i)),(0,ot.of)(!0)}(u.route,o),function(i,t,e){const o=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(g=>function(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(g)).filter(g=>null!==g).map(g=>Oo(()=>{const v=g.guards.map(E=>{const S=tc(E,g.node,e);let M;if(function(i){return i&&ra(i.canActivateChild)}(S))M=Er(S.canActivateChild(o,i));else{if(!ra(S))throw new Error("Invalid CanActivateChild guard");M=Er(S(o,i))}return M.pipe(Cr())});return(0,ot.of)(v).pipe(Ha())}));return(0,ot.of)(c).pipe(Ha())}(i,u.path,e),function(i,t,e){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return(0,ot.of)(!0);const u=o.map(c=>Oo(()=>{const g=tc(c,t,e);let v;if(function(i){return i&&ra(i.canActivate)}(g))v=Er(g.canActivate(t,i));else{if(!ra(g))throw new Error("Invalid CanActivate guard");v=Er(g(t,i))}return v.pipe(Cr())}));return(0,ot.of)(u).pipe(Ha())}(i,u.route,e))),Cr(u=>!0!==u,!0))}(o,c,i,t):(0,ot.of)(v)),(0,ft.U)(v=>Object.assign(Object.assign({},e),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,$n.b)(v=>{if(Ou(v.guardsResult)){const S=oh(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw S.url=v.guardsResult,S}const E=new Hl(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(E)}),ui(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),hf(v=>{if(v.guards.canActivateChecks.length)return(0,ot.of)(v).pipe((0,$n.b)(E=>{const S=new $d(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(S)}),hr(E=>{let S=!1;return(0,ot.of)(E).pipe(function(i,t){return(0,Mr.zg)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=e;if(!u.length)return(0,ot.of)(e);let c=0;return(0,jn.D)(u).pipe(wu(g=>function(i,t,e,o){return function(i,t,e,o){const u=Object.keys(i);if(0===u.length)return(0,ot.of)({});const c={};return(0,jn.D)(u).pipe((0,Mr.zg)(g=>function(i,t,e,o){const u=tc(i,t,o);return Er(u.resolve?u.resolve(t,e):u(t,e))}(i[g],t,e,o).pipe((0,$n.b)(v=>{c[g]=v}))),Bl(1),(0,Mr.zg)(()=>Object.keys(c).length===u.length?(0,ot.of)(c):lo.E))}(i._resolve,i,t,o).pipe((0,ft.U)(c=>(i._resolvedData=c,i.data=Object.assign(Object.assign({},i.data),vg(i,e).resolve),null)))}(g.route,o,i,t)),(0,$n.b)(()=>c++),Bl(1),(0,Mr.zg)(g=>c===u.length?(0,ot.of)(e):lo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,$n.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,$n.b)(E=>{const S=new Tu(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(S)}))}),hf(v=>{const{targetSnapshot:E,id:S,extractedUrl:M,rawUrl:k,extras:{skipLocationChange:F,replaceUrl:j}}=v;return this.hooks.afterPreactivation(E,{navigationId:S,appliedUrlTree:M,rawUrlTree:k,skipLocationChange:!!F,replaceUrl:!!j})}),(0,ft.U)(v=>{const E=function(i,t,e){const o=Ql(i,t._root,e?e._root:void 0);return new ef(o,t)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:E})}),(0,$n.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((i,t,e)=>(0,ft.U)(o=>(new na(t,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,$n.b)({next(){c=!0},complete(){c=!0}}),eh(()=>{if(!c&&!g){const v=`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(u),this.cancelNavigationTransition(u,v)):this.cancelNavigationTransition(u,v)}this.currentNavigation=null}),Ro(v=>{if(g=!0,function(i){return i&&i[zl]}(v)){const E=Ou(v.url);E||(this.navigated=!0,this.restoreHistory(u,!0));const S=new Du(u.id,this.serializeUrl(u.extractedUrl),v.message);o.next(S),E?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree);this.scheduleNavigation(M,"imperative",null,{skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const E=new Na(u.id,this.serializeUrl(u.extractedUrl),v);o.next(E);try{u.resolve(this.errorHandler(v))}catch(S){u.reject(S)}}return lo.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:u,state:c,urlTree:g}=o,v={replaceUrl:!0};if(c){const E=Object.assign({},c);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(v.state=E)}this.scheduleNavigation(g,u,c,v)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(e){var o;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,o){if(!e)return!0;const u=o.urlTree.toString()===e.urlTree.toString();return o.transitionId!==e.transitionId||!u||!("hashchange"===o.source&&"popstate"===e.source||"popstate"===o.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Ga(e),this.config=e.map(Vi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:u,queryParams:c,fragment:g,queryParamsHandling:v,preserveFragment:E}=o,S=u||this.routerState.root,M=E?this.currentUrlTree.fragment:g;let k=null;switch(v){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=c||null}return null!==k&&(k=this.removeEmptyProps(k)),function(i,t,e,o,u){if(0===e.length)return Cg(t.root,t.root,t,o,u);const c=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new Zl(!0,0,i);let t=0,e=!1;const o=i.reduce((u,c,g)=>{if("object"==typeof c&&null!=c){if(c.outlets){const v={};return dr(c.outlets,(E,S)=>{v[S]="string"==typeof E?E.split("/"):E}),[...u,{outlets:v}]}if(c.segmentPath)return[...u,c.segmentPath]}return"string"!=typeof c?[...u,c]:0===g?(c.split("/").forEach((v,E)=>{0==E&&"."===v||(0==E&&""===v?e=!0:".."===v?t++:""!=v&&u.push(v))}),u):[...u,c]},[]);return new Zl(e,t,o)}(e);if(c.toRoot())return Cg(t.root,new zt([],{}),t,o,u);const g=function(i,t,e){if(i.isAbsolute)return new _h(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new _h(c,c===t.root,0)}const o=ea(i.commands[0])?0:1;return function(i,t,e){let o=i,u=t,c=e;for(;c>u;){if(c-=u,o=o.parent,!o)throw new Error("Invalid number of '../'");u=o.segments.length}return new _h(o,!1,u-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(c,t,i),v=g.processChildren?ta(g.segmentGroup,g.index,c.commands):Kr(g.segmentGroup,g.index,c.commands);return Cg(g.segmentGroup,v,t,o,u)}(S,this.currentUrlTree,e,k,null!=M?M:null)}navigateByUrl(e,o={skipLocationChange:!1}){const u=Ou(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(i){for(let t=0;t<i.length;t++){const e=i[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,e)}return o}isActive(e,o){let u;if(u=!0===o?Object.assign({},L):!1===o?Object.assign({},B):o,Ou(e))return ds(this.currentUrlTree,e,u);const c=this.parseUrl(e);return ds(this.currentUrlTree,c,u)}removeEmptyProps(e){return Object.keys(e).reduce((o,u)=>{const c=e[u];return null!=c&&(o[u]=c),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Pa(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,o,u,c,g){var v,E;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),M="imperative"!==o&&"imperative"===(null==S?void 0:S.source),j=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===e.toString();if(M&&j)return Promise.resolve(!0);let q,ee,ye;g?(q=g.resolve,ee=g.reject,ye=g.promise):ye=new Promise((je,tt)=>{q=je,ee=tt});const Se=++this.navigationId;let Ne;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),Ne=u&&u.\u0275routerPageId?u.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):Ne=0,this.setTransition({id:Se,targetPageId:Ne,source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:q,reject:ee,promise:ye,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ye.catch(je=>Promise.reject(je))}setBrowserUrl(e,o){const u=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl?this.location.replaceState(u,"",c):this.location.go(u,"",c)}restoreHistory(e,o=!1){var u,c;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===g?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===g&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const u=new Du(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(u),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(p.DyG),p.LFG(Zd),p.LFG(d),p.LFG(ut),p.LFG(p.zs3),p.LFG(p.v3s),p.LFG(p.Sil),p.LFG(void 0))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),bt=(()=>{class i{constructor(e,o,u,c,g){this.parentContexts=e,this.location=o,this.resolver=u,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.name=c||Rt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const g=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,E=new pt(e,v,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(d),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},i.\u0275dir=p.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class pt{constructor(t,e,o){this.route=t,this.childContexts=e,this.parent=o}get(t,e){return t===Iu?this.route:t===d?this.childContexts:this.parent.get(t,e)}}class kt{}class Xi{preload(t,e){return(0,ot.of)(null)}}let $a=(()=>{class i{constructor(e,o,u,c,g){this.router=e,this.injector=c,this.preloadingStrategy=g,this.loader=new Ah(o,u,S=>e.triggerEvent(new dg(S)),S=>e.triggerEvent(new Wd(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(ui(e=>e instanceof Pa),wu(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(p.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const u=[];for(const c of o)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const g=c._loadedConfig;u.push(this.processRoutes(g.module,g.routes))}else c.loadChildren&&!c.canLoad?u.push(this.preloadConfig(e,c)):c.children&&u.push(this.processRoutes(e,c.children));return(0,jn.D)(u).pipe((0,ls.J)(),(0,ft.U)(c=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,ot.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,Mr.zg)(c=>(o._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(p.LFG($),p.LFG(p.v3s),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(kt))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),Lu=(()=>{class i{constructor(e,o,u={}){this.router=e,this.viewportScroller=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof jl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Pa&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof qs&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new qs(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(p.LFG($),p.LFG(wn),p.LFG(void 0))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const mo=new p.OlP("ROUTER_CONFIGURATION"),ME=new p.OlP("ROUTER_FORROOT_GUARD"),nI=[ut,{provide:Zd,useClass:Zs},{provide:$,useFactory:function(i,t,e,o,u,c,g,v={},E,S){const M=new $(null,i,t,e,o,u,c,Kd(g));return E&&(M.urlHandlingStrategy=E),S&&(M.routeReuseStrategy=S),function(i,t){i.errorHandler&&(t.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(t.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(t.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(t.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(t.urlUpdateStrategy=i.urlUpdateStrategy)}(v,M),v.enableTracing&&M.events.subscribe(k=>{var F,j;null===(F=console.group)||void 0===F||F.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===(j=console.groupEnd)||void 0===j||j.call(console)}),M},deps:[Zd,d,ut,p.zs3,p.v3s,p.Sil,Sh,mo,[class{},new p.FiY],[class{},new p.FiY]]},d,{provide:Iu,useFactory:function(i){return i.routerState.root},deps:[$]},{provide:p.v3s,useClass:p.EAV},$a,Xi,class{preload(t,e){return e().pipe(Ro(()=>(0,ot.of)(null)))}},{provide:mo,useValue:{enableTracing:!1}}];function rI(){return new p.PXZ("Router",$)}let _v=(()=>{class i{constructor(e,o){}static forRoot(e,o){return{ngModule:i,providers:[nI,bv(e),{provide:ME,useFactory:fP,deps:[[$,new p.FiY,new p.tp0]]},{provide:mo,useValue:o||{}},{provide:$e,useFactory:OE,deps:[he,[new p.tBr(He),new p.FiY],mo]},{provide:Lu,useFactory:vv,deps:[$,wn,mo]},{provide:kt,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Xi},{provide:p.PXZ,multi:!0,useFactory:rI},[Cv,{provide:p.ip1,multi:!0,useFactory:ys,deps:[Cv]},{provide:Ev,useFactory:sI,deps:[Cv]},{provide:p.tb,multi:!0,useExisting:Ev}]]}}static forChild(e){return{ngModule:i,providers:[bv(e)]}}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(ME,8),p.LFG($,8))},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({}),i})();function vv(i,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Lu(i,t,e)}function OE(i,t,e={}){return e.useHash?new xn(i,t):new $t(i,t)}function fP(i){return"guarded"}function bv(i){return[{provide:p.deG,multi:!0,useValue:i},{provide:Sh,multi:!0,useValue:i}]}let Cv=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Vt.xQ}appInitializer(){return this.injector.get(W,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const u=new Promise(v=>o=v),c=this.injector.get($),g=this.injector.get(mo);return"disabled"===g.initialNavigation?(c.setUpLocationChangeListener(),o(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,ot.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),c.initialNavigation()):o(!0),u})}bootstrapListener(e){const o=this.injector.get(mo),u=this.injector.get($a),c=this.injector.get(Lu),g=this.injector.get($),v=this.injector.get(p.z2F);e===v.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&g.initialNavigation(),u.setUpPreloading(),c.init(),g.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(p.zs3))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();function ys(i){return i.appInitializer.bind(i)}function sI(i){return i.bootstrapListener.bind(i)}const Ev=new p.OlP("Router Initializer"),uI=[];let lI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[_v.forRoot(uI)],_v]}),i})();function pr(i){return null!=i&&"false"!=`${i}`}function Vu(i,t=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}function kE(i){return Array.isArray(i)?i:[i]}function st(i){return null==i?"":"string"==typeof i?i:`${i}px`}function ua(i){return i instanceof p.SBq?i.nativeElement:i}var Bg=Y(9105);function Mh(i,t,e,o){return(0,Bg.m)(e)&&(o=e,e=void 0),o?Mh(i,t,e).pipe((0,ft.U)(u=>(0,Ll.k)(u)?o(...u):o(u))):new Hn.y(u=>{PE(i,t,function(g){u.next(arguments.length>1?Array.prototype.slice.call(arguments):g)},u,e)})}function PE(i,t,e,o,u){let c;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const g=i;i.addEventListener(t,e,u),c=()=>g.removeEventListener(t,e,u)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const g=i;i.on(t,e),c=()=>g.off(t,e)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const g=i;i.addListener(t,e),c=()=>g.removeListener(t,e)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let g=0,v=i.length;g<v;g++)PE(i[g],t,e,o,u)}o.add(c)}var NE=Y(6465),gP=Y(6102);new class extends gP.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let o,u=-1,c=e.length;t=t||e.shift();do{if(o=t.execute(t.state,t.delay))break}while(++u<c&&(t=e.shift()));if(this.active=!1,o){for(;++u<c&&(t=e.shift());)t.unsubscribe();throw o}}}(class extends NE.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,o=0){return null!==o&&o>0?super.requestAsyncId(t,e,o):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,o=0){if(null!==o&&o>0||null===o&&this.delay>0)return super.recycleAsyncId(t,e,o);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});Y(4581);function xh(i,t){return e=>e.lift(new yP(i,t))}class yP{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new dI(t,this.compare,this.keySelector))}}class dI extends Yr.L{constructor(t,e,o){super(t),this.keySelector=o,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:u}=this;e=u?u(t):t}catch(u){return this.destination.error(u)}let o=!1;if(this.hasKey)try{const{compare:u}=this;o=u(this.key,e)}catch(u){return this.destination.error(u)}else this.hasKey=!0;o||(this.key=e,this.destination.next(t))}}var Oh=Y(3637);class fI{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new vP(t,this.durationSelector))}}class vP extends Pi.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:u}=this;e=u(t)}catch(u){return this.destination.error(u)}const o=(0,Pi.ft)(e,new Pi.IY(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}}clearThrottle(){const{value:t,hasValue:e,throttled:o}=this;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Sv=Y(6561);function pI(i){const{index:t,period:e,subscriber:o}=i;if(o.next(t),!o.closed){if(-1===e)return o.complete();i.index=t+1,this.schedule(i,e)}}function Rh(i,t=Oh.P){return function(i){return function(e){return e.lift(new fI(i))}}(()=>function(i=0,t,e){let o=-1;return(0,Sv.k)(t)?o=Number(t)<1?1:Number(t):(0,Fl.K)(t)&&(e=t),(0,Fl.K)(e)||(e=Oh.P),new Hn.y(u=>{const c=(0,Sv.k)(i)?i:+i-e.now();return e.schedule(pI,c,{index:0,period:o,subscriber:u})})}(i,t))}function Uu(i){return t=>t.lift(new bP(i))}class bP{constructor(t){this.notifier=t}call(t,e){const o=new CP(t),u=(0,Pi.ft)(this.notifier,new Pi.IY(o));return u&&!o.seenValue?(o.add(u),e.subscribe(o)):o}}class CP extends Pi.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Av(){return i=>i.lift(new EP)}class EP{call(t,e){return e.subscribe(new wP(t))}}class wP extends Yr.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}Y(7771);var rc=Y(6136);let Mv;Y(8858);try{Mv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){Mv=!1}let oc,Gn=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Cl(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Mv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(p.Lbi))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(p.Lbi))},token:i,providedIn:"root"}),i})(),ic=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({}),i})();const jg=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function VE(){if(oc)return oc;if("object"!=typeof document||!document)return oc=new Set(jg),oc;let i=document.createElement("input");return oc=new Set(jg.filter(t=>(i.setAttribute("type",t),i.type===t))),oc}let Bo,Ya,Ov;function Hg(i){return function(){if(null==Bo&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Bo=!0}))}finally{Bo=Bo||!1}return Bo}()?i:!!i.capture}function UE(){if(null==Ya){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ya=!1,Ya;if("scrollBehavior"in document.documentElement.style)Ya=!0;else{const i=Element.prototype.scrollTo;Ya=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return Ya}function Ka(){let i="undefined"!=typeof document&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function ju(i){return i.composedPath?i.composedPath()[0]:i.target}const sc=new p.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,p.f3M)(pe)}});let yo=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new p.vpe,e){const u=e.documentElement?e.documentElement.dir:null,c=(e.body?e.body.dir:null)||u;this.value="ltr"===c||"rtl"===c?c:"ltr"}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(sc,8))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(sc,8))},token:i,providedIn:"root"}),i})(),Ph=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({}),i})(),zg=(()=>{class i{constructor(e,o,u){this._ngZone=e,this._platform=o,this._scrolled=new Vt.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=u}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const o=this.scrollContainers.get(e);o&&(o.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Hn.y(o=>{this._globalSubscription||this._addGlobalListener();const u=e>0?this._scrolled.pipe(Rh(e)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{u.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ot.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(e,o){const u=this.getAncestorScrollContainers(e);return this.scrolled(o).pipe(ui(c=>!c||u.indexOf(c)>-1))}getAncestorScrollContainers(e){const o=[];return this.scrollContainers.forEach((u,c)=>{this._scrollableContainsElement(c,e)&&o.push(c)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,o){let u=ua(o),c=e.getElementRef().nativeElement;do{if(u==c)return!0}while(u=u.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Mh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(p.R0b),p.LFG(Gn),p.LFG(pe,8))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(p.R0b),p.LFG(Gn),p.LFG(pe,8))},token:i,providedIn:"root"}),i})(),Nh=(()=>{class i{constructor(e,o,u){this._platform=e,this._change=new Vt.xQ,this._changeListener=c=>{this._change.next(c)},this._document=u,o.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:o,height:u}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+u,right:e.left+o,height:u,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,o=this._getWindow(),u=e.documentElement,c=u.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||o.scrollY||u.scrollTop||0,left:-c.left||e.body.scrollLeft||o.scrollX||u.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Rh(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Gn),p.LFG(p.R0b),p.LFG(pe,8))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(Gn),p.LFG(p.R0b),p.LFG(pe,8))},token:i,providedIn:"root"}),i})(),GE=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({}),i})(),zE=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[Ph,ic,GE],Ph,GE]}),i})();class qg{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Vv extends qg{constructor(t,e,o,u){super(),this.component=t,this.viewContainerRef=e,this.injector=o,this.componentFactoryResolver=u}}class _o extends qg{constructor(t,e,o){super(),this.templateRef=t,this.viewContainerRef=e,this.context=o}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Bv extends qg{constructor(t){super(),this.element=t instanceof p.SBq?t.nativeElement:t}}class Uv{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Vv?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof _o?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Bv?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class LP extends Uv{constructor(t,e,o,u,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=o,this._defaultInjector=u,this.attachDomPortal=g=>{const v=g.element,E=this._document.createComment("dom-portal");v.parentNode.insertBefore(E,v),this.outletElement.appendChild(v),this._attachedPortal=g,super.setDisposeFn(()=>{E.parentNode&&E.parentNode.replaceChild(v,E)})},this._document=c}attachComponentPortal(t){const o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let u;return t.viewContainerRef?(u=t.viewContainerRef.createComponent(o,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>u.destroy())):(u=o.create(t.injector||this._defaultInjector),this._appRef.attachView(u.hostView),this.setDisposeFn(()=>{this._appRef.detachView(u.hostView),u.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(u)),this._attachedPortal=t,u}attachTemplatePortal(t){let e=t.viewContainerRef,o=e.createEmbeddedView(t.templateRef,t.context);return o.rootNodes.forEach(u=>this.outletElement.appendChild(u)),o.detectChanges(),this.setDisposeFn(()=>{let u=e.indexOf(o);-1!==u&&e.remove(u)}),this._attachedPortal=t,o}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let $g=(()=>{class i extends Uv{constructor(e,o,u){super(),this._componentFactoryResolver=e,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new p.vpe,this.attachDomPortal=c=>{const g=c.element,v=this._document.createComment("dom-portal");c.setAttachedHost(this),g.parentNode.insertBefore(v,g),this._getRootNode().appendChild(g),this._attachedPortal=c,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(g,v)})},this._document=u}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const o=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),g=o.createComponent(c,o.length,e.injector||o.injector);return o!==this._viewContainerRef&&this._getRootNode().appendChild(g.hostView.rootNodes[0]),super.setDisposeFn(()=>g.destroy()),this._attachedPortal=e,this._attachedRef=g,this.attached.emit(g),g}attachTemplatePortal(e){e.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p._Vd),p.Y36(p.s_b),p.Y36(pe))},i.\u0275dir=p.lG2({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[p.qOj]}),i})(),WE=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({}),i})();var Hu=Y(6682);const ac=UE();class Vh{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=st(-this._previousScrollPosition.left),t.style.top=st(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,o=t.style,u=this._document.body.style,c=o.scrollBehavior||"",g=u.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ac&&(o.scrollBehavior=u.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ac&&(o.scrollBehavior=c,u.scrollBehavior=g)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,o=this._viewportRuler.getViewportSize();return e.scrollHeight>o.height||e.scrollWidth>o.width}}class uw{constructor(t,e,o,u){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=o,this._config=u,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Yv{enable(){}disable(){}attach(){}}function Jg(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function Kv(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class lw{constructor(t,e,o,u){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=o,this._config=u,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:u}=this._viewportRuler.getViewportSize();Jg(e,[{width:o,height:u,bottom:u,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let cw=(()=>{class i{constructor(e,o,u,c){this._scrollDispatcher=e,this._viewportRuler=o,this._ngZone=u,this.noop=()=>new Yv,this.close=g=>new uw(this._scrollDispatcher,this._ngZone,this._viewportRuler,g),this.block=()=>new Vh(this._viewportRuler,this._document),this.reposition=g=>new lw(this._scrollDispatcher,this._viewportRuler,this._ngZone,g),this._document=c}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(zg),p.LFG(Nh),p.LFG(p.R0b),p.LFG(pe))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(zg),p.LFG(Nh),p.LFG(p.R0b),p.LFG(pe))},token:i,providedIn:"root"}),i})();class Xg{constructor(t){if(this.scrollStrategy=new Yv,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const o of e)void 0!==t[o]&&(this[o]=t[o])}}}class hw{constructor(t,e,o,u,c){this.offsetX=o,this.offsetY=u,this.panelClass=c,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class iM{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Qv=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const o=this._attachedOverlays.indexOf(e);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(pe))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(pe))},token:i,providedIn:"root"}),i})(),dw=(()=>{class i extends Qv{constructor(e){super(e),this._keydownListener=o=>{const u=this._attachedOverlays;for(let c=u.length-1;c>-1;c--)if(u[c]._keydownEvents.observers.length>0){u[c]._keydownEvents.next(o);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(pe))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(pe))},token:i,providedIn:"root"}),i})(),sM=(()=>{class i extends Qv{constructor(e,o){super(e),this._platform=o,this._cursorStyleIsSet=!1,this._clickListener=u=>{const c=ju(u),g=this._attachedOverlays.slice();for(let v=g.length-1;v>-1;v--){const E=g[v];if(!(E._outsidePointerEvents.observers.length<1)&&E.hasAttached()){if(E.overlayElement.contains(c))break;E._outsidePointerEvents.next(u)}}}}add(e){if(super.add(e),!this._isAttached){const o=this._document.body;o.addEventListener("click",this._clickListener,!0),o.addEventListener("auxclick",this._clickListener,!0),o.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(pe),p.LFG(Gn))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(pe),p.LFG(Gn))},token:i,providedIn:"root"}),i})();const uc="undefined"!=typeof window?window:{},fw=void 0!==uc.__karma__&&!!uc.__karma__||void 0!==uc.jasmine&&!!uc.jasmine||void 0!==uc.jest&&!!uc.jest||void 0!==uc.Mocha&&!!uc.Mocha;let Bh=(()=>{class i{constructor(e,o){this._platform=o,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||fw){const u=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<u.length;c++)u[c].parentNode.removeChild(u[c])}const o=this._document.createElement("div");o.classList.add(e),fw?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(pe),p.LFG(Gn))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(pe),p.LFG(Gn))},token:i,providedIn:"root"}),i})();class aM{constructor(t,e,o,u,c,g,v,E,S){this._portalOutlet=t,this._host=e,this._pane=o,this._config=u,this._ngZone=c,this._keyboardDispatcher=g,this._document=v,this._location=E,this._outsideClickDispatcher=S,this._backdropElement=null,this._backdropClick=new Vt.xQ,this._attachments=new Vt.xQ,this._detachments=new Vt.xQ,this._locationChanges=ko.w.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._keydownEvents=new Vt.xQ,this._outsidePointerEvents=new Vt.xQ,u.scrollStrategy&&(this._scrollStrategy=u.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=u.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ni(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=st(this._config.width),t.height=st(this._config.height),t.minWidth=st(this._config.minWidth),t.minHeight=st(this._config.minHeight),t.maxWidth=st(this._config.maxWidth),t.maxHeight=st(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(!t)return;let e,o=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",o),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",o)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(o,500))}_toggleClasses(t,e,o){const u=t.classList;kE(e).forEach(c=>{c&&(o?u.add(c):u.remove(c))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Uu((0,Hu.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Zv="cdk-overlay-connected-position-bounding-box",uM=/([A-Za-z%]+)$/;class pw{constructor(t,e,o,u,c){this._viewportRuler=e,this._document=o,this._platform=u,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Vt.xQ,this._resizeSubscription=ko.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Zv),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,o=this._viewportRect,u=[];let c;for(let g of this._preferredPositions){let v=this._getOriginPoint(t,g),E=this._getOverlayPoint(v,e,g),S=this._getOverlayFit(E,e,o,g);if(S.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(g,v);this._canFitWithFlexibleDimensions(S,E,o)?u.push({position:g,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,g)}):(!c||c.overlayFit.visibleArea<S.visibleArea)&&(c={overlayFit:S,overlayPoint:E,originPoint:v,position:g,overlayRect:e})}if(u.length){let g=null,v=-1;for(const E of u){const S=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);S>v&&(v=S,g=E)}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Uh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Zv),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let o,u;if("center"==e.originX)o=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,g=this._isRtl()?t.left:t.right;o="start"==e.originX?c:g}return u="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:o,y:u}}_getOverlayPoint(t,e,o){let u,c;return u="center"==o.overlayX?-e.width/2:"start"===o.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==o.overlayY?-e.height/2:"top"==o.overlayY?0:-e.height,{x:t.x+u,y:t.y+c}}_getOverlayFit(t,e,o,u){const c=Jv(e);let{x:g,y:v}=t,E=this._getOffset(u,"x"),S=this._getOffset(u,"y");E&&(g+=E),S&&(v+=S);let F=0-v,j=v+c.height-o.height,q=this._subtractOverflows(c.width,0-g,g+c.width-o.width),ee=this._subtractOverflows(c.height,F,j),ye=q*ee;return{visibleArea:ye,isCompletelyWithinViewport:c.width*c.height===ye,fitsInViewportVertically:ee===c.height,fitsInViewportHorizontally:q==c.width}}_canFitWithFlexibleDimensions(t,e,o){if(this._hasFlexibleDimensions){const u=o.bottom-e.y,c=o.right-e.x,g=gw(this._overlayRef.getConfig().minHeight),v=gw(this._overlayRef.getConfig().minWidth),S=t.fitsInViewportHorizontally||null!=v&&v<=c;return(t.fitsInViewportVertically||null!=g&&g<=u)&&S}return!1}_pushOverlayOnScreen(t,e,o){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const u=Jv(e),c=this._viewportRect,g=Math.max(t.x+u.width-c.width,0),v=Math.max(t.y+u.height-c.height,0),E=Math.max(c.top-o.top-t.y,0),S=Math.max(c.left-o.left-t.x,0);let M=0,k=0;return M=u.width<=c.width?S||-g:t.x<this._viewportMargin?c.left-o.left-t.x:0,k=u.height<=c.height?E||-v:t.y<this._viewportMargin?c.top-o.top-t.y:0,this._previousPushAmount={x:M,y:k},{x:t.x+M,y:t.y+k}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const o=this._getScrollVisibility(),u=new iM(t,o);this._positionChanges.next(u)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,u=t.overlayY;o="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${o} ${u}`}_calculateBoundingBoxRect(t,e){const o=this._viewportRect,u=this._isRtl();let c,g,v,M,k,F;if("top"===e.overlayY)g=t.y,c=o.height-g+this._viewportMargin;else if("bottom"===e.overlayY)v=o.height-t.y+2*this._viewportMargin,c=o.height-v+this._viewportMargin;else{const j=Math.min(o.bottom-t.y+o.top,t.y),q=this._lastBoundingBoxSize.height;c=2*j,g=t.y-j,c>q&&!this._isInitialRender&&!this._growAfterOpen&&(g=t.y-q/2)}if("end"===e.overlayX&&!u||"start"===e.overlayX&&u)F=o.width-t.x+this._viewportMargin,M=t.x-this._viewportMargin;else if("start"===e.overlayX&&!u||"end"===e.overlayX&&u)k=t.x,M=o.right-t.x;else{const j=Math.min(o.right-t.x+o.left,t.x),q=this._lastBoundingBoxSize.width;M=2*j,k=t.x-j,M>q&&!this._isInitialRender&&!this._growAfterOpen&&(k=t.x-q/2)}return{top:g,left:k,bottom:v,right:F,width:M,height:c}}_setBoundingBoxStyles(t,e){const o=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const u={};if(this._hasExactPosition())u.top=u.left="0",u.bottom=u.right=u.maxHeight=u.maxWidth="",u.width=u.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,g=this._overlayRef.getConfig().maxWidth;u.height=st(o.height),u.top=st(o.top),u.bottom=st(o.bottom),u.width=st(o.width),u.left=st(o.left),u.right=st(o.right),u.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",u.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(u.maxHeight=st(c)),g&&(u.maxWidth=st(g))}this._lastBoundingBoxSize=o,Uh(this._boundingBox.style,u)}_resetBoundingBoxStyles(){Uh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Uh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const o={},u=this._hasExactPosition(),c=this._hasFlexibleDimensions,g=this._overlayRef.getConfig();if(u){const M=this._viewportRuler.getViewportScrollPosition();Uh(o,this._getExactOverlayY(e,t,M)),Uh(o,this._getExactOverlayX(e,t,M))}else o.position="static";let v="",E=this._getOffset(e,"x"),S=this._getOffset(e,"y");E&&(v+=`translateX(${E}px) `),S&&(v+=`translateY(${S}px)`),o.transform=v.trim(),g.maxHeight&&(u?o.maxHeight=st(g.maxHeight):c&&(o.maxHeight="")),g.maxWidth&&(u?o.maxWidth=st(g.maxWidth):c&&(o.maxWidth="")),Uh(this._pane.style,o)}_getExactOverlayY(t,e,o){let u={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,o));let g=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return c.y-=g,"bottom"===t.overlayY?u.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":u.top=st(c.y),u}_getExactOverlayX(t,e,o){let g,u={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,o)),g=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===g?u.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":u.left=st(c.x),u}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),o=this._scrollables.map(u=>u.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Kv(t,o),isOriginOutsideView:Jg(t,o),isOverlayClipped:Kv(e,o),isOverlayOutsideView:Jg(e,o)}}_subtractOverflows(t,...e){return e.reduce((o,u)=>o-Math.max(u,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+t-this._viewportMargin,bottom:o.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&kE(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof p.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,o=t.height||0;return{top:t.y,bottom:t.y+o,left:t.x,right:t.x+e,height:o,width:e}}}function Uh(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function gw(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(uM);return e&&"px"!==e?null:parseFloat(t)}return i||null}function Jv(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}class D1{constructor(t,e,o,u,c,g,v){this._preferredPositions=[],this._positionStrategy=new pw(o,u,c,g,v).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,o,u){const c=new hw(t,e,o,u);return this._preferredPositions.push(c),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const lM="cdk-global-overlay-wrapper";class T1{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(lM),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:u,height:c,maxWidth:g,maxHeight:v}=o,E=!("100%"!==u&&"100vw"!==u||g&&"100%"!==g&&"100vw"!==g),S=!("100%"!==c&&"100vh"!==c||v&&"100%"!==v&&"100vh"!==v);t.position=this._cssPosition,t.marginLeft=E?"0":this._leftOffset,t.marginTop=S?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,E?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=S?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,o=e.style;e.classList.remove(lM),o.justifyContent=o.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let cM=(()=>{class i{constructor(e,o,u,c){this._viewportRuler=e,this._document=o,this._platform=u,this._overlayContainer=c}global(){return new T1}connectedTo(e,o,u){return new D1(o,u,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new pw(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Nh),p.LFG(pe),p.LFG(Gn),p.LFG(Bh))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(Nh),p.LFG(pe),p.LFG(Gn),p.LFG(Bh))},token:i,providedIn:"root"}),i})(),S1=0,jh=(()=>{class i{constructor(e,o,u,c,g,v,E,S,M,k,F){this.scrollStrategies=e,this._overlayContainer=o,this._componentFactoryResolver=u,this._positionBuilder=c,this._keyboardDispatcher=g,this._injector=v,this._ngZone=E,this._document=S,this._directionality=M,this._location=k,this._outsideClickDispatcher=F}create(e){const o=this._createHostElement(),u=this._createPaneElement(o),c=this._createPortalOutlet(u),g=new Xg(e);return g.direction=g.direction||this._directionality.value,new aM(c,o,u,g,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const o=this._document.createElement("div");return o.id="cdk-overlay-"+S1++,o.classList.add("cdk-overlay-pane"),e.appendChild(o),o}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(p.z2F)),new LP(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(cw),p.LFG(Bh),p.LFG(p._Vd),p.LFG(cM),p.LFG(dw),p.LFG(p.zs3),p.LFG(p.R0b),p.LFG(pe),p.LFG(yo),p.LFG(ut),p.LFG(sM))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const M1={provide:new p.OlP("cdk-connected-overlay-scroll-strategy"),deps:[jh],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let x1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[jh,M1],imports:[[Ph,WE,zE],zE]}),i})();class R1{constructor(t){this.total=t}call(t,e){return e.subscribe(new dM(t,this.total))}}class dM extends Yr.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}class fM{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new _w(t,this.dueTime,this.scheduler))}}class _w extends Yr.L{constructor(t,e,o){super(t),this.dueTime=e,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(pM,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function pM(i){i.debouncedNext()}let tm=(()=>{class i{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})(),Df=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,o)=>this._cleanupObserver(o))}observe(e){const o=ua(e);return new Hn.y(u=>{const g=this._observeElement(o).subscribe(u);return()=>{g.unsubscribe(),this._unobserveElement(o)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const o=new Vt.xQ,u=this._mutationObserverFactory.create(c=>o.next(c));u&&u.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:u,stream:o,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:o,stream:u}=this._observedElements.get(e);o&&o.disconnect(),u.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(tm))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(tm))},token:i,providedIn:"root"}),i})(),vw=(()=>{class i{constructor(e,o,u){this._contentObserver=e,this._elementRef=o,this._ngZone=u,this.event=new p.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=pr(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Vu(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(function(i,t=Oh.P){return e=>e.lift(new fM(i,t))}(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(Df),p.Y36(p.SBq),p.Y36(p.R0b))},i.\u0275dir=p.lG2({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),nm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[tm]}),i})(),im=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const o=function(i){try{return i.frameElement}catch(t){return null}}(function(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(o&&(-1===Iw(o)||!this.isVisible(o)))return!1;let u=e.nodeName.toLowerCase(),c=Iw(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===u||"object"===u||this._platform.WEBKIT&&this._platform.IOS&&!function(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===u?!!e.hasAttribute("controls")&&-1!==c:"video"===u?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,o){return function(i){return!function(i){return function(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function(i){return function(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||om(i))}(e)&&!this.isDisabled(e)&&((null==o?void 0:o.ignoreVisibility)||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Gn))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(Gn))},token:i,providedIn:"root"}),i})();function om(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function Iw(i){if(!om(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class rb{constructor(t,e,o,u,c=!1){this._element=t,this._checker=e,this._ngZone=o,this._document=u,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let o=0;o<e.length;o++)e[o].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[o]):e[o].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[o]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const o=this._getFirstTabbableElement(e);return null==o||o.focus(t),!!o}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let o=0;o<e.length;o++){let u=e[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[o]):null;if(u)return u}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let o=e.length-1;o>=0;o--){let u=e[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[o]):null;if(u)return u}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ni(1)).subscribe(t)}}let sm=(()=>{class i{constructor(e,o,u){this._checker=e,this._ngZone=o,this._document=u}create(e,o=!1){return new rb(e,this._checker,this._ngZone,this._document,o)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(im),p.LFG(p.R0b),p.LFG(pe))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(im),p.LFG(p.R0b),p.LFG(pe))},token:i,providedIn:"root"}),i})();function am(i){return 0===i.offsetX&&0===i.offsetY}function ob(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const sb=new p.OlP("cdk-input-modality-detector-options"),Pw={ignoreKeys:[18,17,224,91,16]},lc=Hg({passive:!0,capture:!0});let ub=(()=>{class i{constructor(e,o,u,c){this._platform=e,this._mostRecentTarget=null,this._modality=new ki(null),this._lastTouchMs=0,this._onKeydown=g=>{var v,E;(null===(E=null===(v=this._options)||void 0===v?void 0:v.ignoreKeys)||void 0===E?void 0:E.some(S=>S===g.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=ju(g))},this._onMousedown=g=>{Date.now()-this._lastTouchMs<650||(this._modality.next(am(g)?"keyboard":"mouse"),this._mostRecentTarget=ju(g))},this._onTouchstart=g=>{ob(g)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ju(g))},this._options=Object.assign(Object.assign({},Pw),c),this.modalityDetected=this._modality.pipe(t=>t.lift(new R1(1))),this.modalityChanged=this.modalityDetected.pipe(xh()),e.isBrowser&&o.runOutsideAngular(()=>{u.addEventListener("keydown",this._onKeydown,lc),u.addEventListener("mousedown",this._onMousedown,lc),u.addEventListener("touchstart",this._onTouchstart,lc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,lc),document.removeEventListener("mousedown",this._onMousedown,lc),document.removeEventListener("touchstart",this._onTouchstart,lc))}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Gn),p.LFG(p.R0b),p.LFG(pe),p.LFG(sb,8))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(Gn),p.LFG(p.R0b),p.LFG(pe),p.LFG(sb,8))},token:i,providedIn:"root"}),i})();const cb=new p.OlP("cdk-focus-monitor-default-options"),um=Hg({passive:!0,capture:!0});let er=(()=>{class i{constructor(e,o,u,c,g){this._ngZone=e,this._platform=o,this._inputModalityDetector=u,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Vt.xQ,this._rootNodeFocusAndBlurListener=v=>{const E=ju(v),S="focus"===v.type?this._onFocus:this._onBlur;for(let M=E;M;M=M.parentElement)S.call(this,v,M)},this._document=c,this._detectionMode=(null==g?void 0:g.detectionMode)||0}monitor(e,o=!1){const u=ua(e);if(!this._platform.isBrowser||1!==u.nodeType)return(0,ot.of)(null);const c=function(i){if(function(){if(null==Ov){const i="undefined"!=typeof document?document.head:null;Ov=!(!i||!i.createShadowRoot&&!i.attachShadow)}return Ov}()){const t=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(u)||this._getDocument(),g=this._elementInfo.get(u);if(g)return o&&(g.checkChildren=!0),g.subject;const v={checkChildren:o,subject:new Vt.xQ,rootNode:c};return this._elementInfo.set(u,v),this._registerGlobalListeners(v),v.subject}stopMonitoring(e){const o=ua(e),u=this._elementInfo.get(o);u&&(u.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(u))}focusVia(e,o,u){const c=ua(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([v,E])=>this._originChanged(v,o,E)):(this._setOrigin(o),"function"==typeof c.focus&&c.focus(u))}ngOnDestroy(){this._elementInfo.forEach((e,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,o,u){u?e.classList.add(o):e.classList.remove(o)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,o){this._toggleClass(e,"cdk-focused",!!o),this._toggleClass(e,"cdk-touch-focused","touch"===o),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===o),this._toggleClass(e,"cdk-mouse-focused","mouse"===o),this._toggleClass(e,"cdk-program-focused","program"===o)}_setOrigin(e,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,o){const u=this._elementInfo.get(o),c=ju(e);!u||!u.checkChildren&&o!==c||this._originChanged(o,this._getFocusOrigin(c),u)}_onBlur(e,o){const u=this._elementInfo.get(o);!u||u.checkChildren&&e.relatedTarget instanceof Node&&o.contains(e.relatedTarget)||(this._setClasses(o),this._emitOrigin(u.subject,null))}_emitOrigin(e,o){this._ngZone.run(()=>e.next(o))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const o=e.rootNode,u=this._rootNodeFocusListenerCount.get(o)||0;u||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,um),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,um)}),this._rootNodeFocusListenerCount.set(o,u+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Uu(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const o=e.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const u=this._rootNodeFocusListenerCount.get(o);u>1?this._rootNodeFocusListenerCount.set(o,u-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,um),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,um),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,o,u){this._setClasses(e,o),this._emitOrigin(u.subject,o),this._lastFocusOrigin=o}_getClosestElementsInfo(e){const o=[];return this._elementInfo.forEach((u,c)=>{(c===e||u.checkChildren&&c.contains(e))&&o.push([c,u])}),o}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(p.R0b),p.LFG(Gn),p.LFG(ub),p.LFG(pe,8),p.LFG(cb,8))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(p.R0b),p.LFG(Gn),p.LFG(ub),p.LFG(pe,8),p.LFG(cb,8))},token:i,providedIn:"root"}),i})();const Fw="cdk-high-contrast-black-on-white",Lw="cdk-high-contrast-white-on-black",lm="cdk-high-contrast-active";let Vw=(()=>{class i{constructor(e,o){this._platform=e,this._document=o}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const o=this._document.defaultView||window,u=o&&o.getComputedStyle?o.getComputedStyle(e):null,c=(u&&u.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(lm),e.remove(Fw),e.remove(Lw),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?(e.add(lm),e.add(Fw)):2===o&&(e.add(lm),e.add(Lw))}}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Gn),p.LFG(pe))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(Gn),p.LFG(pe))},token:i,providedIn:"root"}),i})();const hb=new p.GfV("12.2.0");class cc{}const Za="*";function db(i,t){return{type:7,name:i,definitions:t,options:{}}}function fb(i,t=null){return{type:4,styles:t,timings:i}}function MM(i,t=null){return{type:2,steps:i,options:t}}function fa(i){return{type:6,styles:i,offset:null}}function Tf(i,t,e){return{type:0,name:i,styles:t,options:e}}function pb(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function gb(i){Promise.resolve(null).then(i)}class Gh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class Bw{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,o=0,u=0;const c=this.players.length;0==c?gb(()=>this._onFinish()):this.players.forEach(g=>{g.onDone(()=>{++e==c&&this._onFinish()}),g.onDestroy(()=>{++o==c&&this._onDestroy()}),g.onStart(()=>{++u==c&&this._onStart()})}),this.totalTime=this.players.reduce((g,v)=>Math.max(g,v.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(o=>{const u=o.totalTime?Math.min(1,e/o.totalTime):1;o.setPosition(u)})}getPosition(){const t=this.players.reduce((e,o)=>null===e||o.totalTime>e.totalTime?o:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}function Uw(){return"undefined"!=typeof window&&void 0!==window.document}function Sf(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function jo(i){switch(i.length){case 0:return new Gh;case 1:return i[0];default:return new Bw(i)}}function jw(i,t,e,o,u={},c={}){const g=[],v=[];let E=-1,S=null;if(o.forEach(M=>{const k=M.offset,F=k==E,j=F&&S||{};Object.keys(M).forEach(q=>{let ee=q,ye=M[q];if("offset"!==q)switch(ee=t.normalizePropertyName(ee,g),ye){case"!":ye=u[q];break;case Za:ye=c[q];break;default:ye=t.normalizeStyleValue(q,ee,ye,g)}j[ee]=ye}),F||v.push(j),S=j,E=k}),g.length){const M="\n - ";throw new Error(`Unable to animate due to the following errors:${M}${g.join(M)}`)}return v}function cm(i,t,e,o){switch(t){case"start":i.onStart(()=>o(e&&yb(e,"start",i)));break;case"done":i.onDone(()=>o(e&&yb(e,"done",i)));break;case"destroy":i.onDestroy(()=>o(e&&yb(e,"destroy",i)))}}function yb(i,t,e){const o=e.totalTime,c=hm(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,null==o?i.totalTime:o,!!e.disabled),g=i._data;return null!=g&&(c._data=g),c}function hm(i,t,e,o,u="",c=0,g){return{element:i,triggerName:t,fromState:e,toState:o,phaseName:u,totalTime:c,disabled:!!g}}function eo(i,t,e){let o;return i instanceof Map?(o=i.get(t),o||i.set(t,o=e)):(o=i[t],o||(o=i[t]=e)),o}function Af(i){const t=i.indexOf(":");return[i.substring(1,t),i.substr(t+1)]}let _b=(i,t)=>!1,dm=(i,t)=>!1,If=(i,t,e)=>[];const vb=Sf();(vb||"undefined"!=typeof Element)&&(_b=Uw()?(i,t)=>{for(;t&&t!==document.documentElement;){if(t===i)return!0;t=t.parentNode||t.host}return!1}:(i,t)=>i.contains(t),dm=(()=>{if(vb||Element.prototype.matches)return(i,t)=>i.matches(t);{const i=Element.prototype,t=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return t?(e,o)=>t.apply(e,[o]):dm}})(),If=(i,t,e)=>{let o=[];if(e){const u=i.querySelectorAll(t);for(let c=0;c<u.length;c++)o.push(u[c])}else{const u=i.querySelector(t);u&&o.push(u)}return o});let $u=null,bb=!1;function fm(i){$u||($u=("undefined"!=typeof document?document.body:null)||{},bb=!!$u.style&&"WebkitAppearance"in $u.style);let t=!0;return $u.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in $u.style,!t&&bb&&(t="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in $u.style)),t}const pm=dm,Cb=_b,Eb=If;function $w(i){const t={};return Object.keys(i).forEach(e=>{const o=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[o]=i[e]}),t}let Ww=(()=>{class i{validateStyleProperty(e){return fm(e)}matchesElement(e,o){return pm(e,o)}containsElement(e,o){return Cb(e,o)}query(e,o,u){return Eb(e,o,u)}computeStyle(e,o,u){return u||""}animate(e,o,u,c,g,v=[],E){return new Gh(u,c)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();class gm{}gm.NOOP=new Ww;const wb="ng-enter",mm="ng-leave",ym="ng-trigger",_m=".ng-trigger",Kw="ng-animating",Db=".ng-animating";function hc(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Tb(parseFloat(t[1]),t[2])}function Tb(i,t){switch(t){case"s":return 1e3*i;default:return i}}function Mf(i,t,e){return i.hasOwnProperty("duration")?i:function(i,t,e){let u,c=0,g="";if("string"==typeof i){const v=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===v)return t.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};u=Tb(parseFloat(v[1]),v[2]);const E=v[3];null!=E&&(c=Tb(parseFloat(E),v[4]));const S=v[5];S&&(g=S)}else u=i;if(!e){let v=!1,E=t.length;u<0&&(t.push("Duration values below 0 are not allowed for this animation step."),v=!0),c<0&&(t.push("Delay values below 0 are not allowed for this animation step."),v=!0),v&&t.splice(E,0,`The provided timing value "${i}" is invalid.`)}return{duration:u,delay:c,easing:g}}(i,t,e)}function dc(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function eu(i,t,e={}){if(t)for(let o in i)e[o]=i[o];else dc(i,e);return e}function Ab(i,t,e){return e?t+":"+e+";":""}function Ib(i){let t="";for(let e=0;e<i.style.length;e++){const o=i.style.item(e);t+=Ab(0,o,i.style.getPropertyValue(o))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Ab(0,$1(e),i.style[e]));i.setAttribute("style",t)}function vs(i,t,e){i.style&&(Object.keys(t).forEach(o=>{const u=xf(o);e&&!e.hasOwnProperty(o)&&(e[o]=i.style[u]),i.style[u]=t[o]}),Sf()&&Ib(i))}function Wu(i,t){i.style&&(Object.keys(t).forEach(e=>{const o=xf(e);i.style[o]=""}),Sf()&&Ib(i))}function fc(i){return Array.isArray(i)?1==i.length?i[0]:MM(i):i}const tu=new RegExp("{{\\s*(.+?)\\s*}}","g");function Zw(i){let t=[];if("string"==typeof i){let e;for(;e=tu.exec(i);)t.push(e[1]);tu.lastIndex=0}return t}function vm(i,t,e){const o=i.toString(),u=o.replace(tu,(c,g)=>{let v=t[g];return t.hasOwnProperty(g)||(e.push(`Please provide a value for the animation param ${g}`),v=""),v.toString()});return u==o?i:u}function nu(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const q1=/-+([a-z0-9])/g;function xf(i){return i.replace(q1,(...t)=>t[1].toUpperCase())}function $1(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xb(i,t){return 0===i||0===t}function Ob(i,t,e){const o=Object.keys(e);if(o.length&&t.length){let c=t[0],g=[];if(o.forEach(v=>{c.hasOwnProperty(v)||g.push(v),c[v]=e[v]}),g.length)for(var u=1;u<t.length;u++){let v=t[u];g.forEach(function(E){v[E]=_t(i,E)})}}return t}function Ho(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function _t(i,t){return window.getComputedStyle(i)[t]}function PM(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function(i,t,e){if(":"==i[0]){const E=function(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,o)=>parseFloat(o)>parseFloat(e);case":decrement":return(e,o)=>parseFloat(o)<parseFloat(e);default:return t.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,e);if("function"==typeof E)return void t.push(E);i=E}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return e.push(`The provided transition expression "${i}" is not supported`),t;const u=o[1],c=o[2],g=o[3];t.push(Of(u,g));"<"==c[0]&&!("*"==u&&"*"==g)&&t.push(Of(g,u))}(o,e,t)):e.push(i),e}const Em=new Set(["true","1"]),pc=new Set(["false","0"]);function Of(i,t){const e=Em.has(i)||pc.has(i),o=Em.has(t)||pc.has(t);return(u,c)=>{let g="*"==i||i==u,v="*"==t||t==c;return!g&&e&&"boolean"==typeof u&&(g=u?Em.has(i):pc.has(i)),!v&&o&&"boolean"==typeof c&&(v=c?Em.has(t):pc.has(t)),g&&v}}const W1=new RegExp("s*:selfs*,?","g");function wm(i,t,e){return new FM(i).build(t,e)}class FM{constructor(t){this._driver=t}build(t,e){const o=new eD(e);return this._resetContextStyleTimingState(o),Ho(this,fc(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let o=e.queryCount=0,u=e.depCount=0;const c=[],g=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(v=>{if(this._resetContextStyleTimingState(e),0==v.type){const E=v,S=E.name;S.toString().split(/\s*,\s*/).forEach(M=>{E.name=M,c.push(this.visitState(E,e))}),E.name=S}else if(1==v.type){const E=this.visitTransition(v,e);o+=E.queryCount,u+=E.depCount,g.push(E)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:c,transitions:g,queryCount:o,depCount:u,options:null}}visitState(t,e){const o=this.visitStyle(t.styles,e),u=t.options&&t.options.params||null;if(o.containsDynamicStyles){const c=new Set,g=u||{};if(o.styles.forEach(v=>{if(Tm(v)){const E=v;Object.keys(E).forEach(S=>{Zw(E[S]).forEach(M=>{g.hasOwnProperty(M)||c.add(M)})})}}),c.size){const v=nu(c.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${v.join(", ")}`)}}return{type:0,name:t.name,style:o,options:u?{params:u}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const o=Ho(this,fc(t.animation),e);return{type:1,matchers:PM(t.expr,e.errors),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:gc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(o=>Ho(this,o,e)),options:gc(t.options)}}visitGroup(t,e){const o=e.currentTime;let u=0;const c=t.steps.map(g=>{e.currentTime=o;const v=Ho(this,g,e);return u=Math.max(u,e.currentTime),v});return e.currentTime=u,{type:3,steps:c,options:gc(t.options)}}visitAnimate(t,e){const o=function(i,t){let e=null;if(i.hasOwnProperty("duration"))e=i;else if("number"==typeof i)return mc(Mf(i,t).duration,0,"");const o=i;if(o.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=mc(0,0,"");return c.dynamic=!0,c.strValue=o,c}return e=e||Mf(o,t),mc(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=o;let u,c=t.styles?t.styles:fa({});if(5==c.type)u=this.visitKeyframes(c,e);else{let g=t.styles,v=!1;if(!g){v=!0;const S={};o.easing&&(S.easing=o.easing),g=fa(S)}e.currentTime+=o.duration+o.delay;const E=this.visitStyle(g,e);E.isEmptyStep=v,u=E}return e.currentAnimateTimings=null,{type:4,timings:o,style:u,options:null}}visitStyle(t,e){const o=this._makeStyleAst(t,e);return this._validateStyleAst(o,e),o}_makeStyleAst(t,e){const o=[];Array.isArray(t.styles)?t.styles.forEach(g=>{"string"==typeof g?g==Za?o.push(g):e.errors.push(`The provided style string value ${g} is not allowed.`):o.push(g)}):o.push(t.styles);let u=!1,c=null;return o.forEach(g=>{if(Tm(g)){const v=g,E=v.easing;if(E&&(c=E,delete v.easing),!u)for(let S in v)if(v[S].toString().indexOf("{{")>=0){u=!0;break}}}),{type:6,styles:o,easing:c,offset:t.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(t,e){const o=e.currentAnimateTimings;let u=e.currentTime,c=e.currentTime;o&&c>0&&(c-=o.duration+o.delay),t.styles.forEach(g=>{"string"!=typeof g&&Object.keys(g).forEach(v=>{if(!this._driver.validateStyleProperty(v))return void e.errors.push(`The provided animation property "${v}" is not a supported CSS property for animations`);const E=e.collectedStyles[e.currentQuerySelector],S=E[v];let M=!0;S&&(c!=u&&c>=S.startTime&&u<=S.endTime&&(e.errors.push(`The CSS property "${v}" that exists between the times of "${S.startTime}ms" and "${S.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${u}ms"`),M=!1),c=S.startTime),M&&(E[v]={startTime:c,endTime:u}),e.options&&function(i,t,e){const o=t.params||{},u=Zw(i);u.length&&u.forEach(c=>{o.hasOwnProperty(c)||e.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(g[v],e.options,e.errors)})})}visitKeyframes(t,e){const o={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),o;let c=0;const g=[];let v=!1,E=!1,S=0;const M=t.steps.map(Se=>{const Ne=this._makeStyleAst(Se,e);let je=null!=Ne.offset?Ne.offset:function(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(Tm(e)&&e.hasOwnProperty("offset")){const o=e;t=parseFloat(o.offset),delete o.offset}});else if(Tm(i)&&i.hasOwnProperty("offset")){const e=i;t=parseFloat(e.offset),delete e.offset}return t}(Ne.styles),tt=0;return null!=je&&(c++,tt=Ne.offset=je),E=E||tt<0||tt>1,v=v||tt<S,S=tt,g.push(tt),Ne});E&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),v&&e.errors.push("Please ensure that all keyframe offsets are in order");const k=t.steps.length;let F=0;c>0&&c<k?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(F=1/(k-1));const j=k-1,q=e.currentTime,ee=e.currentAnimateTimings,ye=ee.duration;return M.forEach((Se,Ne)=>{const je=F>0?Ne==j?1:F*Ne:g[Ne],tt=je*ye;e.currentTime=q+ee.delay+tt,ee.duration=tt,this._validateStyleAst(Se,e),Se.offset=je,o.styles.push(Se)}),o}visitReference(t,e){return{type:8,animation:Ho(this,fc(t.animation),e),options:gc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:gc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:gc(t.options)}}visitQuery(t,e){const o=e.currentQuerySelector,u=t.options||{};e.queryCount++,e.currentQuery=t;const[c,g]=function(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(W1,"")),[i=i.replace(/@\*/g,_m).replace(/@\w+/g,e=>_m+"-"+e.substr(1)).replace(/:animating/g,Db),t]}(t.selector);e.currentQuerySelector=o.length?o+" "+c:c,eo(e.collectedStyles,e.currentQuerySelector,{});const v=Ho(this,fc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=o,{type:11,selector:c,limit:u.limit||0,optional:!!u.optional,includeSelf:g,animation:v,originalSelector:t.selector,options:gc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const o="full"===t.timings?{duration:0,delay:0,easing:"full"}:Mf(t.timings,e.errors,!0);return{type:12,animation:Ho(this,fc(t.animation),e),timings:o,options:null}}}class eD{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Tm(i){return!Array.isArray(i)&&"object"==typeof i}function gc(i){return i?(i=dc(i)).params&&(i.params=function(i){return i?dc(i):null}(i.params)):i={},i}function mc(i,t,e){return{duration:i,delay:t,easing:e}}function Rb(i,t,e,o,u,c,g=null,v=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:o,duration:u,delay:c,totalTime:u+c,easing:g,subTimeline:v}}class Sm{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let o=this._map.get(t);o||this._map.set(t,o=[]),o.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const nD=new RegExp(":enter","g"),iD=new RegExp(":leave","g");function kb(i,t,e,o,u,c={},g={},v,E,S=[]){return(new Rf).buildKeyframes(i,t,e,o,u,c,g,v,E,S)}class Rf{buildKeyframes(t,e,o,u,c,g,v,E,S,M=[]){S=S||new Sm;const k=new Pb(t,e,S,u,c,M,[]);k.options=E,k.currentTimeline.setStyles([g],null,k.errors,E),Ho(this,o,k);const F=k.timelines.filter(j=>j.containsAnimation());if(F.length&&Object.keys(v).length){const j=F[F.length-1];j.allowOnlyTimelineStyles()||j.setStyles([v],null,k.errors,E)}return F.length?F.map(j=>j.buildKeyframes()):[Rb(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const o=e.subInstructions.consume(e.element);if(o){const u=e.createSubContext(t.options),c=e.currentTimeline.currentTime,g=this._visitSubInstructions(o,u,u.options);c!=g&&e.transformIntoNewTimeline(g)}e.previousNode=t}visitAnimateRef(t,e){const o=e.createSubContext(t.options);o.transformIntoNewTimeline(),this.visitReference(t.animation,o),e.transformIntoNewTimeline(o.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,o){let c=e.currentTimeline.currentTime;const g=null!=o.duration?hc(o.duration):null,v=null!=o.delay?hc(o.delay):null;return 0!==g&&t.forEach(E=>{const S=e.appendInstructionToTimeline(E,g,v);c=Math.max(c,S.duration+S.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),Ho(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const o=e.subContextCount;let u=e;const c=t.options;if(c&&(c.params||c.delay)&&(u=e.createSubContext(c),u.transformIntoNewTimeline(),null!=c.delay)){6==u.previousNode.type&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=Yu);const g=hc(c.delay);u.delayNextStep(g)}t.steps.length&&(t.steps.forEach(g=>Ho(this,g,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>o&&u.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const o=[];let u=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?hc(t.options.delay):0;t.steps.forEach(g=>{const v=e.createSubContext(t.options);c&&v.delayNextStep(c),Ho(this,g,v),u=Math.max(u,v.currentTimeline.currentTime),o.push(v.currentTimeline)}),o.forEach(g=>e.currentTimeline.mergeTimelineCollectedStyles(g)),e.transformIntoNewTimeline(u),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const o=t.strValue;return Mf(e.params?vm(o,e.params,e.errors):o,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const o=e.currentAnimateTimings=this._visitTiming(t.timings,e),u=e.currentTimeline;o.delay&&(e.incrementTime(o.delay),u.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(o.duration),this.visitStyle(c,e),u.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const o=e.currentTimeline,u=e.currentAnimateTimings;!u&&o.getCurrentStyleProperties().length&&o.forwardFrame();const c=u&&u.easing||t.easing;t.isEmptyStep?o.applyEmptyStep(c):o.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const o=e.currentAnimateTimings,u=e.currentTimeline.duration,c=o.duration,v=e.createSubContext().currentTimeline;v.easing=o.easing,t.styles.forEach(E=>{v.forwardTime((E.offset||0)*c),v.setStyles(E.styles,E.easing,e.errors,e.options),v.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(v),e.transformIntoNewTimeline(u+c),e.previousNode=t}visitQuery(t,e){const o=e.currentTimeline.currentTime,u=t.options||{},c=u.delay?hc(u.delay):0;c&&(6===e.previousNode.type||0==o&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Yu);let g=o;const v=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!u.optional,e.errors);e.currentQueryTotal=v.length;let E=null;v.forEach((S,M)=>{e.currentQueryIndex=M;const k=e.createSubContext(t.options,S);c&&k.delayNextStep(c),S===e.element&&(E=k.currentTimeline),Ho(this,t.animation,k),k.currentTimeline.applyStylesToKeyframe(),g=Math.max(g,k.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(g),E&&(e.currentTimeline.mergeTimelineCollectedStyles(E),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const o=e.parentContext,u=e.currentTimeline,c=t.timings,g=Math.abs(c.duration),v=g*(e.currentQueryTotal-1);let E=g*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":E=v-E;break;case"full":E=o.currentStaggerTime}const M=e.currentTimeline;E&&M.delayNextStep(E);const k=M.currentTime;Ho(this,t.animation,e),e.previousNode=t,o.currentStaggerTime=u.currentTime-k+(u.startTime-o.currentTimeline.startTime)}}const Yu={};class Pb{constructor(t,e,o,u,c,g,v,E){this._driver=t,this.element=e,this.subInstructions=o,this._enterClassName=u,this._leaveClassName=c,this.errors=g,this.timelines=v,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new Im(this._driver,e,0),v.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const o=t;let u=this.options;null!=o.duration&&(u.duration=hc(o.duration)),null!=o.delay&&(u.delay=hc(o.delay));const c=o.params;if(c){let g=u.params;g||(g=this.options.params={}),Object.keys(c).forEach(v=>{(!e||!g.hasOwnProperty(v))&&(g[v]=vm(c[v],g,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const o=t.params={};Object.keys(e).forEach(u=>{o[u]=e[u]})}}return t}createSubContext(t=null,e,o){const u=e||this.element,c=new Pb(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,o||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=Yu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,o){const u={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+t.delay,easing:""},c=new BM(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,u,t.stretchStartingKeyframe);return this.timelines.push(c),u}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,o,u,c,g){let v=[];if(u&&v.push(this.element),t.length>0){t=(t=t.replace(nD,"."+this._enterClassName)).replace(iD,"."+this._leaveClassName);let S=this._driver.query(this.element,t,1!=o);0!==o&&(S=o<0?S.slice(S.length+o,S.length):S.slice(0,o)),v.push(...S)}return!c&&0==v.length&&g.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),v}}class Im{constructor(t,e,o,u){this._driver=t,this.element=e,this.startTime=o,this._elementTimelineStylesLookup=u,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Im(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Za,this._currentKeyframe[e]=Za}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,o,u){e&&(this._previousKeyframe.easing=e);const c=u&&u.params||{},g=function(i,t){const e={};let o;return i.forEach(u=>{"*"===u?(o=o||Object.keys(t),o.forEach(c=>{e[c]=Za})):eu(u,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(g).forEach(v=>{const E=vm(g[v],c,o);this._pendingStyles[v]=E,this._localTimelineStyles.hasOwnProperty(v)||(this._backFill[v]=this._globalTimelineStyles.hasOwnProperty(v)?this._globalTimelineStyles[v]:Za),this._updateStyle(v,E)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(o=>{this._currentKeyframe[o]=t[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const o=this._styleSummary[e],u=t._styleSummary[e];(!o||u.time>o.time)&&this._updateStyle(e,u.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,o=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((v,E)=>{const S=eu(v,!0);Object.keys(S).forEach(M=>{const k=S[M];"!"==k?t.add(M):k==Za&&e.add(M)}),o||(S.offset=E/this.duration),u.push(S)});const c=t.size?nu(t.values()):[],g=e.size?nu(e.values()):[];if(o){const v=u[0],E=dc(v);v.offset=0,E.offset=1,u=[v,E]}return Rb(this.element,u,c,g,this.duration,this.startTime,this.easing,!1)}}class BM extends Im{constructor(t,e,o,u,c,g,v=!1){super(t,e,g.delay),this.keyframes=o,this.preStyleProps=u,this.postStyleProps=c,this._stretchStartingKeyframe=v,this.timings={duration:g.duration,delay:g.delay,easing:g.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:o,easing:u}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],g=o+e,v=e/g,E=eu(t[0],!1);E.offset=0,c.push(E);const S=eu(t[0],!1);S.offset=Nb(v),c.push(S);const M=t.length-1;for(let k=1;k<=M;k++){let F=eu(t[k],!1);F.offset=Nb((e+F.offset*o)/g),c.push(F)}o=g,e=0,u="",t=c}return Rb(this.element,t,this.preStyleProps,this.postStyleProps,o,e,u,!0)}}function Nb(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class Fb{}class HM extends Fb{normalizePropertyName(t,e){return xf(t)}normalizeStyleValue(t,e,o,u){let c="";const g=o.toString().trim();if(K1[e]&&0!==o&&"0"!==o)if("number"==typeof o)c="px";else{const v=o.match(/^[+-]?[\d\.]+([a-z]*)$/);v&&0==v[1].length&&u.push(`Please provide a CSS unit value for ${t}:${o}`)}return g+c}}const K1=(()=>function(i){const t={};return i.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function GM(i,t,e,o,u,c,g,v,E,S,M,k,F){return{type:0,element:i,triggerName:t,isRemovalTransition:u,fromState:e,fromStyles:c,toState:o,toStyles:g,timelines:v,queriedElements:E,preStyleProps:S,postStyleProps:M,totalTime:k,errors:F}}const sD={};class Lb{constructor(t,e,o){this._triggerName=t,this.ast=e,this._stateStyles=o}match(t,e,o,u){return function(i,t,e,o,u){return i.some(c=>c(t,e,o,u))}(this.ast.matchers,t,e,o,u)}buildStyles(t,e,o){const u=this._stateStyles["*"],c=this._stateStyles[t],g=u?u.buildStyles(e,o):{};return c?c.buildStyles(e,o):g}build(t,e,o,u,c,g,v,E,S,M){const k=[],F=this.ast.options&&this.ast.options.params||sD,q=this.buildStyles(o,v&&v.params||sD,k),ee=E&&E.params||sD,ye=this.buildStyles(u,ee,k),Se=new Set,Ne=new Map,je=new Map,tt="void"===u,nt={params:Object.assign(Object.assign({},F),ee)},Ht=M?[]:kb(t,e,this.ast.animation,c,g,q,ye,nt,S,k);let pn=0;if(Ht.forEach(ni=>{pn=Math.max(ni.duration+ni.delay,pn)}),k.length)return GM(e,this._triggerName,o,u,tt,q,ye,[],[],Ne,je,pn,k);Ht.forEach(ni=>{const es=ni.element,Lp=eo(Ne,es,{});ni.preStyleProps.forEach(Vp=>Lp[Vp]=!0);const Md=eo(je,es,{});ni.postStyleProps.forEach(Vp=>Md[Vp]=!0),es!==e&&Se.add(es)});const Si=nu(Se.values());return GM(e,this._triggerName,o,u,tt,q,ye,Ht,Si,Ne,je,pn)}}class zM{constructor(t,e,o){this.styles=t,this.defaultParams=e,this.normalizer=o}buildStyles(t,e){const o={},u=dc(this.defaultParams);return Object.keys(t).forEach(c=>{const g=t[c];null!=g&&(u[c]=g)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const g=c;Object.keys(g).forEach(v=>{let E=g[v];E.length>1&&(E=vm(E,u,e));const S=this.normalizer.normalizePropertyName(v,e);E=this.normalizer.normalizeStyleValue(v,S,E,e),o[S]=E})}}),o}}class aD{constructor(t,e,o){this.name=t,this.ast=e,this._normalizer=o,this.transitionFactories=[],this.states={},e.states.forEach(u=>{this.states[u.name]=new zM(u.style,u.options&&u.options.params||{},o)}),uD(this.states,"true","1"),uD(this.states,"false","0"),e.transitions.forEach(u=>{this.transitionFactories.push(new Lb(t,u,this.states))}),this.fallbackTransition=function(i,t,e){return new Lb(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(g,v)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,o,u){return this.transitionFactories.find(g=>g.match(t,e,o,u))||null}matchStyles(t,e,o){return this.fallbackTransition.buildStyles(t,e,o)}}function uD(i,t,e){i.hasOwnProperty(t)?i.hasOwnProperty(e)||(i[e]=i[t]):i.hasOwnProperty(e)&&(i[t]=i[e])}const $M=new Sm;class WM{constructor(t,e,o){this.bodyNode=t,this._driver=e,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(t,e){const o=[],u=wm(this._driver,e,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[t]=u}_buildPlayer(t,e,o){const u=t.element,c=jw(0,this._normalizer,0,t.keyframes,e,o);return this._driver.animate(u,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,o={}){const u=[],c=this._animations[t];let g;const v=new Map;if(c?(g=kb(this._driver,e,c,wb,mm,{},{},o,$M,u),g.forEach(M=>{const k=eo(v,M.element,{});M.postStyleProps.forEach(F=>k[F]=null)})):(u.push("The requested animation doesn't exist or has already been destroyed"),g=[]),u.length)throw new Error(`Unable to create the animation due to the following errors: ${u.join("\n")}`);v.forEach((M,k)=>{Object.keys(M).forEach(F=>{M[F]=this._driver.computeStyle(k,F,Za)})});const S=jo(g.map(M=>{const k=v.get(M.element);return this._buildPlayer(M,{},k)}));return this._playersById[t]=S,S.onDestroy(()=>this.destroy(t)),this.players.push(S),S}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const o=this.players.indexOf(e);o>=0&&this.players.splice(o,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,o,u){const c=hm(e,"","","");return cm(this._getPlayer(t),o,c,u),()=>{}}command(t,e,o,u){if("register"==o)return void this.register(t,u[0]);if("create"==o)return void this.create(t,e,u[0]||{});const c=this._getPlayer(t);switch(o){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(t)}}}const lD="ng-animate-queued",Vb="ng-animate-disabled",cD=".ng-animate-disabled",QM=[],Bb={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ZM={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vo="__ng_removed";class Ub{constructor(t,e=""){this.namespaceId=e;const o=t&&t.hasOwnProperty("value");if(this.value=null!=(i=o?t.value:t)?i:null,o){const c=dc(t);delete c.value,this.options=c}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const o=this.options.params;Object.keys(e).forEach(u=>{null==o[u]&&(o[u]=e[u])})}}}const qh="void",jb=new Ub(qh);class Hb{constructor(t,e,o){this.id=t,this.hostElement=e,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Go(e,this._hostClassName)}listen(t,e,o,u){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${e}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=o)&&"done"!=i)throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${e}" is not supported!`);var i;const c=eo(this._elementListeners,t,[]),g={name:e,phase:o,callback:u};c.push(g);const v=eo(this._engine.statesByElement,t,{});return v.hasOwnProperty(e)||(Go(t,ym),Go(t,ym+"-"+e),v[e]=jb),()=>{this._engine.afterFlush(()=>{const E=c.indexOf(g);E>=0&&c.splice(E,1),this._triggers[e]||delete v[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,o,u=!0){const c=this._getTrigger(e),g=new xm(this.id,e,t);let v=this._engine.statesByElement.get(t);v||(Go(t,ym),Go(t,ym+"-"+e),this._engine.statesByElement.set(t,v={}));let E=v[e];const S=new Ub(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&E&&S.absorbOptions(E.options),v[e]=S,E||(E=jb),S.value!==qh&&E.value===S.value){if(!function(i,t){const e=Object.keys(i),o=Object.keys(t);if(e.length!=o.length)return!1;for(let u=0;u<e.length;u++){const c=e[u];if(!t.hasOwnProperty(c)||i[c]!==t[c])return!1}return!0}(E.params,S.params)){const ee=[],ye=c.matchStyles(E.value,E.params,ee),Se=c.matchStyles(S.value,S.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{Wu(t,ye),vs(t,Se)})}return}const F=eo(this._engine.playersByElement,t,[]);F.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==e&&ee.queued&&ee.destroy()});let j=c.matchTransition(E.value,S.value,t,S.params),q=!1;if(!j){if(!u)return;j=c.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:j,fromState:E,toState:S,player:g,isFallbackTransition:q}),q||(Go(t,lD),g.onStart(()=>{$h(t,lD)})),g.onDone(()=>{let ee=this.players.indexOf(g);ee>=0&&this.players.splice(ee,1);const ye=this._engine.playersByElement.get(t);if(ye){let Se=ye.indexOf(g);Se>=0&&ye.splice(Se,1)}}),this.players.push(g),F.push(g),g}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,o)=>{delete e[t]}),this._elementListeners.forEach((e,o)=>{this._elementListeners.set(o,e.filter(u=>u.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(o=>o.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const o=this._engine.driver.query(t,_m,!0);o.forEach(u=>{if(u[vo])return;const c=this._engine.fetchNamespacesByElement(u);c.size?c.forEach(g=>g.triggerLeaveAnimation(u,e,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(t,e,o,u){const c=this._engine.statesByElement.get(t);if(c){const g=[];if(Object.keys(c).forEach(v=>{if(this._triggers[v]){const E=this.trigger(t,v,qh,u);E&&g.push(E)}}),g.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),o&&jo(g).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),o=this._engine.statesByElement.get(t);if(e&&o){const u=new Set;e.forEach(c=>{const g=c.name;if(u.has(g))return;u.add(g);const E=this._triggers[g].fallbackTransition,S=o[g]||jb,M=new Ub(qh),k=new xm(this.id,g,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:g,transition:E,fromState:S,toState:M,player:k,isFallbackTransition:!0})})}}removeNode(t,e){const o=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let u=!1;if(o.totalAnimations){const c=o.players.length?o.playersByQueriedElement.get(t):[];if(c&&c.length)u=!0;else{let g=t;for(;g=g.parentNode;)if(o.statesByElement.get(g)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(t),u)o.markElementAsRemoved(this.id,t,!1,e);else{const c=t[vo];(!c||c===Bb)&&(o.afterFlush(()=>this.clearElementCache(t)),o.destroyInnerAnimations(t),o._onRemovalComplete(t,e))}}insertNode(t,e){Go(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(o=>{const u=o.player;if(u.destroyed)return;const c=o.element,g=this._elementListeners.get(c);g&&g.forEach(v=>{if(v.name==o.triggerName){const E=hm(c,o.triggerName,o.fromState.value,o.toState.value);E._data=t,cm(o.player,v.phase,E,v.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):e.push(o)}),this._queue=[],e.sort((o,u)=>{const c=o.transition.ast.depCount,g=u.transition.ast.depCount;return 0==c||0==g?c-g:this._engine.driver.containsElement(o.element,u.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(o=>o.element===t)||e,e}}class JM{constructor(t,e,o){this.bodyNode=t,this.driver=e,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(u,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(o=>{o.queued&&t.push(o)})}),t}createNamespace(t,e){const o=new Hb(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(o,e):(this.newHostElements.set(e,o),this.collectEnterElement(e)),this._namespaceLookup[t]=o}_balanceNamespaceList(t,e){const o=this._namespaceList.length-1;if(o>=0){let u=!1;for(let c=o;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,e)){this._namespaceList.splice(c+1,0,t),u=!0;break}u||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let o=this._namespaceLookup[t];return o||(o=this.createNamespace(t,e)),o}registerTrigger(t,e,o){let u=this._namespaceLookup[t];u&&u.register(e,o)&&this.totalAnimations++}destroy(t,e){if(!t)return;const o=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[t];const u=this._namespaceList.indexOf(o);u>=0&&this._namespaceList.splice(u,1)}),this.afterFlushAnimationsDone(()=>o.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,o=this.statesByElement.get(t);if(o){const u=Object.keys(o);for(let c=0;c<u.length;c++){const g=o[u[c]].namespaceId;if(g){const v=this._fetchNamespace(g);v&&e.add(v)}}}return e}trigger(t,e,o,u){if(Om(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,o,u),!0}return!1}insertNode(t,e,o,u){if(!Om(e))return;const c=e[vo];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const g=this.collectedLeaveElements.indexOf(e);g>=0&&this.collectedLeaveElements.splice(g,1)}if(t){const g=this._fetchNamespace(t);g&&g.insertNode(e,o)}u&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Go(t,Vb)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),$h(t,Vb))}removeNode(t,e,o,u){if(Om(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,u):this.markElementAsRemoved(t,e,!1,u),o){const g=this.namespacesByHostElement.get(e);g&&g.id!==t&&g.removeNode(e,u)}}else this._onRemovalComplete(e,u)}markElementAsRemoved(t,e,o,u){this.collectedLeaveElements.push(e),e[vo]={namespaceId:t,setForRemoval:u,hasAnimation:o,removedBeforeQueried:!1}}listen(t,e,o,u,c){return Om(e)?this._fetchNamespace(t).listen(e,o,u,c):()=>{}}_buildInstruction(t,e,o,u,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,o,u,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,_m,!0);e.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Db,!0),e.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return jo(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[vo];if(e&&e.setForRemoval){if(t[vo]=Bb,e.namespaceId){this.destroyInnerAnimations(t);const o=this._fetchNamespace(e.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,cD)&&this.markElementAsDisabled(t,!1),this.driver.query(t,cD,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,u)=>this._balanceNamespaceList(o,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Go(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{e=this._flushAnimations(o,t)}finally{for(let u=0;u<o.length;u++)o[u]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],e.length?jo(e).onDone(()=>{o.forEach(u=>u())}):o.forEach(u=>u())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const o=new Sm,u=[],c=new Map,g=[],v=new Map,E=new Map,S=new Map,M=new Set;this.disabledNodes.forEach(dt=>{M.add(dt);const Tt=this.driver.query(dt,".ng-animate-queued",!0);for(let qt=0;qt<Tt.length;qt++)M.add(Tt[qt])});const k=this.bodyNode,F=Array.from(this.statesByElement.keys()),j=Gb(F,this.collectedEnterElements),q=new Map;let ee=0;j.forEach((dt,Tt)=>{const qt=wb+ee++;q.set(Tt,qt),dt.forEach(Cn=>Go(Cn,qt))});const ye=[],Se=new Set,Ne=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const Tt=this.collectedLeaveElements[dt],qt=Tt[vo];qt&&qt.setForRemoval&&(ye.push(Tt),Se.add(Tt),qt.hasAnimation?this.driver.query(Tt,".ng-star-inserted",!0).forEach(Cn=>Se.add(Cn)):Ne.add(Tt))}const je=new Map,tt=Gb(F,Array.from(Se));tt.forEach((dt,Tt)=>{const qt=mm+ee++;je.set(Tt,qt),dt.forEach(Cn=>Go(Cn,qt))}),t.push(()=>{j.forEach((dt,Tt)=>{const qt=q.get(Tt);dt.forEach(Cn=>$h(Cn,qt))}),tt.forEach((dt,Tt)=>{const qt=je.get(Tt);dt.forEach(Cn=>$h(Cn,qt))}),ye.forEach(dt=>{this.processLeaveNode(dt)})});const nt=[],Ht=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(e).forEach(qt=>{const Cn=qt.player,Ai=qt.element;if(nt.push(Cn),this.collectedEnterElements.length){const fl=Ai[vo];if(fl&&fl.setForMove)return void Cn.destroy()}const dl=!k||!this.driver.containsElement(k,Ai),xs=je.get(Ai),xd=q.get(Ai),Nr=this._buildInstruction(qt,o,xd,xs,dl);if(Nr.errors&&Nr.errors.length)Ht.push(Nr);else{if(dl)return Cn.onStart(()=>Wu(Ai,Nr.fromStyles)),Cn.onDestroy(()=>vs(Ai,Nr.toStyles)),void u.push(Cn);if(qt.isFallbackTransition)return Cn.onStart(()=>Wu(Ai,Nr.fromStyles)),Cn.onDestroy(()=>vs(Ai,Nr.toStyles)),void u.push(Cn);Nr.timelines.forEach(fl=>fl.stretchStartingKeyframe=!0),o.append(Ai,Nr.timelines),g.push({instruction:Nr,player:Cn,element:Ai}),Nr.queriedElements.forEach(fl=>eo(v,fl,[]).push(Cn)),Nr.preStyleProps.forEach((fl,hE)=>{const eI=Object.keys(fl);if(eI.length){let Bp=E.get(hE);Bp||E.set(hE,Bp=new Set),eI.forEach(dP=>Bp.add(dP))}}),Nr.postStyleProps.forEach((fl,hE)=>{const eI=Object.keys(fl);let Bp=S.get(hE);Bp||S.set(hE,Bp=new Set),eI.forEach(dP=>Bp.add(dP))})}});if(Ht.length){const dt=[];Ht.forEach(Tt=>{dt.push(`@${Tt.triggerName} has failed due to:\n`),Tt.errors.forEach(qt=>dt.push(`- ${qt}\n`))}),nt.forEach(Tt=>Tt.destroy()),this.reportError(dt)}const pn=new Map,Si=new Map;g.forEach(dt=>{const Tt=dt.element;o.has(Tt)&&(Si.set(Tt,Tt),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,pn))}),u.forEach(dt=>{const Tt=dt.element;this._getPreviousPlayers(Tt,!1,dt.namespaceId,dt.triggerName,null).forEach(Cn=>{eo(pn,Tt,[]).push(Cn),Cn.destroy()})});const ni=ye.filter(dt=>zb(dt,E,S)),es=new Map;dD(es,this.driver,Ne,S,Za).forEach(dt=>{zb(dt,E,S)&&ni.push(dt)});const Md=new Map;j.forEach((dt,Tt)=>{dD(Md,this.driver,new Set(dt),E,"!")}),ni.forEach(dt=>{const Tt=es.get(dt),qt=Md.get(dt);es.set(dt,Object.assign(Object.assign({},Tt),qt))});const Vp=[],v2=[],b2={};g.forEach(dt=>{const{element:Tt,player:qt,instruction:Cn}=dt;if(o.has(Tt)){if(M.has(Tt))return qt.onDestroy(()=>vs(Tt,Cn.toStyles)),qt.disabled=!0,qt.overrideTotalTime(Cn.totalTime),void u.push(qt);let Ai=b2;if(Si.size>1){let xs=Tt;const xd=[];for(;xs=xs.parentNode;){const Nr=Si.get(xs);if(Nr){Ai=Nr;break}xd.push(xs)}xd.forEach(Nr=>Si.set(Nr,Ai))}const dl=this._buildAnimation(qt.namespaceId,Cn,pn,c,Md,es);if(qt.setRealPlayer(dl),Ai===b2)Vp.push(qt);else{const xs=this.playersByElement.get(Ai);xs&&xs.length&&(qt.parentPlayer=jo(xs)),u.push(qt)}}else Wu(Tt,Cn.fromStyles),qt.onDestroy(()=>vs(Tt,Cn.toStyles)),v2.push(qt),M.has(Tt)&&u.push(qt)}),v2.forEach(dt=>{const Tt=c.get(dt.element);if(Tt&&Tt.length){const qt=jo(Tt);dt.setRealPlayer(qt)}}),u.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<ye.length;dt++){const Tt=ye[dt],qt=Tt[vo];if($h(Tt,mm),qt&&qt.hasAnimation)continue;let Cn=[];if(v.size){let dl=v.get(Tt);dl&&dl.length&&Cn.push(...dl);let xs=this.driver.query(Tt,Db,!0);for(let xd=0;xd<xs.length;xd++){let Nr=v.get(xs[xd]);Nr&&Nr.length&&Cn.push(...Nr)}}const Ai=Cn.filter(dl=>!dl.destroyed);Ai.length?tx(this,Tt,Ai):this.processLeaveNode(Tt)}return ye.length=0,Vp.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const Tt=this.players.indexOf(dt);this.players.splice(Tt,1)}),dt.play()}),Vp}elementContainsData(t,e){let o=!1;const u=e[vo];return u&&u.setForRemoval&&(o=!0),this.playersByElement.has(e)&&(o=!0),this.playersByQueriedElement.has(e)&&(o=!0),this.statesByElement.has(e)&&(o=!0),this._fetchNamespace(t).elementContainsData(e)||o}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,o,u,c){let g=[];if(e){const v=this.playersByQueriedElement.get(t);v&&(g=v)}else{const v=this.playersByElement.get(t);if(v){const E=!c||c==qh;v.forEach(S=>{S.queued||!E&&S.triggerName!=u||g.push(S)})}}return(o||u)&&(g=g.filter(v=>!(o&&o!=v.namespaceId||u&&u!=v.triggerName))),g}_beforeAnimationBuild(t,e,o){const c=e.element,g=e.isRemovalTransition?void 0:t,v=e.isRemovalTransition?void 0:e.triggerName;for(const E of e.timelines){const S=E.element,M=S!==c,k=eo(o,S,[]);this._getPreviousPlayers(S,M,g,v,e.toState).forEach(j=>{const q=j.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),j.destroy(),k.push(j)})}Wu(c,e.fromStyles)}_buildAnimation(t,e,o,u,c,g){const v=e.triggerName,E=e.element,S=[],M=new Set,k=new Set,F=e.timelines.map(q=>{const ee=q.element;M.add(ee);const ye=ee[vo];if(ye&&ye.removedBeforeQueried)return new Gh(q.duration,q.delay);const Se=ee!==E,Ne=function(i){const t=[];return fD(i,t),t}((o.get(ee)||QM).map(pn=>pn.getRealPlayer())).filter(pn=>!!pn.element&&pn.element===ee),je=c.get(ee),tt=g.get(ee),nt=jw(0,this._normalizer,0,q.keyframes,je,tt),Ht=this._buildPlayer(q,nt,Ne);if(q.subTimeline&&u&&k.add(ee),Se){const pn=new xm(t,v,ee);pn.setRealPlayer(Ht),S.push(pn)}return Ht});S.forEach(q=>{eo(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function(i,t,e){let o;if(i instanceof Map){if(o=i.get(t),o){if(o.length){const u=o.indexOf(e);o.splice(u,1)}0==o.length&&i.delete(t)}}else if(o=i[t],o){if(o.length){const u=o.indexOf(e);o.splice(u,1)}0==o.length&&delete i[t]}return o}(this.playersByQueriedElement,q.element,q))}),M.forEach(q=>Go(q,Kw));const j=jo(F);return j.onDestroy(()=>{M.forEach(q=>$h(q,Kw)),vs(E,e.toStyles)}),k.forEach(q=>{eo(u,q,[]).push(j)}),j}_buildPlayer(t,e,o){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,o):new Gh(t.duration,t.delay)}}class xm{constructor(t,e,o){this.namespaceId=t,this.triggerName=e,this.element=o,this._player=new Gh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(o=>cm(t,e,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){eo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Om(i){return i&&1===i.nodeType}function Rm(i,t){const e=i.style.display;return i.style.display=null!=t?t:"none",e}function dD(i,t,e,o,u){const c=[];e.forEach(E=>c.push(Rm(E)));const g=[];o.forEach((E,S)=>{const M={};E.forEach(k=>{const F=M[k]=t.computeStyle(S,k,u);(!F||0==F.length)&&(S[vo]=ZM,g.push(S))}),i.set(S,M)});let v=0;return e.forEach(E=>Rm(E,c[v++])),g}function Gb(i,t){const e=new Map;if(i.forEach(v=>e.set(v,[])),0==t.length)return e;const u=new Set(t),c=new Map;function g(v){if(!v)return 1;let E=c.get(v);if(E)return E;const S=v.parentNode;return E=e.has(S)?S:u.has(S)?1:g(S),c.set(v,E),E}return t.forEach(v=>{const E=g(v);1!==E&&e.get(E).push(v)}),e}const km="$$classes";function Go(i,t){if(i.classList)i.classList.add(t);else{let e=i[km];e||(e=i[km]={}),e[t]=!0}}function $h(i,t){if(i.classList)i.classList.remove(t);else{let e=i[km];e&&delete e[t]}}function tx(i,t,e){jo(e).onDone(()=>i.processLeaveNode(t))}function fD(i,t){for(let e=0;e<i.length;e++){const o=i[e];o instanceof Bw?fD(o.players,t):t.push(o)}}function zb(i,t,e){const o=e.get(i);if(!o)return!1;let u=t.get(i);return u?o.forEach(c=>u.add(c)):t.set(i,o),e.delete(i),!0}class Pf{constructor(t,e,o){this.bodyNode=t,this._driver=e,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(u,c)=>{},this._transitionEngine=new JM(t,e,o),this._timelineEngine=new WM(t,e,o),this._transitionEngine.onRemovalComplete=(u,c)=>this.onRemovalComplete(u,c)}registerTrigger(t,e,o,u,c){const g=t+"-"+u;let v=this._triggerCache[g];if(!v){const E=[],S=wm(this._driver,c,E);if(E.length)throw new Error(`The animation trigger "${u}" has failed to build due to the following errors:\n - ${E.join("\n - ")}`);v=function(i,t,e){return new aD(i,t,e)}(u,S,this._normalizer),this._triggerCache[g]=v}this._transitionEngine.registerTrigger(e,u,v)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,o,u){this._transitionEngine.insertNode(t,e,o,u)}onRemove(t,e,o,u){this._transitionEngine.removeNode(t,e,u||!1,o)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,o,u){if("@"==o.charAt(0)){const[c,g]=Af(o);this._timelineEngine.command(c,e,g,u)}else this._transitionEngine.trigger(t,e,o,u)}listen(t,e,o,u,c){if("@"==o.charAt(0)){const[g,v]=Af(o);return this._timelineEngine.listen(g,e,v,c)}return this._transitionEngine.listen(t,e,o,u,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function pD(i,t){let e=null,o=null;return Array.isArray(t)&&t.length?(e=Pm(t[0]),t.length>1&&(o=Pm(t[t.length-1]))):t&&(e=Pm(t)),e||o?new Wh(i,e,o):null}class Wh{constructor(t,e,o){this._element=t,this._startStyles=e,this._endStyles=o,this._state=0;let u=Wh.initialStylesByElement.get(t);u||Wh.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&vs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vs(this._element,this._initialStyles),this._endStyles&&(vs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Wh.initialStylesByElement.delete(this._element),this._startStyles&&(Wu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wu(this._element,this._endStyles),this._endStyles=null),vs(this._element,this._initialStyles),this._state=3)}}function Pm(i){let t=null;const e=Object.keys(i);for(let o=0;o<e.length;o++){const u=e[o];ix(u)&&(t=t||{},t[u]=i[u])}return t}function ix(i){return"display"===i||"position"===i}Wh.initialStylesByElement=new WeakMap;const gD="animation",Nm="animationend";class mD{constructor(t,e,o,u,c,g,v){this._element=t,this._name=e,this._duration=o,this._delay=u,this._easing=c,this._fillMode=g,this._onDoneFn=v,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=E=>this._handleCallback(E)}apply(){(function(i,t){const e=Bm(i,"").trim();let o=0;e.length&&(function(i,t){let e=0;for(let o=0;o<i.length;o++)","===i.charAt(o)&&e++;return e}(e)+1,t=`${e}, ${t}`),Vm(i,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Wb(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Fm(this._element,this._name,"paused")}resume(){Fm(this._element,this._name,"running")}setPosition(t){const e=Lm(this._element,this._name);this._position=t*this._duration,Vm(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Wb(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,t){const o=Bm(i,"").split(","),u=$b(o,t);u>=0&&(o.splice(u,1),Vm(i,"",o.join(",")))}(this._element,this._name))}}function Fm(i,t,e){Vm(i,"PlayState",e,Lm(i,t))}function Lm(i,t){const e=Bm(i,"");return e.indexOf(",")>0?$b(e.split(","),t):$b([e],t)}function $b(i,t){for(let e=0;e<i.length;e++)if(i[e].indexOf(t)>=0)return e;return-1}function Wb(i,t,e){e?i.removeEventListener(Nm,t):i.addEventListener(Nm,t)}function Vm(i,t,e,o){const u=gD+t;if(null!=o){const c=i.style[u];if(c.length){const g=c.split(",");g[o]=e,e=g.join(",")}}i.style[u]=e}function Bm(i,t){return i.style[gD+t]||""}class vD{constructor(t,e,o,u,c,g,v,E){this.element=t,this.keyframes=e,this.animationName=o,this._duration=u,this._delay=c,this._finalStyles=v,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=g||"linear",this.totalTime=u+c,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new mD(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(t[o]=e?this._finalStyles[o]:_t(this.element,o))})}this.currentSnapshot=t}}class yc extends Gh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=$w(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Nf{constructor(){this._count=0}validateStyleProperty(t){return fm(t)}matchesElement(t,e){return pm(t,e)}containsElement(t,e){return Cb(t,e)}query(t,e,o){return Eb(t,e,o)}computeStyle(t,e,o){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,o){o=o.map(v=>$w(v));let u=`@keyframes ${e} {\n`,c="";o.forEach(v=>{c=" ";const E=parseFloat(v.offset);u+=`${c}${100*E}% {\n`,c+=" ",Object.keys(v).forEach(S=>{const M=v[S];switch(S){case"offset":return;case"easing":return void(M&&(u+=`${c}animation-timing-function: ${M};\n`));default:return void(u+=`${c}${S}: ${M};\n`)}}),u+=`${c}}\n`}),u+="}\n";const g=document.createElement("style");return g.textContent=u,g}animate(t,e,o,u,c,g=[],v){const E=g.filter(ye=>ye instanceof vD),S={};xb(o,u)&&E.forEach(ye=>{let Se=ye.currentSnapshot;Object.keys(Se).forEach(Ne=>S[Ne]=Se[Ne])});const M=function(i){let t={};return i&&(Array.isArray(i)?i:[i]).forEach(o=>{Object.keys(o).forEach(u=>{"offset"==u||"easing"==u||(t[u]=o[u])})}),t}(e=Ob(t,e,S));if(0==o)return new yc(t,M);const k="gen_css_kf_"+this._count++,F=this.buildKeyframeElement(t,k,e);(function(i){var t;const e=null===(t=i.getRootNode)||void 0===t?void 0:t.call(i);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(F);const q=pD(t,e),ee=new vD(t,e,k,o,u,c,M,q);return ee.onDestroy(()=>{var i;(i=F).parentNode.removeChild(i)}),ee}}class bs{constructor(t,e,o,u){this.element=t,this.keyframes=e,this.options=o,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,o){return t.animate(e,o)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:_t(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class bD{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ff().toString()),this._cssKeyframesDriver=new Nf}validateStyleProperty(t){return fm(t)}matchesElement(t,e){return pm(t,e)}containsElement(t,e){return Cb(t,e)}query(t,e,o){return Eb(t,e,o)}computeStyle(t,e,o){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,o,u,c,g=[],v){if(!v&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,o,u,c,g);const M={duration:o,delay:u,fill:0==u?"both":"forwards"};c&&(M.easing=c);const k={},F=g.filter(q=>q instanceof bs);xb(o,u)&&F.forEach(q=>{let ee=q.currentSnapshot;Object.keys(ee).forEach(ye=>k[ye]=ee[ye])});const j=pD(t,e=Ob(t,e=e.map(q=>eu(q,!1)),k));return new bs(t,e,M,j)}}function Ff(){return Uw()&&Element.prototype.animate||{}}let hx=(()=>{class i extends cc{constructor(e,o){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(o.body,{id:"0",encapsulation:p.ifc.None,styles:[],data:{animation:[]}})}build(e){const o=this._nextAnimationId.toString();this._nextAnimationId++;const u=Array.isArray(e)?MM(e):e;return CD(this._renderer,null,o,"register",[u]),new dx(o,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(p.FYo),p.LFG(pe))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();class dx extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new nN(this._id,t,e||{},this._renderer)}}class nN{constructor(t,e,o,u){this.id=t,this.element=e,this._renderer=u,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return CD(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function CD(i,t,e,o,u){return i.setProperty(t,`@@${e}:${o}`,u)}const ED="@.disabled";let Yb=(()=>{class i{constructor(e,o,u){this.delegate=e,this.engine=o,this._zone=u,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(c,g)=>{g&&g.parentNode(c)&&g.removeChild(c.parentNode,c)}}createRenderer(e,o){const c=this.delegate.createRenderer(e,o);if(!(e&&o&&o.data&&o.data.animation)){let M=this._rendererCache.get(c);return M||(M=new Kb("",c,this.engine),this._rendererCache.set(c,M)),M}const g=o.id,v=o.id+"-"+this._currentId;this._currentId++,this.engine.register(v,e);const E=M=>{Array.isArray(M)?M.forEach(E):this.engine.registerTrigger(g,v,e,M.name,M)};return o.data.animation.forEach(E),new Qb(this,v,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,o,u){e>=0&&e<this._microtaskId?this._zone.run(()=>o(u)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[g,v]=c;g(v)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,u]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(p.FYo),p.LFG(Pf),p.LFG(p.R0b))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();class Kb{constructor(t,e,o){this.namespaceId=t,this.delegate=e,this.engine=o,this.destroyNode=this.delegate.destroyNode?u=>e.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,o,u=!0){this.delegate.insertBefore(t,e,o),this.engine.onInsert(this.namespaceId,e,t,u)}removeChild(t,e,o){this.engine.onRemove(this.namespaceId,e,this.delegate,o)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,o,u){this.delegate.setAttribute(t,e,o,u)}removeAttribute(t,e,o){this.delegate.removeAttribute(t,e,o)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,o,u){this.delegate.setStyle(t,e,o,u)}removeStyle(t,e,o){this.delegate.removeStyle(t,e,o)}setProperty(t,e,o){"@"==e.charAt(0)&&e==ED?this.disableAnimations(t,!!o):this.delegate.setProperty(t,e,o)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,o){return this.delegate.listen(t,e,o)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Qb extends Kb{constructor(t,e,o,u){super(e,o,u),this.factory=t,this.namespaceId=e}setProperty(t,e,o){"@"==e.charAt(0)?"."==e.charAt(1)&&e==ED?this.disableAnimations(t,o=void 0===o||!!o):this.engine.process(this.namespaceId,t,e.substr(1),o):this.delegate.setProperty(t,e,o)}listen(t,e,o){if("@"==e.charAt(0)){const u=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let c=e.substr(1),g="";return"@"!=c.charAt(0)&&([c,g]=function(i){const t=i.indexOf(".");return[i.substring(0,t),i.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,u,c,g,v=>{this.factory.scheduleListenerCallback(v._data||-1,o,v)})}return this.delegate.listen(t,e,o)}}let rN=(()=>{class i extends Pf{constructor(e,o,u){super(e.body,o,u)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(pe),p.LFG(gm),p.LFG(Fb))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const ma=new p.OlP("AnimationModuleType"),Zb=[{provide:cc,useClass:hx},{provide:Fb,useFactory:function(){return new HM}},{provide:Pf,useClass:rN},{provide:p.FYo,useFactory:function(i,t,e){return new Yb(i,t,e)},deps:[xo,Pf,p.R0b]}],Jb=[{provide:gm,useFactory:function(){return"function"==typeof Ff()?new bD:new Nf}},{provide:ma,useValue:"BrowserAnimations"},...Zb],DD=[{provide:gm,useClass:Ww},{provide:ma,useValue:"NoopAnimations"},...Zb];let yx=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?DD:Jb}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:Jb,imports:[Vd]}),i})();const bx=new p.GfV("12.2.0"),Ex=new p.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let _c,Hr=(()=>{class i{constructor(e,o,u){this._hasDoneGlobalChecks=!1,this._document=u,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=o,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return(0,p.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const o=this._document.createElement("div");o.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(o);const u=getComputedStyle(o);u&&"none"!==u.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(o)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&bx.full!==hb.full&&console.warn("The Angular Material version ("+bx.full+") does not match the Angular CDK version ("+hb.full+").\nPlease ensure the versions of these two packages exactly match.")}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Vw),p.LFG(Ex,8),p.LFG(pe))},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[Ph],Ph]}),i})();function Xb(i){return class extends i{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=pr(t)}}}function $m(i,t){return class extends i{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const o=e||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function SD(i){return class extends i{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=pr(t)}}}function wx(i,t=0){return class extends i{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Vu(e):this.defaultTabIndex}}}function Dx(i){return class extends i{constructor(...t){super(...t),this.stateChanges=new Vt.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,c=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);c!==t&&(this.errorState=c,this.stateChanges.next())}}}try{_c="undefined"!=typeof Intl}catch(i){_c=!1}let Ym=(()=>{class i{isErrorState(e,o){return!!(e&&e.invalid&&(e.touched||o&&o.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})();class ID{constructor(t,e,o){this._renderer=t,this.element=e,this.config=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const MD={enterDuration:225,exitDuration:150},Qh=Hg({passive:!0}),Vf=["mousedown","touchstart"],Fx=["mouseup","mouseleave","touchend","touchcancel"];class Bf{constructor(t,e,o,u){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,u.isBrowser&&(this._containerElement=ua(o))}fadeInRipple(t,e,o={}){const u=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Object.assign(Object.assign({},MD),o.animation);o.centered&&(t=u.left+u.width/2,e=u.top+u.height/2);const g=o.radius||function(i,t,e){const o=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),u=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(o*o+u*u)}(t,e,u),v=t-u.left,E=e-u.top,S=c.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=v-g+"px",M.style.top=E-g+"px",M.style.height=2*g+"px",M.style.width=2*g+"px",null!=o.color&&(M.style.backgroundColor=o.color),M.style.transitionDuration=`${S}ms`,this._containerElement.appendChild(M),window.getComputedStyle(M).getPropertyValue("opacity"),M.style.transform="scale(1)";const k=new ID(this,M,o);return k.state=0,this._activeRipples.add(k),o.persistent||(this._mostRecentTransientRipple=k),this._runTimeoutOutsideZone(()=>{const F=k===this._mostRecentTransientRipple;k.state=1,!o.persistent&&(!F||!this._isPointerDown)&&k.fadeOut()},S),k}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const o=t.element,u=Object.assign(Object.assign({},MD),t.config.animation);o.style.transitionDuration=`${u.exitDuration}ms`,o.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,o.parentNode.removeChild(o)},u.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=ua(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Vf))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Fx),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=am(t),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!o&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!ob(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let o=0;o<e.length;o++)this.fadeInRipple(e[o].clientX,e[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Qh)})})}_removeTriggerEvents(){this._triggerElement&&(Vf.forEach(t=>{this._triggerElement.removeEventListener(t,this,Qh)}),this._pointerUpEventsRegistered&&Fx.forEach(t=>{this._triggerElement.removeEventListener(t,this,Qh)}))}}const Zh=new p.OlP("mat-ripple-global-options");let Cs=(()=>{class i{constructor(e,o,u,c,g){this._elementRef=e,this._animationMode=g,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new Bf(this,o,e,u)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,o=0,u){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,o,Object.assign(Object.assign({},this.rippleConfig),u)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.SBq),p.Y36(p.R0b),p.Y36(Gn),p.Y36(Zh,8),p.Y36(ma,8))},i.\u0275dir=p.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,o){2&e&&p.ekj("mat-ripple-unbounded",o.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),i})(),n0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[Hr,ic],Hr]}),i})();function OD(i,t){}class Uf{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Jh={dialogContainer:db("dialogContainer",[Tf("void, exit",fa({opacity:0,transform:"scale(0.7)"})),Tf("enter",fa({transform:"none"})),pb("* => enter",fb("150ms cubic-bezier(0, 0, 0.2, 1)",fa({transform:"none",opacity:1}))),pb("* => void, * => exit",fb("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",fa({opacity:0})))])};let Ux=(()=>{class i extends Uv{constructor(e,o,u,c,g,v){super(),this._elementRef=e,this._focusTrapFactory=o,this._changeDetectorRef=u,this._config=g,this._focusMonitor=v,this._animationStateChanged=new p.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=E=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(E)),this._ariaLabelledBy=g.ariaLabelledBy||null,this._document=c}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const o=Ka(),u=this._elementRef.nativeElement;(!o||o===this._document.body||o===u||u.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Ka())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,o=Ka();return e===o||e.contains(o)}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.SBq),p.Y36(sm),p.Y36(p.sBO),p.Y36(pe,8),p.Y36(Uf),p.Y36(er))},i.\u0275dir=p.lG2({type:i,viewQuery:function(e,o){if(1&e&&p.Gf($g,7),2&e){let u;p.iGM(u=p.CRH())&&(o._portalOutlet=u.first)}},features:[p.qOj]}),i})(),Cc=(()=>{class i extends Ux{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:o}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:o})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:o}))}_onAnimationStart({toState:e,totalTime:o}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:o}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:o})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=p.n5z(i)))(o||i)}}(),i.\u0275cmp=p.Xpm({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,o){1&e&&p.WFA("@dialogContainer.start",function(c){return o._onAnimationStart(c)})("@dialogContainer.done",function(c){return o._onAnimationDone(c)}),2&e&&(p.Ikx("id",o._id),p.uIk("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),p.d8E("@dialogContainer",o._state))},features:[p.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,o){1&e&&p.YNc(0,OD,0,0,"ng-template",0)},directives:[$g],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Jh.dialogContainer]}}),i})(),jx=0;class Xh{constructor(t,e,o="mat-dialog-"+jx++){this._overlayRef=t,this._containerInstance=e,this.id=o,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Vt.xQ,this._afterClosed=new Vt.xQ,this._beforeClosed=new Vt.xQ,this._state=0,e._id=o,e._animationStateChanged.pipe(ui(u=>"opened"===u.state),Ni(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(ui(u=>"closed"===u.state),Ni(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(ui(u=>27===u.keyCode&&!this.disableClose&&!function(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}(u))).subscribe(u=>{u.preventDefault(),jf(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():jf(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ui(e=>"closing"===e.state),Ni(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function jf(i,t,e){return void 0!==i._containerInstance&&(i._containerInstance._closeInteractionType=t),i.close(e)}const Ec=new p.OlP("MatDialogData"),s0=new p.OlP("mat-dialog-default-options"),a0=new p.OlP("mat-dialog-scroll-strategy"),Zm={provide:a0,deps:[jh],useFactory:function(i){return()=>i.scrollStrategies.block()}};let RD=(()=>{class i{constructor(e,o,u,c,g,v,E,S,M){this._overlay=e,this._injector=o,this._defaultOptions=u,this._parentDialog=c,this._overlayContainer=g,this._dialogRefConstructor=E,this._dialogContainerType=S,this._dialogDataToken=M,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Vt.xQ,this._afterOpenedAtThisLevel=new Vt.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Oo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(cs(void 0))),this._scrollStrategy=v}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,o){(o=function(i,t){return Object.assign(Object.assign({},t),i)}(o,this._defaultOptions||new Uf)).id&&this.getDialogById(o.id);const u=this._createOverlay(o),c=this._attachDialogContainer(u,o),g=this._attachDialogContent(e,c,u,o);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(g),g.afterClosed().subscribe(()=>this._removeOpenDialog(g)),this.afterOpened.next(g),c._initializeWithAttachedContent(),g}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(o=>o.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const o=this._getOverlayConfig(e);return this._overlay.create(o)}_getOverlayConfig(e){const o=new Xg({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(o.backdropClass=e.backdropClass),o}_attachDialogContainer(e,o){const c=p.zs3.create({parent:o&&o.viewContainerRef&&o.viewContainerRef.injector||this._injector,providers:[{provide:Uf,useValue:o}]}),g=new Vv(this._dialogContainerType,o.viewContainerRef,c,o.componentFactoryResolver);return e.attach(g).instance}_attachDialogContent(e,o,u,c){const g=new this._dialogRefConstructor(u,o,c.id);if(e instanceof p.Rgc)o.attachTemplatePortal(new _o(e,null,{$implicit:c.data,dialogRef:g}));else{const v=this._createInjector(c,g,o),E=o.attachComponentPortal(new Vv(e,c.viewContainerRef,v));g.componentInstance=E.instance}return g.updateSize(c.width,c.height).updatePosition(c.position),g}_createInjector(e,o,u){const c=e&&e.viewContainerRef&&e.viewContainerRef.injector,g=[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:o}];return e.direction&&(!c||!c.get(yo,null,p.XFs.Optional))&&g.push({provide:yo,useValue:{value:e.direction,change:(0,ot.of)()}}),p.zs3.create({parent:c||this._injector,providers:g})}_removeOpenDialog(e){const o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((u,c)=>{u?c.setAttribute("aria-hidden",u):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const o=e.parentElement.children;for(let u=o.length-1;u>-1;u--){let c=o[u];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let o=e.length;for(;o--;)e[o].close()}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(jh),p.Y36(p.zs3),p.Y36(void 0),p.Y36(void 0),p.Y36(Bh),p.Y36(void 0),p.Y36(p.DyG),p.Y36(p.DyG),p.Y36(p.OlP))},i.\u0275dir=p.lG2({type:i}),i})(),ed=(()=>{class i extends RD{constructor(e,o,u,c,g,v,E){super(e,o,c,v,E,g,Xh,Cc,Ec)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(jh),p.LFG(p.zs3),p.LFG(ut,8),p.LFG(s0,8),p.LFG(a0),p.LFG(i,12),p.LFG(Bh))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),Jm=0,PD=(()=>{class i{constructor(e,o,u){this.dialogRef=e,this._elementRef=o,this._dialog=u,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=zx(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const o=e._matDialogClose||e._matDialogCloseResult;o&&(this.dialogResult=o.currentValue)}_onButtonClick(e){jf(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(Xh,8),p.Y36(p.SBq),p.Y36(ed))},i.\u0275dir=p.lG2({type:i,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,o){1&e&&p.NdJ("click",function(c){return o._onButtonClick(c)}),2&e&&p.uIk("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[p.TTD]}),i})(),u0=(()=>{class i{constructor(e,o,u){this._dialogRef=e,this._elementRef=o,this._dialog=u,this.id="mat-dialog-title-"+Jm++}ngOnInit(){this._dialogRef||(this._dialogRef=zx(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(Xh,8),p.Y36(p.SBq),p.Y36(ed))},i.\u0275dir=p.lG2({type:i,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,o){2&e&&p.Ikx("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),i})(),l0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=p.lG2({type:i,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),i})(),Gx=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=p.lG2({type:i,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),i})();function zx(i,t){let e=i.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(o=>o.id===e.id):null}let Nt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[ed,Zm],imports:[[x1,WE,Hr],Hr]}),i})();var hN=Y(1555);function td(...i){if(1===i.length){const t=i[0];if((0,Ll.k)(t))return Xm(t,null);if((0,hN.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Xm(e.map(o=>t[o]),e)}}if("function"==typeof i[i.length-1]){const t=i.pop();return Xm(i=1===i.length&&(0,Ll.k)(i[0])?i[0]:i,null).pipe((0,ft.U)(e=>t(...e)))}return Xm(i,null)}function Xm(i,t){return new Hn.y(e=>{const o=i.length;if(0===o)return void e.complete();const u=new Array(o);let c=0,g=0;for(let v=0;v<o;v++){const E=(0,jn.D)(i[v]);let S=!1;e.add(E.subscribe({next:M=>{S||(S=!0,g++),u[v]=M},error:M=>e.error(M),complete:()=>{c++,(c===o||!S)&&(g===o&&e.next(t?t.reduce((M,k,F)=>(M[k]=u[F],M),{}):u),e.complete())}}))}})}let ND=(()=>{class i{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.Qsj),p.Y36(p.SBq))},i.\u0275dir=p.lG2({type:i}),i})(),wc=(()=>{class i extends ND{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=p.n5z(i)))(o||i)}}(),i.\u0275dir=p.lG2({type:i,features:[p.qOj]}),i})();const _a=new p.OlP("NgValueAccessor"),Ci={provide:_a,useExisting:(0,p.Gpc)(()=>nd),multi:!0},$x=new p.OlP("CompositionEventMode");let nd=(()=>{class i extends ND{constructor(e,o,u){super(e,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=P()?P().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36($x,8))},i.\u0275dir=p.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&p.NdJ("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[p._Bn([Ci]),p.qOj]}),i})();const li=new p.OlP("NgValidators"),Zu=new p.OlP("NgAsyncValidators");function HD(i){return null!=i}function GD(i){const t=(0,p.QGY)(i)?(0,jn.D)(i):i;return(0,p.CqO)(t),t}function zD(i){let t={};return i.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function qD(i,t){return t.map(e=>e(i))}function $D(i){return i.map(t=>function(i){return!i.validate}(t)?t:e=>t.validate(e))}function ny(i){return null!=i?function(i){if(!i)return null;const t=i.filter(HD);return 0==t.length?null:function(e){return zD(qD(e,t))}}($D(i)):null}function YD(i){return null!=i?function(i){if(!i)return null;const t=i.filter(HD);return 0==t.length?null:function(e){return td(qD(e,t).map(GD)).pipe((0,ft.U)(zD))}}($D(i)):null}function h0(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function KD(i){return i._rawValidators}function QD(i){return i._rawAsyncValidators}function d0(i){return i?Array.isArray(i)?i:[i]:[]}function ry(i,t){return Array.isArray(i)?i.includes(t):i===t}function ZD(i,t){const e=d0(t);return d0(i).forEach(u=>{ry(e,u)||e.push(u)}),e}function f0(i,t){return d0(t).filter(e=>!ry(i,e))}let JD=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ny(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,o){return!!this.control&&this.control.hasError(e,o)}getError(e,o){return this.control?this.control.getError(e,o):null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=p.lG2({type:i}),i})(),Ui=(()=>{class i extends JD{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=p.n5z(i)))(o||i)}}(),i.\u0275dir=p.lG2({type:i,features:[p.qOj]}),i})();class Xu extends JD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Kx{constructor(t){this._cd=t}is(t){var e,o,u;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(u=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===u?void 0:u[t])}}let p0=(()=>{class i extends Kx{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(Xu,2))},i.\u0275dir=p.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&p.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[p.qOj]}),i})(),eT=(()=>{class i extends Kx{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(Ui,10))},i.\u0275dir=p.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&p.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[p.qOj]}),i})();function zf(i,t){el(i,t),t.valueAccessor.writeValue(i.value),function(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&oy(i,t)})}(i,t),function(i,t){const e=(o,u)=>{t.valueAccessor.writeValue(o),u&&t.viewToModelUpdate(o)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&oy(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function(i,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function qf(i,t,e=!0){const o=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(o),t.valueAccessor.registerOnTouched(o)),Gr(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function id(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function el(i,t){const e=KD(i);null!==t.validator?i.setValidators(h0(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const o=QD(i);null!==t.asyncValidator?i.setAsyncValidators(h0(o,t.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const u=()=>i.updateValueAndValidity();id(t._rawValidators,u),id(t._rawAsyncValidators,u)}function Gr(i,t){let e=!1;if(null!==i){if(null!==t.validator){const u=KD(i);if(Array.isArray(u)&&u.length>0){const c=u.filter(g=>g!==t.validator);c.length!==u.length&&(e=!0,i.setValidators(c))}}if(null!==t.asyncValidator){const u=QD(i);if(Array.isArray(u)&&u.length>0){const c=u.filter(g=>g!==t.asyncValidator);c.length!==u.length&&(e=!0,i.setAsyncValidators(c))}}}const o=()=>{};return id(t._rawValidators,o),id(t._rawAsyncValidators,o),e}function oy(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function g0(i,t){el(i,t)}function y0(i,t){i._syncPendingControls(),t.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function v0(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const $f="VALID",ru="INVALID",Wf="PENDING",od="DISABLED";function rT(i){return(E0(i)?i.validators:i)||null}function b0(i){return Array.isArray(i)?ny(i):i||null}function C0(i,t){return(E0(t)?t.asyncValidators:i)||null}function sy(i){return Array.isArray(i)?YD(i):i||null}function E0(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class ay{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=b0(this._rawValidators),this._composedAsyncValidatorFn=sy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===$f}get invalid(){return this.status===ru}get pending(){return this.status==Wf}get disabled(){return this.status===od}get enabled(){return this.status!==od}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=b0(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=sy(t)}addValidators(t){this.setValidators(ZD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ZD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(f0(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(f0(t,this._rawAsyncValidators))}hasValidator(t){return ry(this._rawValidators,t)}hasAsyncValidator(t){return ry(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Wf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=od,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=$f,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$f||this.status===Wf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?od:$f}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Wf,this._hasOwnPendingAsyncValidator=!0;const e=GD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(i,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let o=i;return t.forEach(u=>{o=o instanceof w0?o.controls.hasOwnProperty(u)?o.controls[u]:null:o instanceof rO&&o.at(u)||null}),o}(this,t)}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?od:this.errors?ru:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wf)?Wf:this._anyControlsHaveStatus(ru)?ru:$f}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){E0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class uy extends ay{constructor(t=null,e,o){super(rT(e),C0(o,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){v0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){v0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class w0 extends ay{constructor(t,e,o){super(rT(e),C0(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,u)=>{o.reset(t[u],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=e instanceof uy?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&t(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,o)=>((e.enabled||this.disabled)&&(t[o]=e.value),t))}_reduceChildren(t,e){let o=t;return this._forEachChild((u,c)=>{o=e(o,u,c)}),o}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class rO extends ay{constructor(t,e,o){super(rT(e),C0(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,o={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((o,u)=>{this._throwIfControlMissing(u),this.at(u).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((o,u)=>{this.at(u)&&this.at(u).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((o,u)=>{o.reset(t[u],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof uy?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,o)=>{t(e,o)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const iO={provide:Ui,useExisting:(0,p.Gpc)(()=>Kf)},Yf=(()=>Promise.resolve(null))();let Kf=(()=>{class i extends Ui{constructor(e,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new p.vpe,this.form=new w0({},ny(e),YD(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Yf.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),zf(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Yf.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),v0(this._directives,e)})}addFormGroup(e){Yf.then(()=>{const o=this._findContainer(e.path),u=new w0({});g0(u,e),o.registerControl(e.name,u),u.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Yf.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){Yf.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,y0(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(li,10),p.Y36(Zu,10))},i.\u0275dir=p.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&p.NdJ("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([iO]),p.qOj]}),i})();const sT={provide:Xu,useExisting:(0,p.Gpc)(()=>Qf)},T0=(()=>Promise.resolve(null))();let Qf=(()=>{class i extends Xu{constructor(e,o,u,c){super(),this.control=new uy,this._registered=!1,this.update=new p.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=function(i,t){if(!t)return null;let e,o,u;return Array.isArray(t),t.forEach(c=>{c.constructor===nd?e=c:function(i){return Object.getPrototypeOf(i.constructor)===wc}(c)?o=c:u=c}),u||o||e||null}(0,c)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,t){return[...t.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){T0.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const o=e.isDisabled.currentValue,u=""===o||o&&"false"!==o;T0.then(()=>{u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(Ui,9),p.Y36(li,10),p.Y36(Zu,10),p.Y36(_a,10))},i.\u0275dir=p.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([sT]),p.qOj,p.TTD]}),i})(),aT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=p.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),lT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({}),i})();const Wo=new p.OlP("NgModelWithFormControlWarning"),lO={provide:Ui,useExisting:(0,p.Gpc)(()=>hy)};let hy=(()=>{class i extends Ui{constructor(e,o){super(),this.validators=e,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(e),this._setAsyncValidators(o)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const o=this.form.get(e.path);return zf(o,e),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),o}getControl(e){return this.form.get(e.path)}removeControl(e){qf(e.control||null,e,!1),v0(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,o){this.form.get(e.path).setValue(o)}onSubmit(e){return this.submitted=!0,y0(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const o=e.control,u=this.form.get(e.path);o!==u&&(qf(o||null,e),u instanceof uy&&(zf(u,e),e.control=u))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const o=this.form.get(e.path);g0(o,e),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const o=this.form.get(e.path);o&&function(i,t){return Gr(i,t)}(o,e)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){el(this.form,this),this._oldForm&&Gr(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(li,10),p.Y36(Zu,10))},i.\u0275dir=p.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,o){1&e&&p.NdJ("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([lO]),p.qOj,p.TTD]}),i})();const ad={provide:li,useExisting:(0,p.Gpc)(()=>gy),multi:!0};let gy=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(i){return function(i){return null==i||0===i.length}(i.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=p.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,o){2&e&&p.uIk("required",o.required?"":null)},inputs:{required:"required"},features:[p._Bn([ad])]}),i})(),yy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[lT]]}),i})(),vN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[yy]}),i})(),wT=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Wo,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[yy]}),i})();const DT=["underline"],_O=["connectionContainer"],F0=["inputContainer"],L0=["label"];function vO(i,t){1&i&&(p.ynx(0),p.TgZ(1,"div",14),p._UZ(2,"div",15),p._UZ(3,"div",16),p._UZ(4,"div",17),p.qZA(),p.TgZ(5,"div",18),p._UZ(6,"div",15),p._UZ(7,"div",16),p._UZ(8,"div",17),p.qZA(),p.BQk())}function bO(i,t){1&i&&(p.TgZ(0,"div",19),p.Hsn(1,1),p.qZA())}function TT(i,t){if(1&i&&(p.ynx(0),p.Hsn(1,2),p.TgZ(2,"span"),p._uU(3),p.qZA(),p.BQk()),2&i){const e=p.oxw(2);p.xp6(3),p.Oqu(e._control.placeholder)}}function ST(i,t){1&i&&p.Hsn(0,3,["*ngSwitchCase","true"])}function AT(i,t){1&i&&(p.TgZ(0,"span",23),p._uU(1," *"),p.qZA())}function CO(i,t){if(1&i){const e=p.EpF();p.TgZ(0,"label",20,21),p.NdJ("cdkObserveContent",function(){return p.CHM(e),p.oxw().updateOutlineGap()}),p.YNc(2,TT,4,1,"ng-container",12),p.YNc(3,ST,1,0,"ng-content",12),p.YNc(4,AT,2,0,"span",22),p.qZA()}if(2&i){const e=p.oxw();p.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),p.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),p.uIk("for",e._control.id)("aria-owns",e._control.id),p.xp6(2),p.Q6J("ngSwitchCase",!1),p.xp6(1),p.Q6J("ngSwitchCase",!0),p.xp6(1),p.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function IT(i,t){1&i&&(p.TgZ(0,"div",24),p.Hsn(1,4),p.qZA())}function MT(i,t){if(1&i&&(p.TgZ(0,"div",25,26),p._UZ(2,"span",27),p.qZA()),2&i){const e=p.oxw();p.xp6(2),p.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function EO(i,t){if(1&i&&(p.TgZ(0,"div"),p.Hsn(1,5),p.qZA()),2&i){const e=p.oxw();p.Q6J("@transitionMessages",e._subscriptAnimationState)}}function wO(i,t){if(1&i&&(p.TgZ(0,"div",31),p._uU(1),p.qZA()),2&i){const e=p.oxw(2);p.Q6J("id",e._hintLabelId),p.xp6(1),p.Oqu(e.hintLabel)}}function xT(i,t){if(1&i&&(p.TgZ(0,"div",28),p.YNc(1,wO,2,2,"div",29),p.Hsn(2,6),p._UZ(3,"div",30),p.Hsn(4,7),p.qZA()),2&i){const e=p.oxw();p.Q6J("@transitionMessages",e._subscriptAnimationState),p.xp6(1),p.Q6J("ngIf",e.hintLabel)}}const DO=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],OT=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],V0=new p.OlP("MatError"),SO={transitionMessages:db("transitionMessages",[Tf("enter",fa({opacity:1,transform:"translateY(0%)"})),pb("void => enter",[fa({opacity:0,transform:"translateY(-5px)"}),fb("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let B0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=p.lG2({type:i}),i})();const IO=new p.OlP("MatHint");let kT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=p.lG2({type:i,selectors:[["mat-label"]]}),i})(),wN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=p.lG2({type:i,selectors:[["mat-placeholder"]]}),i})();const MO=new p.OlP("MatPrefix"),xO=new p.OlP("MatSuffix");let OO=0;const TN=$m(class{constructor(i){this._elementRef=i}},"primary"),SN=new p.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),kO=new p.OlP("MatFormField");let AN=(()=>{class i extends TN{constructor(e,o,u,c,g,v,E,S){super(e),this._changeDetectorRef=o,this._dir=c,this._defaults=g,this._platform=v,this._ngZone=E,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Vt.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+OO++,this._labelId="mat-form-field-label-"+OO++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==S,this.appearance=g&&g.appearance?g.appearance:"legacy",this._hideRequiredMarker=!(!g||null==g.hideRequiredMarker)&&g.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const o=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&o!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=pr(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(cs(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Uu(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Uu(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Hu.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(cs(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(cs(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Uu(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const o=this._control?this._control.ngControl:null;return o&&o[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Mh(this._label.nativeElement,"transitionend").pipe(Ni(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const o=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,u=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;o?e.push(o.id):this._hintLabel&&e.push(this._hintLabelId),u&&e.push(u.id)}else this._errorChildren&&e.push(...this._errorChildren.map(o=>o.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,u=0;const c=this._connectionContainerRef.nativeElement,g=c.querySelectorAll(".mat-form-field-outline-start"),v=c.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const E=c.getBoundingClientRect();if(0===E.width&&0===E.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(E),M=e.children,k=this._getStartEnd(M[0].getBoundingClientRect());let F=0;for(let j=0;j<M.length;j++)F+=M[j].offsetWidth;o=Math.abs(k-S)-5,u=F>0?.75*F+10:0}for(let E=0;E<g.length;E++)g[E].style.width=`${o}px`;for(let E=0;E<v.length;E++)v[E].style.width=`${u}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const o=e.getRootNode();return o&&o!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.SBq),p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(yo,8),p.Y36(SN,8),p.Y36(Gn),p.Y36(p.R0b),p.Y36(ma,8))},i.\u0275cmp=p.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,o,u){if(1&e&&(p.Suo(u,B0,5),p.Suo(u,B0,7),p.Suo(u,kT,5),p.Suo(u,kT,7),p.Suo(u,wN,5),p.Suo(u,V0,5),p.Suo(u,IO,5),p.Suo(u,MO,5),p.Suo(u,xO,5)),2&e){let c;p.iGM(c=p.CRH())&&(o._controlNonStatic=c.first),p.iGM(c=p.CRH())&&(o._controlStatic=c.first),p.iGM(c=p.CRH())&&(o._labelChildNonStatic=c.first),p.iGM(c=p.CRH())&&(o._labelChildStatic=c.first),p.iGM(c=p.CRH())&&(o._placeholderChild=c.first),p.iGM(c=p.CRH())&&(o._errorChildren=c),p.iGM(c=p.CRH())&&(o._hintChildren=c),p.iGM(c=p.CRH())&&(o._prefixChildren=c),p.iGM(c=p.CRH())&&(o._suffixChildren=c)}},viewQuery:function(e,o){if(1&e&&(p.Gf(DT,5),p.Gf(_O,7),p.Gf(F0,5),p.Gf(L0,5)),2&e){let u;p.iGM(u=p.CRH())&&(o.underlineRef=u.first),p.iGM(u=p.CRH())&&(o._connectionContainerRef=u.first),p.iGM(u=p.CRH())&&(o._inputContainerRef=u.first),p.iGM(u=p.CRH())&&(o._label=u.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,o){2&e&&p.ekj("mat-form-field-appearance-standard","standard"==o.appearance)("mat-form-field-appearance-fill","fill"==o.appearance)("mat-form-field-appearance-outline","outline"==o.appearance)("mat-form-field-appearance-legacy","legacy"==o.appearance)("mat-form-field-invalid",o._control.errorState)("mat-form-field-can-float",o._canLabelFloat())("mat-form-field-should-float",o._shouldLabelFloat())("mat-form-field-has-label",o._hasFloatingLabel())("mat-form-field-hide-placeholder",o._hideControlPlaceholder())("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-focused",o._control.focused)("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))("_mat-animation-noopable",!o._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[p._Bn([{provide:kO,useExisting:i}]),p.qOj],ngContentSelectors:OT,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,o){1&e&&(p.F$t(DO),p.TgZ(0,"div",0),p.TgZ(1,"div",1,2),p.NdJ("click",function(c){return o._control.onContainerClick&&o._control.onContainerClick(c)}),p.YNc(3,vO,9,0,"ng-container",3),p.YNc(4,bO,2,0,"div",4),p.TgZ(5,"div",5,6),p.Hsn(7),p.TgZ(8,"span",7),p.YNc(9,CO,5,16,"label",8),p.qZA(),p.qZA(),p.YNc(10,IT,2,0,"div",9),p.qZA(),p.YNc(11,MT,3,4,"div",10),p.TgZ(12,"div",11),p.YNc(13,EO,2,1,"div",12),p.YNc(14,xT,5,2,"div",13),p.qZA(),p.qZA()),2&e&&(p.xp6(3),p.Q6J("ngIf","outline"==o.appearance),p.xp6(1),p.Q6J("ngIf",o._prefixChildren.length),p.xp6(5),p.Q6J("ngIf",o._hasFloatingLabel()),p.xp6(1),p.Q6J("ngIf",o._suffixChildren.length),p.xp6(1),p.Q6J("ngIf","outline"!=o.appearance),p.xp6(1),p.Q6J("ngSwitch",o._getDisplayedMessages()),p.xp6(1),p.Q6J("ngSwitchCase","error"),p.xp6(1),p.Q6J("ngSwitchCase","hint"))},directives:[Yt,ii,Ot,vw],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[SO.transitionMessages]},changeDetection:0}),i})(),U0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[bl,Hr,nm],Hr]}),i})();const PT=Hg({passive:!0});let NT=(()=>{class i{constructor(e,o){this._platform=e,this._ngZone=o,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return lo.E;const o=ua(e),u=this._monitoredElements.get(o);if(u)return u.subject;const c=new Vt.xQ,g="cdk-text-field-autofilled",v=E=>{"cdk-text-field-autofill-start"!==E.animationName||o.classList.contains(g)?"cdk-text-field-autofill-end"===E.animationName&&o.classList.contains(g)&&(o.classList.remove(g),this._ngZone.run(()=>c.next({target:E.target,isAutofilled:!1}))):(o.classList.add(g),this._ngZone.run(()=>c.next({target:E.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{o.addEventListener("animationstart",v,PT),o.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(o,{subject:c,unlisten:()=>{o.removeEventListener("animationstart",v,PT)}}),c}stopMonitoring(e){const o=ua(e),u=this._monitoredElements.get(o);u&&(u.unlisten(),u.subject.complete(),o.classList.remove("cdk-text-field-autofill-monitored"),o.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(o))}ngOnDestroy(){this._monitoredElements.forEach((e,o)=>this.stopMonitoring(o))}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Gn),p.LFG(p.R0b))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(Gn),p.LFG(p.R0b))},token:i,providedIn:"root"}),i})(),PO=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[ic]]}),i})();const NO=new p.OlP("MAT_INPUT_VALUE_ACCESSOR"),ON=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let RN=0;const kN=Dx(class{constructor(i,t,e,o){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=o}});let PN=(()=>{class i extends kN{constructor(e,o,u,c,g,v,E,S,M,k){super(v,c,g,u),this._elementRef=e,this._platform=o,this._autofillMonitor=S,this._formField=k,this._uid="mat-input-"+RN++,this.focused=!1,this.stateChanges=new Vt.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(q=>VE().has(q));const F=this._elementRef.nativeElement,j=F.nodeName.toLowerCase();this._inputValueAccessor=E||F,this._previousNativeValue=this.value,this.id=this.id,o.IOS&&M.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",q=>{const ee=q.target;!ee.value&&0===ee.selectionStart&&0===ee.selectionEnd&&(ee.setSelectionRange(1,1),ee.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===j,this._isTextarea="textarea"===j,this._isInFormField=!!k,this._isNativeSelect&&(this.controlType=F.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=pr(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=pr(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&VE().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=pr(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,o;const u=(null===(o=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===o?void 0:o.call(e))?null:this.placeholder;if(u!==this._previousPlaceholder){const c=this._elementRef.nativeElement;this._previousPlaceholder=u,u?c.setAttribute("placeholder",u):c.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){ON.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,o=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&o&&o.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.SBq),p.Y36(Gn),p.Y36(Xu,10),p.Y36(Kf,8),p.Y36(hy,8),p.Y36(Ym),p.Y36(NO,10),p.Y36(NT),p.Y36(p.R0b),p.Y36(kO,8))},i.\u0275dir=p.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,o){1&e&&p.NdJ("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),2&e&&(p.Ikx("disabled",o.disabled)("required",o.required),p.uIk("id",o.id)("data-placeholder",o.placeholder)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required),p.ekj("mat-input-server",o._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[p._Bn([{provide:B0,useExisting:i}]),p.qOj,p.TTD]}),i})(),FO=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[Ym],imports:[[PO,U0,Hr],PO,U0]}),i})();const LO=["mat-button",""],FT=["*"],LT=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],VO=$m(Xb(SD(class{constructor(i){this._elementRef=i}})));let vy=(()=>{class i extends VO{constructor(e,o,u){super(e),this._focusMonitor=o,this._animationMode=u,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of LT)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,o){e?this._focusMonitor.focusVia(this._getHostElement(),e,o):this._getHostElement().focus(o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(o=>this._getHostElement().hasAttribute(o))}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.SBq),p.Y36(er),p.Y36(ma,8))},i.\u0275cmp=p.Xpm({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,o){if(1&e&&p.Gf(Cs,5),2&e){let u;p.iGM(u=p.CRH())&&(o.ripple=u.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,o){2&e&&(p.uIk("disabled",o.disabled||null),p.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[p.qOj],attrs:LO,ngContentSelectors:FT,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,o){1&e&&(p.F$t(),p.TgZ(0,"span",0),p.Hsn(1),p.qZA(),p._UZ(2,"span",1),p._UZ(3,"span",2)),2&e&&(p.xp6(2),p.ekj("mat-button-ripple-round",o.isRoundButton||o.isIconButton),p.Q6J("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[Cs],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),BT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[n0,Hr],Hr]}),i})(),UT=(()=>{class i{constructor(e,o){this.dialogRef=e,this.taskdata=o}onNoClick(){this.dialogRef.close()}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(Xh),p.Y36(Ec))},i.\u0275cmp=p.Xpm({type:i,selectors:[["app-addtask"]],decls:20,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["newTask","ngForm"],["appearance","fill",1,"form-group"],["matInput","","id","name","name","name","type","text","required","",3,"ngModel","ngModelChange"],["matInput","","id","description","name","description","type","text",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","",3,"mat-dialog-close","disabled"]],template:function(e,o){if(1&e&&(p.TgZ(0,"h1",0),p._uU(1,"Please add your Task"),p.qZA(),p.TgZ(2,"div",1),p.TgZ(3,"p"),p._uU(4,"Next To-Do"),p.qZA(),p.TgZ(5,"form",null,2),p.TgZ(7,"mat-form-field",3),p.TgZ(8,"mat-label"),p._uU(9,"Name here..."),p.qZA(),p.TgZ(10,"input",4),p.NdJ("ngModelChange",function(c){return o.taskdata.name=c}),p.qZA(),p.qZA(),p.TgZ(11,"mat-form-field",3),p.TgZ(12,"mat-label"),p._uU(13,"Description here..."),p.qZA(),p.TgZ(14,"input",5),p.NdJ("ngModelChange",function(c){return o.taskdata.description=c}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(15,"div",6),p.TgZ(16,"button",7),p.NdJ("click",function(){return o.onNoClick()}),p._uU(17,"No Thanks"),p.qZA(),p.TgZ(18,"button",8),p._uU(19,"Add "),p.qZA(),p.qZA()),2&e){const u=p.MAs(6);p.xp6(10),p.Q6J("ngModel",o.taskdata.name),p.xp6(4),p.Q6J("ngModel",o.taskdata.description),p.xp6(4),p.Q6J("mat-dialog-close",o.taskdata)("disabled",!u.form.valid)}},directives:[u0,l0,aT,eT,Kf,AN,kT,PN,nd,gy,p0,Qf,Gx,vy,PD],styles:[".mat-dialog-container{border-radius:10px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-dialog-actions[_ngcontent-%COMP%]{justify-content:space-around}"]}),i})();var by=Y(2329);let NN=(()=>{class i{constructor(e,o=!0){this.confomrdialogRef=e,this.eraseAll=o}ngOnInit(){}eraseAllFunction(){}onNoClick(){this.confomrdialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(Xh),p.Y36(Ec))},i.\u0275cmp=p.Xpm({type:i,selectors:[["app-conform-clear"]],decls:7,vars:1,consts:[["align","end"],["mat-button","","mat-dialog-close","",3,"click"],["mat-button","",3,"mat-dialog-close"]],template:function(e,o){1&e&&(p.TgZ(0,"h3"),p._uU(1," Are you sure, you want to erase everything\n"),p.qZA(),p.TgZ(2,"mat-dialog-actions",0),p.TgZ(3,"button",1),p.NdJ("click",function(){return o.onNoClick()}),p._uU(4,"Cancel"),p.qZA(),p.TgZ(5,"button",2),p._uU(6,"Erase all"),p.qZA(),p.qZA()),2&e&&(p.xp6(5),p.Q6J("mat-dialog-close",o.eraseAll))},directives:[Gx,vy,PD],styles:[".mat-dialog-container{border-radius:10px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-dialog-actions[_ngcontent-%COMP%]{justify-content:space-around}"]}),i})();var j0=Y(8819);class jT{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new FN(t,this.observables,this.project))}}class FN extends Hd{constructor(t,e,o){super(t),this.observables=e,this.project=o,this.toRespond=[];const u=e.length;this.values=new Array(u);for(let c=0;c<u;c++)this.toRespond.push(c);for(let c=0;c<u;c++)this.add(sg(this,e[c],void 0,c))}notifyNext(t,e,o){this.values[o]=e;const u=this.toRespond;if(u.length>0){const c=u.indexOf(o);-1!==c&&u.splice(c,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}class VN{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new BO(t,this.predicate))}}class BO extends Yr.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var Mn=Y(57);Y(9192),Y(9673);const tl=new p.OlP("angularfire2.auth.use-emulator");function WT(i){return null==i}function ld(i){return"function"==typeof i.set}function YT(i,t){return ld(t)?t:i.ref(t)}function KT(i,t){if(function(i){return"string"==typeof i}(i))return t.stringCase();if(ld(i))return t.firebaseCase();if(function(i){return"function"==typeof i.exportVal}(i))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function tp(i,t,e="on",o=Oh.z){return new Hn.y(u=>{let c=null;return c=i[e](t,(g,v)=>{o.schedule(()=>{u.next({snapshot:g,prevKey:v})}),"once"===e&&o.schedule(()=>u.complete())},g=>{o.schedule(()=>u.error(g))}),"on"===e?{unsubscribe(){null!=c&&i.off(t,c)}}:{unsubscribe(){}}}).pipe((0,ft.U)(u=>{const{snapshot:c,prevKey:g}=u;let v=null;return c.exists()&&(v=c.key),{type:t,payload:c,prevKey:g,key:v}}),(0,j0.B)())}function QT(i,t){const e=i.length;for(let o=0;o<e;o++)if(i[o].payload.key===t)return o;return-1}function GO(i,t){const{payload:e,prevKey:o,key:u}=t,c=QT(i,u),g=function(i,t){if(WT(t))return 0;{const e=QT(i,t);return-1===e?i.length:e+1}}(i,o);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let v=null;t.payload.forEach(E=>{const S={payload:E,type:"value",prevKey:v,key:E.key};return v=E.key,i=[...i,S],!1})}return i;case"child_added":if(c>-1){const v=i[c-1];(v&&v.key||null)!==o&&(i=i.filter(E=>E.payload.key!==e.key)).splice(g,0,t)}else{if(null==o)return[t,...i];(i=i.slice()).splice(g,0,t)}return i;case"child_removed":return i.filter(v=>v.payload.key!==e.key);case"child_changed":return i.map(v=>v.payload.key===u?t:v);case"child_moved":if(c>-1){const v=i.splice(c,1)[0];return(i=i.slice()).splice(g,0,v),i}return i;default:return i}}function Ey(i){return(WT(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function ZT(i,t,e){return function(i,t,e){return tp(i,"value","once",e).pipe(hr(o=>{const u=[(0,ot.of)(o)];return t.forEach(c=>u.push(tp(i,c,"on",e))),(0,Hu.T)(...u).pipe(Ma(GO,[]))}),xh())}(i,t=Ey(t),e)}function JT(i,t,e){const o=(t=Ey(t)).map(u=>tp(i,u,"on",e));return(0,Hu.T)(...o)}function tS(i,t){return function(o,u){return KT(o,{stringCase:()=>i.child(o)[t](u),firebaseCase:()=>o[t](u),snapshotCase:()=>o.ref[t](u)})}}function nS(i){return function(e){return e?KT(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function iS(i,t){return function(){return tp(i,"value","on",t)}}const wy=new p.OlP("angularfire2.realtimeDatabaseURL"),q0=new p.OlP("angularfire2.database.use-emulator");let $0=(()=>{class i{constructor(e,o,u,c,g,v,E){this.schedulers=new Mn.HU(g),this.keepUnstableUntilFirst=(0,Mn.ss)(this.schedulers);const S=v,M=(0,Mn.on)(e,g,o);!by.Z.auth&&E&&(0,Mn.yq)(),this.database=(0,Mn.sI)(`${M.name}.database.${u}`,"AngularFireDatabase",M,()=>{const k=g.runOutsideAngular(()=>M.database(u||void 0));return S&&k.useEmulator(...S),k},[S])}list(e,o){const u=this.schedulers.ngZone.runOutsideAngular(()=>YT(this.database,e));let c=u;return o&&(c=o(u)),function(i,t){const e=t.schedulers.outsideAngular,o=t.schedulers.ngZone.run(()=>i.ref);return{query:i,update:tS(o,"update"),set:tS(o,"set"),push:u=>o.push(u),remove:nS(o),snapshotChanges:u=>ZT(i,u,e).pipe(t.keepUnstableUntilFirst),stateChanges:u=>JT(i,u,e).pipe(t.keepUnstableUntilFirst),auditTrail:u=>function(i,t,e){return function(i,t,e){return function(i,t){return tp(i,"value","on",t).pipe((0,ft.U)(e=>{let o;return e.payload.forEach(u=>(o=u.key,!1)),{data:e,lastKeyToLoad:o}}))}(i,e).pipe(function(...i){return t=>{let e;return"function"==typeof i[i.length-1]&&(e=i.pop()),t.lift(new jT(i,e))}}(t),(0,ft.U)(([u,c])=>{const g=u.lastKeyToLoad,v=c.map(E=>E.key);return{actions:c,lastKeyToLoad:g,loadedKeys:v}}),function(i){return t=>t.lift(new VN(i))}(u=>-1===u.loadedKeys.indexOf(u.lastKeyToLoad)),(0,ft.U)(u=>u.actions))}(i,JT(i,t).pipe(Ma((u,c)=>[...u,c],[])),e)}(i,u,e).pipe(t.keepUnstableUntilFirst),valueChanges:(u,c)=>ZT(i,u,e).pipe((0,ft.U)(v=>v.map(E=>c&&c.idField?Object.assign(Object.assign({},E.payload.val()),{[c.idField]:E.key}):E.payload.val())),t.keepUnstableUntilFirst)}}(c,this)}object(e){return function(i,t){return{query:i,snapshotChanges:()=>iS(i,t.schedulers.outsideAngular)().pipe(t.keepUnstableUntilFirst),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>iS(i,t.schedulers.outsideAngular)().pipe(t.keepUnstableUntilFirst,(0,ft.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>YT(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Mn.Dh),p.LFG(Mn.xv,8),p.LFG(wy,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(q0,8),p.LFG(tl,8))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(Mn.Dh),p.LFG(Mn.xv,8),p.LFG(wy,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(q0,8),p.LFG(tl,8))},token:i,providedIn:"any"}),i})(),W0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[$0]}),i})();const qO=["input"],ws=function(i){return{enterDuration:i}},$O=["*"],GN=new p.OlP("mat-checkbox-default-options",{providedIn:"root",factory:oS});function oS(){return{color:"accent",clickAction:"check-indeterminate"}}let zN=0;const sS=oS(),WO={provide:_a,useExisting:(0,p.Gpc)(()=>aS),multi:!0};class YO{}const qN=wx($m(SD(Xb(class{constructor(i){this._elementRef=i}}))));let aS=(()=>{class i extends qN{constructor(e,o,u,c,g,v,E){super(e),this._changeDetectorRef=o,this._focusMonitor=u,this._ngZone=c,this._animationMode=v,this._options=E,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++zN,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new p.vpe,this.indeterminateChange=new p.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||sS,this.color=this.defaultColor=this._options.color||sS.color,this.tabIndex=parseInt(g)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=pr(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const o=pr(e);o!==this.disabled&&(this._disabled=o,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const o=e!=this._indeterminate;this._indeterminate=pr(e),o&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let o=this._currentCheckState,u=this._elementRef.nativeElement;if(o!==e&&(this._currentAnimationClass.length>0&&u.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(o,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){u.classList.add(this._currentAnimationClass);const c=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{u.classList.remove(c)},1e3)})}}_emitChangeEvent(){const e=new YO;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(e){var o;const u=null===(o=this._options)||void 0===o?void 0:o.clickAction;e.stopPropagation(),this.disabled||"noop"===u?!this.disabled&&"noop"===u&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==u&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,o){e?this._focusMonitor.focusVia(this._inputElement,e,o):this._inputElement.nativeElement.focus(o)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,o){if("NoopAnimations"===this._animationMode)return"";let u="";switch(e){case 0:if(1===o)u="unchecked-checked";else{if(3!=o)return"";u="unchecked-indeterminate"}break;case 2:u=1===o?"unchecked-checked":"unchecked-indeterminate";break;case 1:u=2===o?"checked-unchecked":"checked-indeterminate";break;case 3:u=1===o?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${u}`}_syncIndeterminate(e){const o=this._inputElement;o&&(o.nativeElement.indeterminate=e)}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.SBq),p.Y36(p.sBO),p.Y36(er),p.Y36(p.R0b),p.$8M("tabindex"),p.Y36(ma,8),p.Y36(GN,8))},i.\u0275cmp=p.Xpm({type:i,selectors:[["mat-checkbox"]],viewQuery:function(e,o){if(1&e&&(p.Gf(qO,5),p.Gf(Cs,5)),2&e){let u;p.iGM(u=p.CRH())&&(o._inputElement=u.first),p.iGM(u=p.CRH())&&(o.ripple=u.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,o){2&e&&(p.Ikx("id",o.id),p.uIk("tabindex",null),p.ekj("mat-checkbox-indeterminate",o.indeterminate)("mat-checkbox-checked",o.checked)("mat-checkbox-disabled",o.disabled)("mat-checkbox-label-before","before"==o.labelPosition)("_mat-animation-noopable","NoopAnimations"===o._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[p._Bn([WO]),p.qOj],ngContentSelectors:$O,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,o){if(1&e&&(p.F$t(),p.TgZ(0,"label",0,1),p.TgZ(2,"span",2),p.TgZ(3,"input",3,4),p.NdJ("change",function(c){return o._onInteractionEvent(c)})("click",function(c){return o._onInputClick(c)}),p.qZA(),p.TgZ(5,"span",5),p._UZ(6,"span",6),p.qZA(),p._UZ(7,"span",7),p.TgZ(8,"span",8),p.O4$(),p.TgZ(9,"svg",9),p._UZ(10,"path",10),p.qZA(),p.kcU(),p._UZ(11,"span",11),p.qZA(),p.qZA(),p.TgZ(12,"span",12,13),p.NdJ("cdkObserveContent",function(){return o._onLabelTextChange()}),p.TgZ(14,"span",14),p._uU(15,"\xa0"),p.qZA(),p.Hsn(16),p.qZA(),p.qZA()),2&e){const u=p.MAs(1),c=p.MAs(13);p.uIk("for",o.inputId),p.xp6(2),p.ekj("mat-checkbox-inner-container-no-side-margin",!c.textContent||!c.textContent.trim()),p.xp6(1),p.Q6J("id",o.inputId)("required",o.required)("checked",o.checked)("disabled",o.disabled)("tabIndex",o.tabIndex),p.uIk("value",o.value)("name",o.name)("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby)("aria-checked",o._getAriaChecked())("aria-describedby",o.ariaDescribedby),p.xp6(2),p.Q6J("matRippleTrigger",u)("matRippleDisabled",o._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",p.VKq(19,ws,"NoopAnimations"===o._animationMode?0:150))}},directives:[Cs,vw],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),i})(),lS=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({}),i})(),Y0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[n0,Hr,nm,lS],Hr,lS]}),i})();var Ay,Dc=[],K0="ResizeObserver loop completed with undelivered notifications.",cd=(()=>{return(i=cd||(cd={})).BORDER_BOX="border-box",i.CONTENT_BOX="content-box",i.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box",cd;var i})(),nl=function(i){return Object.freeze(i)},np=function(t,e){this.inlineSize=t,this.blockSize=e,nl(this)},Dy=function(){function i(t,e,o,u){return this.x=t,this.y=e,this.width=o,this.height=u,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,nl(this)}return i.prototype.toJSON=function(){var t=this;return{x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},i.fromRect=function(t){return new i(t.x,t.y,t.width,t.height)},i}(),Ty=function(i){return i instanceof SVGElement&&"getBBox"in i},hS=function(i){if(Ty(i)){var t=i.getBBox();return!t.width&&!t.height}return!(i.offsetWidth||i.offsetHeight||i.getClientRects().length)},dS=function(i){var t,e;if(i instanceof Element)return!0;var o=null===(e=null===(t=i)||void 0===t?void 0:t.ownerDocument)||void 0===e?void 0:e.defaultView;return!!(o&&i instanceof o.Element)},Sy="undefined"!=typeof window?window:{},Q0=new WeakMap,Z0=/auto|scroll/,fS=/^tb|vertical/,ZO=/msie|trident/i.test(Sy.navigator&&Sy.navigator.userAgent),va=function(i){return parseFloat(i||"0")},hd=function(i,t,e){return void 0===i&&(i=0),void 0===t&&(t=0),void 0===e&&(e=!1),new np((e?t:i)||0,(e?i:t)||0)},pS=nl({devicePixelContentBoxSize:hd(),borderBoxSize:hd(),contentBoxSize:hd(),contentRect:new Dy(0,0,0,0)}),J0=function(i,t){if(void 0===t&&(t=!1),Q0.has(i)&&!t)return Q0.get(i);if(hS(i))return Q0.set(i,pS),pS;var e=getComputedStyle(i),o=Ty(i)&&i.ownerSVGElement&&i.getBBox(),u=!ZO&&"border-box"===e.boxSizing,c=fS.test(e.writingMode||""),g=!o&&Z0.test(e.overflowY||""),v=!o&&Z0.test(e.overflowX||""),E=o?0:va(e.paddingTop),S=o?0:va(e.paddingRight),M=o?0:va(e.paddingBottom),k=o?0:va(e.paddingLeft),F=o?0:va(e.borderTopWidth),j=o?0:va(e.borderRightWidth),q=o?0:va(e.borderBottomWidth),ye=k+S,Se=E+M,Ne=(o?0:va(e.borderLeftWidth))+j,je=F+q,tt=v?i.offsetHeight-je-i.clientHeight:0,nt=g?i.offsetWidth-Ne-i.clientWidth:0,Ht=u?ye+Ne:0,pn=u?Se+je:0,Si=o?o.width:va(e.width)-Ht-nt,ni=o?o.height:va(e.height)-pn-tt,es=Si+ye+nt+Ne,Lp=ni+Se+tt+je,Md=nl({devicePixelContentBoxSize:hd(Math.round(Si*devicePixelRatio),Math.round(ni*devicePixelRatio),c),borderBoxSize:hd(es,Lp,c),contentBoxSize:hd(Si,ni,c),contentRect:new Dy(k,E,Si,ni)});return Q0.set(i,Md),Md},JO=function(i,t,e){var o=J0(i,e),u=o.borderBoxSize,c=o.contentBoxSize,g=o.devicePixelContentBoxSize;switch(t){case cd.DEVICE_PIXEL_CONTENT_BOX:return g;case cd.BORDER_BOX:return u;default:return c}},YN=function(t){var e=J0(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=nl([e.borderBoxSize]),this.contentBoxSize=nl([e.contentBoxSize]),this.devicePixelContentBoxSize=nl([e.devicePixelContentBoxSize])},gS=function(i){if(hS(i))return 1/0;for(var t=0,e=i.parentNode;e;)t+=1,e=e.parentNode;return t},X0=function(){var i=1/0,t=[];Dc.forEach(function(g){if(0!==g.activeTargets.length){var v=[];g.activeTargets.forEach(function(S){var M=new YN(S.target),k=gS(S.target);v.push(M),S.lastReportedSize=JO(S.target,S.observedBox),k<i&&(i=k)}),t.push(function(){g.callback.call(g.observer,v,g.observer)}),g.activeTargets.splice(0,g.activeTargets.length)}});for(var e=0,o=t;e<o.length;e++)(0,o[e])();return i},zr=function(i){Dc.forEach(function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach(function(u){u.isActive()&&(gS(u.target)>i?e.activeTargets.push(u):e.skippedTargets.push(u))})})},eC=[],My=0,yS={attributes:!0,characterData:!0,childList:!0,subtree:!0},xy=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Oy=function(i){return void 0===i&&(i=0),Date.now()+i},tC=!1,nC=new(function(){function i(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return i.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!tC){tC=!0;var o=Oy(t);!function(i){!function(i){if(!Ay){var t=0,e=document.createTextNode("");new MutationObserver(function(){return eC.splice(0).forEach(function(i){return i()})}).observe(e,{characterData:!0}),Ay=function(){e.textContent=""+(t?t--:t++)}}eC.push(i),Ay()}(function(){requestAnimationFrame(i)})}(function(){var u=!1;try{u=function(){var i=0;for(zr(i);Dc.some(function(i){return i.activeTargets.length>0});)i=X0(),zr(i);return Dc.some(function(i){return i.skippedTargets.length>0})&&function(){var i;"function"==typeof ErrorEvent?i=new ErrorEvent("error",{message:K0}):((i=document.createEvent("Event")).initEvent("error",!1,!1),i.message=K0),window.dispatchEvent(i)}(),i>0}()}finally{if(tC=!1,t=o-Oy(),!My)return;u?e.run(1e3):t>0?e.run(t):e.start()}})}},i.prototype.schedule=function(){this.stop(),this.run()},i.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,yS)};document.body?e():Sy.addEventListener("DOMContentLoaded",e)},i.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),xy.forEach(function(e){return Sy.addEventListener(e,t.listener,!0)}))},i.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),xy.forEach(function(e){return Sy.removeEventListener(e,t.listener,!0)}),this.stopped=!0)},i}()),ky=function(i){!My&&i>0&&nC.start(),!(My+=i)&&nC.stop()},Zr=function(){function i(t,e){this.target=t,this.observedBox=e||cd.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return i.prototype.isActive=function(){var t=JO(this.target,this.observedBox,!0);return function(i){return!Ty(i)&&!function(i){switch(i.tagName){case"INPUT":if("image"!==i.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(i)&&"inline"===getComputedStyle(i).display}(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},i}(),QN=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e},Py=new WeakMap,vS=function(i,t){for(var e=0;e<i.length;e+=1)if(i[e].target===t)return e;return-1},rC=function(){function i(){}return i.connect=function(t,e){var o=new QN(t,e);Py.set(t,o)},i.observe=function(t,e,o){var u=Py.get(t),c=0===u.observationTargets.length;vS(u.observationTargets,e)<0&&(c&&Dc.push(u),u.observationTargets.push(new Zr(e,o&&o.box)),ky(1),nC.schedule())},i.unobserve=function(t,e){var o=Py.get(t),u=vS(o.observationTargets,e);u>=0&&(1===o.observationTargets.length&&Dc.splice(Dc.indexOf(o),1),o.observationTargets.splice(u,1),ky(-1))},i.disconnect=function(t){var e=this,o=Py.get(t);o.observationTargets.slice().forEach(function(u){return e.unobserve(t,u.target)}),o.activeTargets.splice(0,o.activeTargets.length)},i}();let bS=function(){function i(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");rC.connect(this,t)}return i.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!dS(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");rC.observe(this,t,e)},i.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!dS(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");rC.unobserve(this,t)},i.prototype.disconnect=function(){rC.disconnect(this)},i.toString=function(){return"function ResizeObserver () { [polyfill code] }"},i}(),ZN=(()=>{class i{constructor(e,o,u,c){this.elementRef=e,this.renderer=o,this.ngZone=u,this.platformId=c,this.removeResizeListeners$=new Vt.xQ,this.ellipsisContent=null,this.moreClickEmitter=new p.vpe,this.changeEmitter=new p.vpe}static numericBinarySearch(e,o){let v,u=0,c=e,g=-1;for(;u<=c;)v=~~((u+c)/2),o(v)?(g=v,u=v+1):c=v-1;return g}static convertEllipsisInputToString(e){return null==e?"":String(e)}ngAfterViewInit(){if(!Cl(this.platformId))return;null!=window.ResizeObserver&&(bS=window.ResizeObserver),""===this.ellipsisCharacters&&(this.ellipsisCharacters="..."),this.moreAnchor=this.renderer.createElement("a"),this.moreAnchor.className="ngx-ellipsis-more",this.moreAnchor.href="#",this.moreAnchor.textContent=this.ellipsisCharacters,this.ellipsisWordBoundaries||(this.ellipsisWordBoundaries=""),this.ellipsisWordBoundaries="["+this.ellipsisWordBoundaries.replace(/\\n/,"\n").replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"]",this.ellipsisSubstrFn||(this.ellipsisSubstrFn=(o,u,c)=>o.substr(u,c)),this.elem=this.elementRef.nativeElement,null!=this.ellipsisContent?this.originalText=i.convertEllipsisInputToString(this.ellipsisContent):this.originalText||(this.originalText=this.elem.textContent.trim()),this.renderer.setProperty(this.elem,"innerHTML",""),this.innerElem=this.renderer.createElement("div"),this.renderer.addClass(this.innerElem,"ngx-ellipsis-inner");const e=this.renderer.createText(this.originalText);this.renderer.appendChild(this.innerElem,e),this.renderer.appendChild(this.elem,this.innerElem),this.previousDimensions={width:this.elem.clientWidth,height:this.elem.clientHeight},this.addResizeListener(!0)}ngOnChanges(e){const o=this.moreAnchor&&e.ellipsisCharacters;o&&(this.moreAnchor.textContent=this.ellipsisCharacters),this.elem&&void 0!==this.ellipsisContent&&(this.originalText!==i.convertEllipsisInputToString(this.ellipsisContent)||o)&&(this.originalText=i.convertEllipsisInputToString(this.ellipsisContent),this.applyEllipsis())}ngOnDestroy(){Cl(this.platformId)&&this.removeAllListeners()}removeAllListeners(){this.destroyMoreClickListener&&this.destroyMoreClickListener(),this.removeResizeListeners$.next(),this.removeResizeListeners$.complete()}addResizeListener(e=!1){switch(void 0===this.resizeDetectionStrategy&&(this.resizeDetectionStrategy=""),this.resizeDetectionStrategy){case"manual":break;case"window":this.addWindowResizeListener();break;default:"undefined"!=typeof console&&console.warn(`No such ellipsis-resize-detection strategy: '${this.resizeDetectionStrategy}'. Using 'resize-observer' instead`);case"resize-observer":case"":this.addElementResizeListener()}e&&"manual"!==this.resizeDetectionStrategy&&this.applyEllipsis()}addWindowResizeListener(){const e=this.renderer.listen("window","resize",()=>{this.ngZone.run(()=>{this.applyEllipsis()})});this.removeResizeListeners$.pipe(Ni(1)).subscribe(()=>e())}addElementResizeListener(){const e=new bS(()=>{window.requestAnimationFrame(()=>{(this.previousDimensions.width!==this.elem.clientWidth||this.previousDimensions.height!==this.elem.clientHeight)&&(this.ngZone.run(()=>{this.applyEllipsis()}),this.previousDimensions.width=this.elem.clientWidth,this.previousDimensions.height=this.elem.clientHeight)})});e.observe(this.elem),this.removeResizeListeners$.pipe(Ni(1)).subscribe(()=>e.disconnect())}getTruncatedText(e){if(!this.originalText||this.originalText.length<=e)return this.originalText;const o=this.ellipsisSubstrFn(this.originalText,0,e);if("[]"===this.ellipsisWordBoundaries||this.originalText.charAt(e).match(this.ellipsisWordBoundaries))return o;let u=e-1;for(;u>0&&!o.charAt(u).match(this.ellipsisWordBoundaries);)u--;return this.ellipsisSubstrFn(o,0,u)}truncateText(e,o=!1){let u=this.getTruncatedText(e);const c=u.length,g=c!==this.originalText.length;return g&&!this.showMoreLink&&(u+=this.ellipsisCharacters),this.renderer.setProperty(this.innerElem,"textContent",u),g&&this.showMoreLink&&this.renderer.appendChild(this.innerElem,this.moreAnchor),this.destroyMoreClickListener&&(this.destroyMoreClickListener(),this.destroyMoreClickListener=null),o&&g&&(this.destroyMoreClickListener=this.renderer.listen(this.moreAnchor,"click",v=>{!v.target||!v.target.classList.contains("ngx-ellipsis-more")||(v.preventDefault(),this.moreClickEmitter.emit(v))})),c}applyEllipsis(){this.removeResizeListeners$.next();const e=i.numericBinarySearch(this.originalText.length,u=>(this.truncateText(u),!this.isOverflowing)),o=this.truncateText(e,this.showMoreLink);this.addResizeListener(),this.changeEmitter.observers.length>0&&this.changeEmitter.emit(this.originalText.length===o?null:o)}get isOverflowing(){const e=this.elem.style.overflow;(!e||"visible"===e)&&(this.elem.style.overflow="hidden");const o=this.elem.clientWidth<this.elem.scrollWidth-1||this.elem.clientHeight<this.elem.scrollHeight-1;return this.elem.style.overflow=e,o}get showMoreLink(){return this.moreClickEmitter.observers.length>0}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.R0b),p.Y36(p.Lbi))},i.\u0275dir=p.lG2({type:i,selectors:[["","ellipsis",""]],inputs:{ellipsisContent:["ellipsis-content","ellipsisContent"],ellipsisCharacters:["ellipsis","ellipsisCharacters"],ellipsisWordBoundaries:["ellipsis-word-boundaries","ellipsisWordBoundaries"],ellipsisSubstrFn:["ellipsis-substr-fn","ellipsisSubstrFn"],resizeDetectionStrategy:["ellipsis-resize-detection","resizeDetectionStrategy"]},outputs:{moreClickEmitter:"ellipsis-click-more",changeEmitter:"ellipsis-change"},exportAs:["ellipsis"],features:[p.TTD]}),i})(),JN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[]]}),i})();var XN=Y(205);class CS{}class ES{}class iu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const u=e.slice(0,o),c=u.toLowerCase(),g=e.slice(o+1).trim();this.maybeSetNormalizedName(u,c),this.headers.has(c)?this.headers.get(c).push(g):this.headers.set(c,[g])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let o=t[e];const u=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(u,o),this.maybeSetNormalizedName(e,u))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof iu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new iu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof iu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(t.name,e);const u=("a"===t.op?this.headers.get(e):void 0)||[];u.push(...o),this.headers.set(e,u);break;case"d":const c=t.value;if(c){let g=this.headers.get(e);if(!g)return;g=g.filter(v=>-1===c.indexOf(v)),0===g.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,g)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class tR{encodeKey(t){return rR(t)}encodeValue(t){return rR(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function rR(i){return encodeURIComponent(i).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function wS(i){return`${i}`}class rl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new tR,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(u=>{const c=u.indexOf("="),[g,v]=-1==c?[t.decodeKey(u),""]:[t.decodeKey(u.slice(0,c)),t.decodeValue(u.slice(c+1))],E=e.get(g)||[];E.push(v),e.set(g,E)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const o=t.fromObject[e];this.map.set(e,Array.isArray(o)?o:[o])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(o=>{const u=t[o];Array.isArray(u)?u.forEach(c=>{e.push({param:o,value:c,op:"a"})}):e.push({param:o,value:u,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new rl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(wS(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let o=this.map.get(t.param)||[];const u=o.indexOf(wS(t.value));-1!==u&&o.splice(u,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class tF{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function DS(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function TS(i){return"undefined"!=typeof Blob&&i instanceof Blob}function SS(i){return"undefined"!=typeof FormData&&i instanceof FormData}class rp{constructor(t,e,o,u){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||u?(this.body=void 0!==o?o:null,c=u):c=o,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new iu),this.context||(this.context=new tF),this.params){const g=this.params.toString();if(0===g.length)this.urlWithParams=e;else{const v=e.indexOf("?");this.urlWithParams=e+(-1===v?"?":v<e.length-1?"&":"")+g}}else this.params=new rl,this.urlWithParams=e}serializeBody(){return null===this.body?null:DS(this.body)||TS(this.body)||SS(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof rl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||SS(this.body)?null:TS(this.body)?this.body.type||null:DS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const o=t.method||this.method,u=t.url||this.url,c=t.responseType||this.responseType,g=void 0!==t.body?t.body:this.body,v=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,E=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let S=t.headers||this.headers,M=t.params||this.params;const k=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(S=Object.keys(t.setHeaders).reduce((F,j)=>F.set(j,t.setHeaders[j]),S)),t.setParams&&(M=Object.keys(t.setParams).reduce((F,j)=>F.set(j,t.setParams[j]),M)),new rp(o,u,g,{params:M,headers:S,context:k,reportProgress:E,responseType:c,withCredentials:v})}}var Tn=(()=>((Tn=Tn||{})[Tn.Sent=0]="Sent",Tn[Tn.UploadProgress=1]="UploadProgress",Tn[Tn.ResponseHeader=2]="ResponseHeader",Tn[Tn.DownloadProgress=3]="DownloadProgress",Tn[Tn.Response=4]="Response",Tn[Tn.User=5]="User",Tn))();class iC{constructor(t,e=200,o="OK"){this.headers=t.headers||new iu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class oC extends iC{constructor(t={}){super(t),this.type=Tn.ResponseHeader}clone(t={}){return new oC({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Fy extends iC{constructor(t={}){super(t),this.type=Tn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Fy({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class AS extends iC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function IS(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let Ly=(()=>{class i{constructor(e){this.handler=e}request(e,o,u={}){let c;if(e instanceof rp)c=e;else{let E,S;E=u.headers instanceof iu?u.headers:new iu(u.headers),u.params&&(S=u.params instanceof rl?u.params:new rl({fromObject:u.params})),c=new rp(e,o,void 0!==u.body?u.body:null,{headers:E,context:u.context,params:S,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials})}const g=(0,ot.of)(c).pipe(wu(E=>this.handler.handle(E)));if(e instanceof rp||"events"===u.observe)return g;const v=g.pipe(ui(E=>E instanceof Fy));switch(u.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return v.pipe((0,ft.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return v.pipe((0,ft.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return v.pipe((0,ft.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));case"json":default:return v.pipe((0,ft.U)(E=>E.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new rl).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,u={}){return this.request("PATCH",e,IS(u,o))}post(e,o,u={}){return this.request("POST",e,IS(u,o))}put(e,o,u={}){return this.request("PUT",e,IS(u,o))}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(CS))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();class MS{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const xS=new p.OlP("HTTP_INTERCEPTORS");let ip=(()=>{class i{intercept(e,o){return o.handle(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const sR=/^\)\]\}',?\n/;let RS=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Hn.y(o=>{const u=this.xhrFactory.build();if(u.open(e.method,e.urlWithParams),e.withCredentials&&(u.withCredentials=!0),e.headers.forEach((j,q)=>u.setRequestHeader(j,q.join(","))),e.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const j=e.detectContentTypeHeader();null!==j&&u.setRequestHeader("Content-Type",j)}if(e.responseType){const j=e.responseType.toLowerCase();u.responseType="json"!==j?j:"text"}const c=e.serializeBody();let g=null;const v=()=>{if(null!==g)return g;const j=1223===u.status?204:u.status,q=u.statusText||"OK",ee=new iu(u.getAllResponseHeaders()),ye=function(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(u)||e.url;return g=new oC({headers:ee,status:j,statusText:q,url:ye}),g},E=()=>{let{headers:j,status:q,statusText:ee,url:ye}=v(),Se=null;204!==q&&(Se=void 0===u.response?u.responseText:u.response),0===q&&(q=Se?200:0);let Ne=q>=200&&q<300;if("json"===e.responseType&&"string"==typeof Se){const je=Se;Se=Se.replace(sR,"");try{Se=""!==Se?JSON.parse(Se):null}catch(tt){Se=je,Ne&&(Ne=!1,Se={error:tt,text:Se})}}Ne?(o.next(new Fy({body:Se,headers:j,status:q,statusText:ee,url:ye||void 0})),o.complete()):o.error(new AS({error:Se,headers:j,status:q,statusText:ee,url:ye||void 0}))},S=j=>{const{url:q}=v(),ee=new AS({error:j,status:u.status||0,statusText:u.statusText||"Unknown Error",url:q||void 0});o.error(ee)};let M=!1;const k=j=>{M||(o.next(v()),M=!0);let q={type:Tn.DownloadProgress,loaded:j.loaded};j.lengthComputable&&(q.total=j.total),"text"===e.responseType&&!!u.responseText&&(q.partialText=u.responseText),o.next(q)},F=j=>{let q={type:Tn.UploadProgress,loaded:j.loaded};j.lengthComputable&&(q.total=j.total),o.next(q)};return u.addEventListener("load",E),u.addEventListener("error",S),u.addEventListener("timeout",S),u.addEventListener("abort",S),e.reportProgress&&(u.addEventListener("progress",k),null!==c&&u.upload&&u.upload.addEventListener("progress",F)),u.send(c),o.next({type:Tn.Sent}),()=>{u.removeEventListener("error",S),u.removeEventListener("abort",S),u.removeEventListener("load",E),u.removeEventListener("timeout",S),e.reportProgress&&(u.removeEventListener("progress",k),null!==c&&u.upload&&u.upload.removeEventListener("progress",F)),u.readyState!==u.DONE&&u.abort()}})}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(pu))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const kS=new p.OlP("XSRF_COOKIE_NAME"),sC=new p.OlP("XSRF_HEADER_NAME");class PS{}let uR=(()=>{class i{constructor(e,o,u){this.doc=e,this.platform=o,this.cookieName=u,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kn(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(pe),p.LFG(p.Lbi),p.LFG(kS))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),Co=(()=>{class i{constructor(e,o){this.tokenService=e,this.headerName=o}intercept(e,o){const u=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||u.startsWith("http://")||u.startsWith("https://"))return o.handle(e);const c=this.tokenService.getToken();return null!==c&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,c)})),o.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(PS),p.LFG(sC))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),iF=(()=>{class i{constructor(e,o){this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=this.injector.get(xS,[]);this.chain=o.reduceRight((u,c)=>new MS(u,c),this.backend)}return this.chain.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(ES),p.LFG(p.zs3))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),NS=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:Co,useClass:ip}]}}static withOptions(e={}){return{ngModule:i,providers:[e.cookieName?{provide:kS,useValue:e.cookieName}:[],e.headerName?{provide:sC,useValue:e.headerName}:[]]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[Co,{provide:xS,useExisting:Co,multi:!0},{provide:PS,useClass:uR},{provide:kS,useValue:"XSRF-TOKEN"},{provide:sC,useValue:"X-XSRF-TOKEN"}]}),i})(),FS=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[Ly,{provide:CS,useClass:iF},RS,{provide:ES,useExisting:RS}],imports:[[NS.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})();const aC=["*"];function Vy(i){return Error(`Unable to find icon with the name "${i}"`)}function op(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function uC(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class il{constructor(t,e,o){this.url=t,this.svgText=e,this.options=o}}let Uy=(()=>{class i{constructor(e,o,u,c){this._httpClient=e,this._sanitizer=o,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=u}addSvgIcon(e,o,u){return this.addSvgIconInNamespace("",e,o,u)}addSvgIconLiteral(e,o,u){return this.addSvgIconLiteralInNamespace("",e,o,u)}addSvgIconInNamespace(e,o,u,c){return this._addSvgIconConfig(e,o,new il(u,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,o,u,c){const g=this._sanitizer.sanitize(p.q3G.HTML,u);if(!g)throw uC(u);return this._addSvgIconConfig(e,o,new il("",g,c))}addSvgIconSet(e,o){return this.addSvgIconSetInNamespace("",e,o)}addSvgIconSetLiteral(e,o){return this.addSvgIconSetLiteralInNamespace("",e,o)}addSvgIconSetInNamespace(e,o,u){return this._addSvgIconSetConfig(e,new il(o,null,u))}addSvgIconSetLiteralInNamespace(e,o,u){const c=this._sanitizer.sanitize(p.q3G.HTML,o);if(!c)throw uC(o);return this._addSvgIconSetConfig(e,new il("",c,u))}registerFontClassAlias(e,o=e){return this._fontCssClassesByAlias.set(e,o),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const o=this._sanitizer.sanitize(p.q3G.RESOURCE_URL,e);if(!o)throw op(e);const u=this._cachedIconsByUrl.get(o);return u?(0,ot.of)(jy(u)):this._loadSvgIconFromConfig(new il(e,null)).pipe((0,$n.b)(c=>this._cachedIconsByUrl.set(o,c)),(0,ft.U)(c=>jy(c)))}getNamedSvgIcon(e,o=""){const u=VS(o,e);let c=this._svgIconConfigs.get(u);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(o,e),c)return this._svgIconConfigs.set(u,c),this._getSvgFromConfig(c);const g=this._iconSetConfigs.get(o);return g?this._getSvgFromIconSetConfigs(e,g):(0,XN._)(Vy(u))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,ot.of)(jy(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ft.U)(o=>jy(o)))}_getSvgFromIconSetConfigs(e,o){const u=this._extractIconWithNameFromAnySet(e,o);return u?(0,ot.of)(u):td(o.filter(g=>!g.svgText).map(g=>this._loadSvgIconSetFromConfig(g).pipe(Ro(v=>{const S=`Loading icon set URL: ${this._sanitizer.sanitize(p.q3G.RESOURCE_URL,g.url)} failed: ${v.message}`;return this._errorHandler.handleError(new Error(S)),(0,ot.of)(null)})))).pipe((0,ft.U)(()=>{const g=this._extractIconWithNameFromAnySet(e,o);if(!g)throw Vy(e);return g}))}_extractIconWithNameFromAnySet(e,o){for(let u=o.length-1;u>=0;u--){const c=o[u];if(c.svgText&&c.svgText.indexOf(e)>-1){const g=this._svgElementFromConfig(c),v=this._extractSvgIconFromSet(g,e,c.options);if(v)return v}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,$n.b)(o=>e.svgText=o),(0,ft.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,ot.of)(null):this._fetchIcon(e).pipe((0,$n.b)(o=>e.svgText=o))}_extractSvgIconFromSet(e,o,u){const c=e.querySelector(`[id="${o}"]`);if(!c)return null;const g=c.cloneNode(!0);if(g.removeAttribute("id"),"svg"===g.nodeName.toLowerCase())return this._setSvgAttributes(g,u);if("symbol"===g.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(g),u);const v=this._svgElementFromString("<svg></svg>");return v.appendChild(g),this._setSvgAttributes(v,u)}_svgElementFromString(e){const o=this._document.createElement("DIV");o.innerHTML=e;const u=o.querySelector("svg");if(!u)throw Error("<svg> tag not found");return u}_toSvgElement(e){const o=this._svgElementFromString("<svg></svg>"),u=e.attributes;for(let c=0;c<u.length;c++){const{name:g,value:v}=u[c];"id"!==g&&o.setAttribute(g,v)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&o.appendChild(e.childNodes[c].cloneNode(!0));return o}_setSvgAttributes(e,o){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),o&&o.viewBox&&e.setAttribute("viewBox",o.viewBox),e}_fetchIcon(e){var o;const{url:u,options:c}=e,g=null!==(o=null==c?void 0:c.withCredentials)&&void 0!==o&&o;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==u)throw Error(`Cannot fetch icon from URL "${u}".`);const v=this._sanitizer.sanitize(p.q3G.RESOURCE_URL,u);if(!v)throw op(u);const E=this._inProgressUrlFetches.get(v);if(E)return E;const S=this._httpClient.get(v,{responseType:"text",withCredentials:g}).pipe(eh(()=>this._inProgressUrlFetches.delete(v)),(0,j0.B)());return this._inProgressUrlFetches.set(v,S),S}_addSvgIconConfig(e,o,u){return this._svgIconConfigs.set(VS(e,o),u),this}_addSvgIconSetConfig(e,o){const u=this._iconSetConfigs.get(e);return u?u.push(o):this._iconSetConfigs.set(e,[o]),this}_svgElementFromConfig(e){if(!e.svgElement){const o=this._svgElementFromString(e.svgText);this._setSvgAttributes(o,e.options),e.svgElement=o}return e.svgElement}_getIconConfigFromResolvers(e,o){for(let u=0;u<this._resolvers.length;u++){const c=this._resolvers[u](o,e);if(c)return fR(c)?new il(c.url,null,c.options):new il(c,null)}}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Ly,8),p.LFG(vi),p.LFG(pe,8),p.LFG(p.qLn))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(Ly,8),p.LFG(vi),p.LFG(pe,8),p.LFG(p.qLn))},token:i,providedIn:"root"}),i})();function jy(i){return i.cloneNode(!0)}function VS(i,t){return i+":"+t}function fR(i){return!(!i.url||!i.options)}const lC=$m(class{constructor(i){this._elementRef=i}}),pR=new p.OlP("mat-icon-location",{providedIn:"root",factory:function(){const i=(0,p.f3M)(pe),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),dd=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],BS=dd.map(i=>`[${i}]`).join(", "),Gy=/^url\(['"]?#(.*?)['"]?\)$/;let cC=(()=>{class i extends lC{constructor(e,o,u,c,g){super(e),this._iconRegistry=o,this._location=c,this._errorHandler=g,this._inline=!1,this._currentIconFetch=ko.w.EMPTY,u||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=pr(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const o=this._cleanupFontValue(e);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const o=this._cleanupFontValue(e);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const o=e.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const o=e.querySelectorAll("style");for(let c=0;c<o.length;c++)o[c].textContent+=" ";const u=this._location.getPathname();this._previousPath=u,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(u),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let o=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const u=e.childNodes[o];(1!==u.nodeType||"svg"===u.nodeName.toLowerCase())&&e.removeChild(u)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,o=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();o!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),o&&e.classList.add(o),this._previousFontSetClass=o),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const o=this._elementsWithExternalReferences;o&&o.forEach((u,c)=>{u.forEach(g=>{c.setAttribute(g.name,`url('${e}#${g.value}')`)})})}_cacheChildrenWithExternalReferences(e){const o=e.querySelectorAll(BS),u=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<o.length;c++)dd.forEach(g=>{const v=o[c],E=v.getAttribute(g),S=E?E.match(Gy):null;if(S){let M=u.get(v);M||(M=[],u.set(v,M)),M.push({name:g,value:S[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[o,u]=this._splitIconName(e);o&&(this._svgNamespace=o),u&&(this._svgName=u),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(u,o).pipe(Ni(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${u}! ${c.message}`))})}}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.SBq),p.Y36(Uy),p.$8M("aria-hidden"),p.Y36(pR),p.Y36(p.qLn))},i.\u0275cmp=p.Xpm({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,o){2&e&&(p.uIk("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet),p.ekj("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[p.qOj],ngContentSelectors:aC,decls:1,vars:0,template:function(e,o){1&e&&(p.F$t(),p.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),US=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[Hr],Hr]}),i})();function zy(i,t){if(1&i){const e=p.EpF();p.TgZ(0,"li",28),p.TgZ(1,"div",29),p.NdJ("panleft",function(){const c=p.CHM(e).index;return p.oxw(2).panleft(c)})("panright",function(){const c=p.CHM(e).index;return p.oxw(2).panright(c)}),p.TgZ(2,"div",30),p.TgZ(3,"div",31),p.TgZ(4,"mat-checkbox",32),p.NdJ("click",function(){const u=p.CHM(e),c=u.index,g=u.$implicit,v=p.oxw().$implicit;return p.oxw().checkChange(c,g.key,g.check,g.compareCheck,v.key,v.scoreVal,v.tasksDone)}),p.qZA(),p.TgZ(5,"div",33),p.TgZ(6,"p",34),p._uU(7),p.qZA(),p.TgZ(8,"p",35),p._uU(9),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"p",36),p._uU(11),p.ALo(12,"date"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(13,"div",37),p.NdJ("click",function(){const u=p.CHM(e),c=u.index,g=u.$implicit,v=p.oxw().$implicit;return p.oxw().delete(c,g.key,g.check,g.compareCheck,v.key,v.scoreVal)}),p.TgZ(14,"div",38),p.TgZ(15,"span",39),p._uU(16," delete "),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&i){const e=t.$implicit,o=t.index,u=p.oxw(2);p.xp6(1),p.Q6J("ngStyle",u.styleObject(o)),p.xp6(2),p.Q6J("ngClass",e.check?"checked":""),p.xp6(1),p.Q6J("ngModel",e.check),p.xp6(3),p.Oqu(e.name),p.xp6(2),p.Oqu(e.description),p.xp6(2),p.Oqu(p.xi3(12,6,e.date,"dd MMM"))}}function gR(i,t){if(1&i){const e=p.EpF();p.TgZ(0,"button",40),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).conformClearDialog()}),p.TgZ(1,"mat-icon"),p._uU(2,"clear_all"),p.qZA(),p.qZA()}}const mR=function(i){return{display:i}};function yR(i,t){if(1&i){const e=p.EpF();p.TgZ(0,"section",1),p.TgZ(1,"h1"),p._uU(2,"ToDo App"),p.qZA(),p.TgZ(3,"div",2),p.TgZ(4,"div",3),p.TgZ(5,"div",4),p.TgZ(6,"strong",5),p._uU(7),p.qZA(),p.qZA(),p.TgZ(8,"div",6),p.O4$(),p.TgZ(9,"svg",7),p._UZ(10,"circle",8),p._UZ(11,"circle",9),p.qZA(),p.qZA(),p.qZA(),p.kcU(),p.TgZ(12,"div",10),p.TgZ(13,"h4"),p._uU(14,"Weekly report"),p.qZA(),p.TgZ(15,"div",11),p.TgZ(16,"strong"),p._uU(17),p.qZA(),p.TgZ(18,"p"),p._uU(19," Tasks Done"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(20,"div",12),p.TgZ(21,"div",13),p.TgZ(22,"span",14),p._uU(23),p.qZA(),p.TgZ(24,"p"),p._uU(25),p.qZA(),p.qZA(),p.qZA(),p.TgZ(26,"div",15),p.TgZ(27,"ul",16),p.YNc(28,zy,17,9,"li",17),p.qZA(),p.TgZ(29,"div",18),p.TgZ(30,"div",19),p.TgZ(31,"div",20),p.TgZ(32,"span",21),p.NdJ("click",function(){return p.CHM(e),p.oxw().closeReminder()}),p._uU(33," close "),p.qZA(),p.TgZ(34,"p"),p._uU(35,"By pressing this icon you can able to add your tasks"),p.qZA(),p.qZA(),p._UZ(36,"img",22),p.qZA(),p.TgZ(37,"div"),p.TgZ(38,"div",23),p.YNc(39,gR,3,0,"button",24),p.qZA(),p.TgZ(40,"div",25),p.TgZ(41,"button",26),p.NdJ("click",function(){return p.CHM(e),p.oxw().openAddTaskDialog()}),p.TgZ(42,"span",27),p._uU(43,"add_task"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&i){const e=t.$implicit,o=p.oxw();p.xp6(7),p.hij("",e.scoreVal,"%"),p.xp6(4),p.Udp("stroke-dashoffset",100-e.scoreVal),p.xp6(6),p.AsE("",e.tasksDone," / ",e.totalTasks," "),p.xp6(6),p.hij(" ",o.availableTask?"swipe":"add"," "),p.xp6(2),p.Oqu(o.availableTask?"Swipe left to delete":"Add new tasks by clicking below icon"),p.xp6(3),p.Q6J("ngForOf",o.items),p.xp6(2),p.Q6J("ngStyle",p.VKq(10,mR,o.displayTry?"block":"none")),p.xp6(9),p.Q6J("ngIf",o.eraseFAB)}}let _R=(()=>{class i{constructor(e,o,u){this.dialog=o,this.confomrdialogRef=u,this.items=[],this.scoreKey="-MfNAwF9PQQS9-bZftNi",this.description="",this.name="",this.check=!1,this.taskTry=!1,this.displayTry=!1,this.stopDisplayTry=!1,this.backTransform=!0,this.newTaskName="",this.eraseAll=!0,this.newTaskDescription="",this.todayString=(new Date).toString(),this.leftIndex=1e3,this.rightIndex=1e3,this.availableTask=!1,this.eraseFAB=!1,this.zeroVal=0,this.taskRef=e.list("Tasks"),this.scoreRef=e.list("score"),this.taskRef.snapshotChanges().pipe((0,ft.U)(c=>c.map(g=>Object.assign({key:g.payload.key},g.payload.val())))).subscribe(c=>{this.items=c}),this.score=this.scoreRef.snapshotChanges().pipe((0,ft.U)(c=>c.map(g=>Object.assign({key:g.payload.key},g.payload.val())))),this.taskVal=this.taskRef.snapshotChanges().pipe((0,ft.U)(c=>c.map(g=>Object.assign({key:g.payload.key},g.payload.val()))))}addItem(e,o,u){this.updateDate(),this.taskRef.push({name:e,description:o,check:!1,compareCheck:!1,date:u}),this.scoreRef.update(this.scoreKey,{totalTasks:by.Z.database.ServerValue.increment(1)}).then()}openAddTaskDialog(){this.taskTry=!0,this.dialog.open(UT,{width:"250px",data:{name:this.newTaskName,description:this.newTaskDescription}}).afterClosed().subscribe(o=>{this.addItem(o.name,o.description,this.todayString)})}conformClearDialog(){this.dialog.open(NN,{width:"250px",data:{eraseAll:this.eraseAll}}).afterClosed().subscribe(o=>{this.eraseData(o.eraseAll)})}eraseData(e){e&&(this.taskRef.remove(),this.zeroScore())}checkChange(e,o,u,c,g,v,E){const S=!u;let M=E,k=v;k>=100?k=0:S&&!c?(M+=1,k=v+2):S?M+=1:S||(M-=1),this.taskRef.update(o,{check:S,compareCheck:!0}).then(),this.scoreRef.update(g,{scoreVal:k,tasksDone:M}).then(),this.backTransform=!1,this.styleObject(e)}ngOnInit(){this.renderCounter(),this.checkDate(),this.checkEmptyTaks()}checkEmptyTaks(){this.taskVal.forEach(e=>{void 0===e[0]?(this.availableTask=!1,this.displayTry=!0,this.eraseFAB=!1):(this.availableTask=!0,this.displayTry=!1,this.eraseFAB=!0)}).then()}renderCounter(){setTimeout(()=>{this.taskTry||(this.displayTry=!this.displayTry,this.stopDisplayTry=!0,this.taskTry=!this.taskTry)},1e4),setTimeout(()=>{this.stopDisplayTry&&this.displayTry&&this.taskTry&&(this.displayTry=!this.displayTry)},3e4)}closeReminder(){this.displayTry=!1}checkDate(){const e=new Date;e.setDate(e.getDate()-7),this.score.forEach(o=>{this.getDate(e,new Date(o[0].lastModifiedDate))}).then()}getDate(e,o){e>o&&this.zeroScore()}zeroScore(){this.scoreRef.update(this.scoreKey,{lastModifiedDate:this.todayString,scoreVal:this.zeroVal,tasksDone:this.zeroVal,totalTasks:this.zeroVal}).then()}panleft(e){this.leftIndex=e,this.backTransform=!0}panright(e){this.rightIndex=e+1001,this.styleObject(e+1001),this.backTransform=!1}styleObject(e){return this.leftIndex===e&&this.backTransform?{transform:"translate3d(-64px, 0px, 0px)"}:{transform:"translate3d(0px, 0px, 0px)"}}delete(e,o,u,c,g,v){let E=v;E<100&&E>=0?u?E=v:c||(E=E>3?v-3:0):E=0,this.taskRef.remove(o).then(),this.updateDate(),this.scoreRef.update(this.scoreKey,{scoreVal:E}).then(),this.backTransform=!1}updateDate(){this.scoreRef.update(this.scoreKey,{lastModifiedDate:this.todayString}).then()}}return i.\u0275fac=function(e){return new(e||i)(p.Y36($0),p.Y36(ed),p.Y36(ed))},i.\u0275cmp=p.Xpm({type:i,selectors:[["app-todo-entry"]],decls:2,vars:3,consts:[["class","todo-section",4,"ngFor","ngForOf"],[1,"todo-section"],[1,"progress-container","container"],[1,"progress-circle","progress-circle-rounded","set-height"],[1,"progress-circle-number","set-height"],["tabindex","0",1,"text-center","score-card"],[1,"progress-circle-fill"],["viewBox","0 0 40 40",1,"icon"],["cx","20","cy","20","r","15.9154943092",1,"outer-stroke"],["cx","20","cy","20","r","15.9154943092","transform","rotate(-90,20,20)",1,"offsetAnima"],[1,"progress-data"],[1,"report-text"],[1,"helper-text"],[1,"swipe-text"],[1,"material-icons"],[1,"task-container","container"],[1,"task-list"],["class","list-items",4,"ngFor","ngForOf"],[1,"input-form"],[1,"reminder-container",3,"ngStyle"],[1,"reminder-text","pos-fix"],[1,"material-icons","close",3,"click"],["src","assets/arrow.svg","alt","image",1,"reminder-svg","pos-fix"],[1,"small-buttons-container","pos-fix"],["mat-mini-fab","",3,"click",4,"ngIf"],[1,"buttons-container","container-padding","pos-fix"],["color","addTask","mat-fab","","type","submit",1,"add-task-button",3,"click"],[1,"material-icons-outlined"],[1,"list-items"],[1,"item-list",3,"ngStyle","panleft","panright"],[1,"task-card"],[1,"icon-with-taskname",3,"ngClass"],["id","check",1,"task-check",3,"ngModel","click"],["for","check",1,"name-desc-container"],["ellipsis","",1,"task-name","strike",2,"height","27px","max-width","250px","width","auto"],["ellipsis","","ellipsis","",1,"task-description",2,"max-height","60px","max-width","250px","width","auto"],[1,"task-date"],["mat-ripple","",1,"delete-container",3,"click"],[1,"delete-icon-holder"],["aria-label","Delete Icon",1,"material-icons-outlined","delete-icon"],["mat-mini-fab","",3,"click"]],template:function(e,o){1&e&&(p.YNc(0,yR,44,12,"section",0),p.ALo(1,"async")),2&e&&p.Q6J("ngForOf",p.lcZ(1,1,o.score))},directives:[at,_r,Yt,vy,Ar,aS,p0,Qf,ZN,Cs,cC],pipes:[et,Ki],styles:['.todo-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%}.todo-section[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{position:relative}.todo-section[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .mat-close[_ngcontent-%COMP%]{top:0;right:0;margin:14.405px}.todo-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:400px;display:flex;justify-content:center;padding:25px}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]{justify-content:space-evenly!important;align-items:center;flex-direction:row}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]{position:relative;height:100px;width:100px}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .progress-circle-number[_ngcontent-%COMP%]{position:absolute;height:100%}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .progress-circle-number[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;justify-content:center}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .progress-circle-number[_ngcontent-%COMP%]   .score-card-score[_ngcontent-%COMP%]{font-weight:bold;font-size:1.75em;line-height:34px;width:auto;margin:0}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .progress-circle-number[_ngcontent-%COMP%]   .score-card-score-title[_ngcontent-%COMP%]{font-size:.75em;font-weight:400;line-height:1em;width:auto;margin:0}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .progress-circle-fill[_ngcontent-%COMP%]{position:absolute;margin:0 auto}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .progress-circle-fill[_ngcontent-%COMP%]   .outer-stroke[_ngcontent-%COMP%]{stroke:#aa446580}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .progress-circle-fill[_ngcontent-%COMP%]   .offsetAnima[_ngcontent-%COMP%]{stroke:#aa4465;stroke-dashoffset:100;transition:stroke-dashoffset 2s ease-in}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .progress-circle-fill[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:none;stroke:#0000001f;stroke-width:2.5px}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .progress-circle-fill[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]:nth-child(2){animation:load-circle 1s;stroke:#462255;stroke-dasharray:100px;stroke-linecap:round}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px;max-width:200px;width:100%}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-data[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font:normal 500 20px/24px sans-serif}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-data[_ngcontent-%COMP%]   .report-text[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-data[_ngcontent-%COMP%]   .report-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{white-space:nowrap}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-data[_ngcontent-%COMP%]   .report-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 0 10px;font:normal 500 15px/24px sans-serif}.todo-section[_ngcontent-%COMP%]   .helper-text[_ngcontent-%COMP%]   .swipe-text[_ngcontent-%COMP%]{display:flex;align-items:center}.todo-section[_ngcontent-%COMP%]   .helper-text[_ngcontent-%COMP%]   .swipe-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 0 10px}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]{flex-direction:column}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]{display:flex;width:-webkit-min-content;width:min-content;z-index:15}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]   .reminder-container[_ngcontent-%COMP%]   .reminder-text[_ngcontent-%COMP%]{bottom:90px;right:80px;width:200px;border-radius:20px;padding:15px;text-align:center;background:#fbc8c3}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]   .reminder-container[_ngcontent-%COMP%]   .reminder-text[_ngcontent-%COMP%]:hover   .close[_ngcontent-%COMP%]{display:block}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]   .reminder-container[_ngcontent-%COMP%]   .reminder-text[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{cursor:pointer;display:none;position:absolute;right:-15px;top:-15px}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]   .reminder-container[_ngcontent-%COMP%]   .reminder-svg[_ngcontent-%COMP%]{bottom:93px;height:30px;width:auto;right:60px}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]   .small-buttons-container[_ngcontent-%COMP%]{padding:16px 16px 24px;bottom:0;right:88px}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{padding:24px;bottom:0;right:0}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .mat-addTask[_ngcontent-%COMP%]{background-color:#aa4465;color:#ddfff7}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .task-list[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0 0 50px}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .task-list[_ngcontent-%COMP%]   .list-items[_ngcontent-%COMP%]{position:relative;z-index:10}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .task-list[_ngcontent-%COMP%]   .list-items[_ngcontent-%COMP%]   .item-list[_ngcontent-%COMP%]{transition:transform .5s ease-in;z-index:10;cursor:grab}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .task-list[_ngcontent-%COMP%]   .list-items[_ngcontent-%COMP%]   .item-list[_ngcontent-%COMP%]:active{cursor:grabbing}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .task-list[_ngcontent-%COMP%]   .list-items[_ngcontent-%COMP%]   .item-list[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]{margin:10px 0;padding:10px;box-shadow:0 10px 10px #0000000d;border:2px solid transparent;border-radius:10px;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .task-list[_ngcontent-%COMP%]   .list-items[_ngcontent-%COMP%]   .item-list[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]:hover{border-color:#93e1d8}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .task-list[_ngcontent-%COMP%]   .list-items[_ngcontent-%COMP%]   .item-list[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   .icon-with-taskname[_ngcontent-%COMP%]{display:flex;align-items:center}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .task-list[_ngcontent-%COMP%]   .list-items[_ngcontent-%COMP%]   .item-list[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   .task-check[_ngcontent-%COMP%]{min-width:40px;height:40px;font-size:24px;color:#aa4465;display:flex;align-items:center;justify-content:center}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .task-list[_ngcontent-%COMP%]   .list-items[_ngcontent-%COMP%]   .item-list[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   .name-desc-container[_ngcontent-%COMP%]{width:80%;padding:0 0 0 10px}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .task-list[_ngcontent-%COMP%]   .list-items[_ngcontent-%COMP%]   .item-list[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   .name-desc-container[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{margin:0;width:-webkit-min-content;width:min-content;padding:0 2px;text-transform:capitalize;font:normal 700 18px/27px sans-serif}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .task-list[_ngcontent-%COMP%]   .list-items[_ngcontent-%COMP%]   .item-list[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   .name-desc-container[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{margin:0;font:normal 300 14px/20px Roboto}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .task-list[_ngcontent-%COMP%]   .list-items[_ngcontent-%COMP%]   .item-list[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   .task-date[_ngcontent-%COMP%]{transform:rotate(-90deg);white-space:nowrap}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .task-list[_ngcontent-%COMP%]   .list-items[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{cursor:pointer;height:100%;width:70px;border-radius:0 15px 15px 0;background-color:#f55;position:absolute;top:0;right:0;z-index:-1}.todo-section[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]   .task-list[_ngcontent-%COMP%]   .list-items[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]   .delete-icon-holder[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.pos-fix[_ngcontent-%COMP%]{position:fixed}.absolute[_ngcontent-%COMP%]{position:absolute}@media (max-width: 859px){.container[_ngcontent-%COMP%]{width:70%!important}}@media (max-width: 599px){.container[_ngcontent-%COMP%]{width:90%!important;padding:16px!important}.reminder-text[_ngcontent-%COMP%]{bottom:75px!important}.reminder-text[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{display:block!important}.small-buttons-container[_ngcontent-%COMP%]{right:80px!important;padding:16px!important}.buttons-container[_ngcontent-%COMP%]{padding:16px!important}}@keyframes strike{0%{width:0}to{width:100%}}.checked[_ngcontent-%COMP%]   .strike[_ngcontent-%COMP%]{position:relative}.checked[_ngcontent-%COMP%]   .strike[_ngcontent-%COMP%]:after{content:" ";position:absolute;top:50%;left:0;width:100%;height:1.5px;background:#462255;animation-name:strike;animation-duration:4s;animation-timing-function:linear;animation-iteration-count:1;animation-fill-mode:forwards}.list-items[_ngcontent-%COMP%]:nth-child(odd)   .task-card[_ngcontent-%COMP%]{background:url(card-bg-odd.56fe2d722e37b3bde129.svg) no-repeat bottom right #ddfff7}.list-items[_ngcontent-%COMP%]:nth-child(even)   .task-card[_ngcontent-%COMP%]{background:url(card-bg-even.749ae0194b42d83457b8.svg) no-repeat top right #ddfff7}.todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .progress-circle-number[_ngcontent-%COMP%], .todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .progress-circle-number[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%], .todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .progress-circle-fill[_ngcontent-%COMP%], .todo-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .progress-circle-fill[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{height:100px!important;width:100px}']}),i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),jS=(()=>{class i{constructor(){this.title="todo-app"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=p.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(e,o){1&e&&p._UZ(0,"app-todo-entry")},directives:[_R],styles:[""]}),i})();var vR=Y(9759),z=Y(4762),bn=Y(4685),to=Y(300),Sc=function(i,t){return(Sc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(e[u]=o[u])})(i,t)};function HS(i){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&i[t],o=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var it,bR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},sp=sp||{},Ut=bR||self;function ap(){}function qy(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function up(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var dC="closure_uid_"+(1e9*Math.random()>>>0),ou=0;function lp(i,t,e){return i.call.apply(i.bind,arguments)}function fd(i,t,e){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(t,u)}}return function(){return i.apply(t,arguments)}}function Or(i,t,e){return(Or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lp:fd).apply(null,arguments)}function su(i,t){var e=Array.prototype.slice.call(arguments,1);return function(){var o=e.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ci(i,t){function e(){}e.prototype=t.prototype,i.Z=t.prototype,i.prototype=new e,i.prototype.constructor=i,i.Vb=function(o,u,c){for(var g=Array(arguments.length-2),v=2;v<arguments.length;v++)g[v-2]=arguments[v];return t.prototype[u].apply(o,g)}}function ol(){this.s=this.s,this.o=this.o}var GS={};ol.prototype.s=!1,ol.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,dC)&&i[dC]||(i[dC]=++ou)}(this);delete GS[i]}},ol.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var fC=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(var e=0;e<i.length;e++)if(e in i&&i[e]===t)return e;return-1},pC=Array.prototype.forEach?function(i,t,e){Array.prototype.forEach.call(i,t,e)}:function(i,t,e){for(var o=i.length,u="string"==typeof i?i.split(""):i,c=0;c<o;c++)c in u&&t.call(e,u[c],c,i)};function $y(i){return Array.prototype.concat.apply([],arguments)}function gC(i){var t=i.length;if(0<t){for(var e=Array(t),o=0;o<t;o++)e[o]=i[o];return e}return[]}function Wy(i){return/^[\s\xa0]*$/.test(i)}var Hi,mC=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function wr(i,t){return-1!=i.indexOf(t)}function cp(i,t){return i<t?-1:i>t?1:0}e:{var qS=Ut.navigator;if(qS){var wR=qS.userAgent;if(wR){Hi=wR;break e}}Hi=""}function $S(i,t,e){for(var o in i)t.call(e,i[o],o,i)}function DR(i){var t={};for(var e in i)t[e]=i[e];return t}var TR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WS(i,t){for(var e,o,u=1;u<arguments.length;u++){for(e in o=arguments[u])i[e]=o[e];for(var c=0;c<TR.length;c++)e=TR[c],Object.prototype.hasOwnProperty.call(o,e)&&(i[e]=o[e])}}function yC(i){return yC[" "](i),i}yC[" "]=ap;var vC,i,aF=wr(Hi,"Opera"),hp=wr(Hi,"Trident")||wr(Hi,"MSIE"),SR=wr(Hi,"Edge"),_C=SR||hp,AR=wr(Hi,"Gecko")&&!(wr(Hi.toLowerCase(),"webkit")&&!wr(Hi,"Edge"))&&!(wr(Hi,"Trident")||wr(Hi,"MSIE"))&&!wr(Hi,"Edge"),uF=wr(Hi.toLowerCase(),"webkit")&&!wr(Hi,"Edge");function IR(){var i=Ut.document;return i?i.documentMode:void 0}e:{var s="",a=(i=Hi,AR?/rv:([^\);]+)(\)|;)/.exec(i):SR?/Edge\/([\d\.]+)/.exec(i):hp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):uF?/WebKit\/(\S+)/.exec(i):aF?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(a&&(s=a?a[1]:""),hp){var l=IR();if(null!=l&&l>parseFloat(s)){vC=String(l);break e}}vC=s}var h={};function m(){return t=h,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var i=0,t=mC(String(vC)).split("."),e=mC("9").split("."),o=Math.max(t.length,e.length),u=0;0==i&&u<o;u++){var c=t[u]||"",g=e[u]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==c[0].length&&0==g[0].length)break;i=cp(0==c[1].length?0:parseInt(c[1],10),0==g[1].length?0:parseInt(g[1],10))||cp(0==c[2].length,0==g[2].length)||cp(c[2],g[2]),c=c[3],g=g[3]}while(0==i)}return 0<=i}();var t}var w=Ut.document&&hp&&(IR()||parseInt(vC,10))||void 0,T=function(){if(!Ut.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ut.addEventListener("test",ap,t),Ut.removeEventListener("test",ap,t)}catch(e){}return i}();function x(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}function R(i,t){if(x.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(AR){e:{try{yC(t.nodeName);var u=!0;break e}catch(c){}u=!1}u||(t=null)}}else"mouseover"==e?t=i.fromElement:"mouseout"==e&&(t=i.toElement);this.relatedTarget=t,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:V[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&R.Z.h.call(this)}}x.prototype.h=function(){this.defaultPrevented=!0},ci(R,x);var V={2:"touch",3:"pen",4:"mouse"};R.prototype.h=function(){R.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),Q=0;function oe(i,t,e,o,u){this.listener=i,this.proxy=null,this.src=t,this.type=e,this.capture=!!o,this.ia=u,this.key=++Q,this.ca=this.fa=!1}function Te(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function de(i){this.src=i,this.g={},this.h=0}function Be(i,t){var e=t.type;if(e in i.g){var c,o=i.g[e],u=fC(o,t);(c=0<=u)&&Array.prototype.splice.call(o,u,1),c&&(Te(t),0==i.g[e].length&&(delete i.g[e],i.h--))}}function Oe(i,t,e,o){for(var u=0;u<i.length;++u){var c=i[u];if(!c.ca&&c.listener==t&&c.capture==!!e&&c.ia==o)return u}return-1}de.prototype.add=function(i,t,e,o,u){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var g=Oe(i,t,o,u);return-1<g?(t=i[g],e||(t.fa=!1)):((t=new oe(t,this.src,c,!!o,u)).fa=e,i.push(t)),t};var ht="closure_lm_"+(1e6*Math.random()|0),Dt={};function en(i,t,e,o,u){if(o&&o.once)return pd(i,t,e,o,u);if(Array.isArray(t)){for(var c=0;c<t.length;c++)en(i,t[c],e,o,u);return null}return e=pp(e),i&&i[U]?i.N(t,e,up(o)?!!o.capture:!!o,u):Rr(i,t,e,!1,o,u)}function Rr(i,t,e,o,u,c){if(!t)throw Error("Invalid event type");var g=up(u)?!!u.capture:!!u,v=dp(i);if(v||(i[ht]=v=new de(i)),(e=v.add(t,e,o,g,c)).proxy)return e;if(o=function(){var t=bC;return function i(e){return t.call(i.src,i.listener,e)}}(),e.proxy=o,o.src=i,o.listener=e,i.addEventListener)T||(u=g),void 0===u&&(u=!1),i.addEventListener(t.toString(),o,u);else if(i.attachEvent)i.attachEvent(Ic(t.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return e}function pd(i,t,e,o,u){if(Array.isArray(t)){for(var c=0;c<t.length;c++)pd(i,t[c],e,o,u);return null}return e=pp(e),i&&i[U]?i.O(t,e,up(o)?!!o.capture:!!o,u):Rr(i,t,e,!0,o,u)}function Ac(i,t,e,o,u){if(Array.isArray(t))for(var c=0;c<t.length;c++)Ac(i,t[c],e,o,u);else o=up(o)?!!o.capture:!!o,e=pp(e),i&&i[U]?(i=i.i,(t=String(t).toString())in i.g&&-1<(e=Oe(c=i.g[t],e,o,u))&&(Te(c[e]),Array.prototype.splice.call(c,e,1),0==c.length&&(delete i.g[t],i.h--))):i&&(i=dp(i))&&(t=i.g[t.toString()],i=-1,t&&(i=Oe(t,e,o,u)),(e=-1<i?t[i]:null)&&sl(e))}function sl(i){if("number"!=typeof i&&i&&!i.ca){var t=i.src;if(t&&t[U])Be(t.i,i);else{var e=i.type,o=i.proxy;t.removeEventListener?t.removeEventListener(e,o,i.capture):t.detachEvent?t.detachEvent(Ic(e),o):t.addListener&&t.removeListener&&t.removeListener(o),(e=dp(t))?(Be(e,i),0==e.h&&(e.src=null,t[ht]=null)):Te(i)}}}function Ic(i){return i in Dt?Dt[i]:Dt[i]="on"+i}function bC(i,t){if(i.ca)i=!0;else{t=new R(t,this);var e=i.listener,o=i.ia||i.src;i.fa&&sl(i),i=e.call(o,t)}return i}function dp(i){return(i=i[ht])instanceof de?i:null}var fp="__closure_events_fn_"+(1e9*Math.random()>>>0);function pp(i){return"function"==typeof i?i:(i[fp]||(i[fp]=function(t){return i.handleEvent(t)}),i[fp])}function kr(){ol.call(this),this.i=new de(this),this.P=this,this.I=null}function Gi(i,t){var e,o=i.I;if(o)for(e=[];o;o=o.I)e.push(o);if(i=i.P,o=t.type||t,"string"==typeof t)t=new x(t,i);else if(t instanceof x)t.target=t.target||i;else{var u=t;WS(t=new x(o,i),u)}if(u=!0,e)for(var c=e.length-1;0<=c;c--){var g=t.g=e[c];u=YS(g,o,!0,t)&&u}if(u=YS(g=t.g=i,o,!0,t)&&u,u=YS(g,o,!1,t)&&u,e)for(c=0;c<e.length;c++)u=YS(g=t.g=e[c],o,!1,t)&&u}function YS(i,t,e,o){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var u=!0,c=0;c<t.length;++c){var g=t[c];if(g&&!g.ca&&g.capture==e){var v=g.listener,E=g.ia||g.src;g.fa&&Be(i.i,g),u=!1!==v.call(E,o)&&u}}return u&&!o.defaultPrevented}ci(kr,ol),kr.prototype[U]=!0,kr.prototype.removeEventListener=function(i,t,e,o){Ac(this,i,t,e,o)},kr.prototype.M=function(){if(kr.Z.M.call(this),this.i){var t,i=this.i;for(t in i.g){for(var e=i.g[t],o=0;o<e.length;o++)Te(e[o]);delete i.g[t],i.h--}}this.I=null},kr.prototype.N=function(i,t,e,o){return this.i.add(String(i),t,!1,e,o)},kr.prototype.O=function(i,t,e,o){return this.i.add(String(i),t,!0,e,o)};var MR=Ut.JSON.stringify;function W2(){var i=cF,t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var OR,Y2=function(){function i(){this.h=this.g=null}return i.prototype.add=function(t,e){var o=lF.get();o.set(t,e),this.h?this.h.next=o:this.g=o,this.h=o},i}(),lF=new(function(){function i(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return i.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},i}())(function(){return new K2},function(i){return i.reset()}),K2=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function Q2(i){Ut.setTimeout(function(){throw i},0)}function xR(i,t){OR||function(){var i=Ut.Promise.resolve(void 0);OR=function(){i.then(J2)}}(),RR||(OR(),RR=!0),cF.add(i,t)}var RR=!1,cF=new Y2;function J2(){for(var i;i=W2();){try{i.h.call(i.g)}catch(e){Q2(e)}var t=lF;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}RR=!1}function KS(i,t){kr.call(this),this.h=i||1,this.g=t||Ut,this.j=Or(this.kb,this),this.l=Date.now()}function kR(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function PR(i,t,e){if("function"==typeof i)e&&(i=Or(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Or(i.handleEvent,i)}return 2147483647<Number(t)?-1:Ut.setTimeout(i,t||0)}function hF(i){i.g=PR(function(){i.g=null,i.i&&(i.i=!1,hF(i))},i.j);var t=i.h;i.h=null,i.m.apply(null,t)}ci(KS,kr),(it=KS.prototype).da=!1,it.S=null,it.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Gi(this,"tick"),this.da&&(kR(this),this.start()))}},it.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){KS.Z.M.call(this),kR(this),delete this.g};var X2=function(i){function t(e,o){var u=i.call(this)||this;return u.m=e,u.j=o,u.h=null,u.i=!1,u.g=null,u}return function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}Sc(i,t),i.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,i),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:hF(this)},t.prototype.M=function(){i.prototype.M.call(this),this.g&&(Ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(ol);function CC(i){ol.call(this),this.h=i,this.g={}}ci(CC,ol);var dF=[];function fF(i,t,e,o){Array.isArray(e)||(e&&(dF[0]=e.toString()),e=dF);for(var u=0;u<e.length;u++){var c=en(t,e[u],o||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function pF(i){$S(i.g,function(t,e){this.g.hasOwnProperty(e)&&sl(t)},i),i.g={}}function QS(){this.g=!0}function Yy(i,t,e,o){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(i,t){if(!i.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var o=e[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var c=u[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var g=1;g<u.length;g++)u[g]=""}}}return MR(e)}catch(v){return t}}(i,e)+(o?" "+o:"")})}CC.prototype.M=function(){CC.Z.M.call(this),pF(this)},CC.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},QS.prototype.Aa=function(){this.g=!1},QS.prototype.info=function(){};var gp={},gF=null;function ZS(){return gF=gF||new kr}function mF(i){x.call(this,gp.Ma,i)}function EC(i){var t=ZS();Gi(t,new mF(t,i))}function yF(i,t){x.call(this,gp.STAT_EVENT,i),this.stat=t}function Eo(i){var t=ZS();Gi(t,new yF(t,i))}function _F(i,t){x.call(this,gp.Na,i),this.size=t}function wC(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ut.setTimeout(function(){i()},t)}gp.Ma="serverreachability",ci(mF,x),gp.STAT_EVENT="statevent",ci(yF,x),gp.Na="timingevent",ci(_F,x);var JS={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},vF={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function NR(){}function CF(){}NR.prototype.h=null;var VR,DC={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function FR(){x.call(this,"d")}function LR(){x.call(this,"c")}function XS(){}function TC(i,t,e,o){this.l=i,this.j=t,this.m=e,this.X=o||1,this.V=new CC(this),this.P=iU,this.W=new KS(i=_C?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new EF}function EF(){this.i=null,this.g="",this.h=!1}ci(FR,x),ci(LR,x),ci(XS,NR),XS.prototype.g=function(){return new XMLHttpRequest},XS.prototype.i=function(){return{}},VR=new XS;var iU=45e3,BR={},eA={};function UR(i,t,e){i.K=1,i.v=oA(Mc(t)),i.s=e,i.U=!0,wF(i,null)}function wF(i,t){i.F=Date.now(),SC(i),i.A=Mc(i.v);var e=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),RF(e.h,"t",o),i.C=0,e=i.l.H,i.h=new EF,i.g=tL(i.l,e?t:null,!i.s),0<i.O&&(i.L=new X2(Or(i.Ia,i,i.g),i.O)),fF(i.V,i.g,"readystatechange",i.gb),t=i.H?DR(i.H):{},i.s?(i.u||(i.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,t)):(i.u="GET",i.g.ea(i.A,i.u,null,t)),EC(1),function(i,t,e,o,u,c){i.info(function(){if(i.g)if(c)for(var g="",v=c.split("&"),E=0;E<v.length;E++){var S=v[E].split("=");if(1<S.length){var M=S[0];S=S[1];var k=M.split("_");g=2<=k.length&&"type"==k[1]?g+(M+"=")+S+"&":g+(M+"=redacted&")}}else g=null;else g=c;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+t+"\n"+e+"\n"+g})}(i.j,i.u,i.A,i.m,i.X,i.s)}function DF(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function TF(i,t,e){for(var u,o=!0;!i.I&&i.C<e.length;){if((u=oU(i,e))==eA){4==t&&(i.o=4,Eo(14),o=!1),Yy(i.j,i.m,null,"[Incomplete Response]");break}if(u==BR){i.o=4,Eo(15),Yy(i.j,i.m,e,"[Invalid Chunk]"),o=!1;break}Yy(i.j,i.m,u,null),jR(i,u)}DF(i)&&u!=eA&&u!=BR&&(i.h.g="",i.C=0),4!=t||0!=e.length||i.h.h||(i.o=1,Eo(16),o=!1),i.i=i.i&&o,o?0<e.length&&!i.aa&&(i.aa=!0,(t=i.l).g==i&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),JR(t),t.L=!0,Eo(11))):(Yy(i.j,i.m,e,"[Invalid Chunked Response]"),mp(i),AC(i))}function oU(i,t){var e=i.C,o=t.indexOf("\n",e);return-1==o?eA:(e=Number(t.substring(e,o)),isNaN(e)?BR:(o+=1)+e>t.length?eA:(t=t.substr(o,e),i.C=o+e,t))}function SC(i){i.Y=Date.now()+i.P,SF(i,i.P)}function SF(i,t){if(null!=i.B)throw Error("WatchDog timer not null");i.B=wC(Or(i.eb,i),t)}function tA(i){i.B&&(Ut.clearTimeout(i.B),i.B=null)}function AC(i){0==i.l.G||i.I||ZF(i.l,i)}function mp(i){tA(i);var t=i.L;t&&"function"==typeof t.na&&t.na(),i.L=null,kR(i.W),pF(i.V),i.g&&(t=i.g,i.g=null,t.abort(),t.na())}function jR(i,t){try{var e=i.l;if(0!=e.G&&(e.g==i||zR(e.i,i)))if(e.I=i.N,!i.J&&zR(e.i,i)&&3==e.G){try{var o=e.Ca.g.parse(t)}catch(ye){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(e.u)e.ta=u[1],0<e.ta-e.U&&37500>u[2]&&e.N&&0==e.A&&!e.v&&(e.v=wC(Or(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<i.F))break e;hA(e),lA(e)}ZR(e),Eo(18)}if(1>=NF(e.i)&&e.ka){try{e.ka()}catch(ye){}e.ka=void 0}}else vp(e,11)}else if((i.J||e.g==i)&&hA(e),!Wy(t))for(u=e.Ca.g.parse(t),t=0;t<u.length;t++){var c=u[t];if(e.U=c[0],c=c[1],2==e.G)if("c"==c[0]){e.J=c[1],e.la=c[2];var g=c[3];null!=g&&(e.ma=g,e.h.info("VER="+e.ma));var v=c[4];null!=v&&(e.za=v,e.h.info("SVER="+e.za));var E=c[5];null!=E&&"number"==typeof E&&0<E&&(e.K=o=1.5*E,e.h.info("backChannelRequestTimeoutMs_="+o)),o=e;var S=i.g;if(S){var M=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(M){var k=o.i;!k.g&&(wr(M,"spdy")||wr(M,"quic")||wr(M,"h2"))&&(k.j=k.l,k.g=new Set,k.h&&(qR(k,k.h),k.h=null))}if(o.D){var F=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;F&&(o.sa=F,mr(o.F,o.D,F))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-i.F,e.h.info("Handshake RTT: "+e.O+"ms"));var j=i;if((o=e).oa=eL(o,o.H?o.la:null,o.W),j.J){FF(o.i,j);var q=j,ee=o.K;ee&&q.setTimeout(ee),q.B&&(tA(q),SC(q)),o.g=j}else KF(o);0<e.l.length&&cA(e)}else"stop"!=c[0]&&"close"!=c[0]||vp(e,7);else 3==e.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?vp(e,7):KR(e):"noop"!=c[0]&&e.j&&e.j.wa(c),e.A=0)}EC(4)}catch(ye){}}function HR(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(qy(i)||"string"==typeof i)pC(i,t,void 0);else{if(i.T&&"function"==typeof i.T)var e=i.T();else if(i.R&&"function"==typeof i.R)e=void 0;else if(qy(i)||"string"==typeof i){e=[];for(var o=i.length,u=0;u<o;u++)e.push(u)}else for(u in e=[],o=0,i)e[o++]=u;u=(o=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(qy(i)){for(var t=[],e=i.length,o=0;o<e;o++)t.push(i[o]);return t}for(o in t=[],e=0,i)t[e++]=i[o];return t}(i)).length;for(var c=0;c<u;c++)t.call(void 0,o[c],e&&e[c],i)}}function Ky(i,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var o=0;o<e;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Ky)for(e=i.T(),o=0;o<e.length;o++)this.set(e[o],i.get(e[o]));else for(o in i)this.set(o,i[o])}function GR(i){if(i.i!=i.g.length){for(var t=0,e=0;t<i.g.length;){var o=i.g[t];yp(i.h,o)&&(i.g[e++]=o),t++}i.g.length=e}if(i.i!=i.g.length){var u={};for(e=t=0;t<i.g.length;)yp(u,o=i.g[t])||(i.g[e++]=o,u[o]=1),t++;i.g.length=e}}function yp(i,t){return Object.prototype.hasOwnProperty.call(i,t)}(it=TC.prototype).setTimeout=function(i){this.P=i},it.gb=function(i){i=i.target;var t=this.L;t&&3==xc(i)?t.l():this.Ia(i)},it.Ia=function(i){try{if(i==this.g)e:{var t=xc(this.g),e=this.g.Da(),o=this.g.ba();if(!(3>t)&&(3!=t||_C||this.g&&(this.h.h||this.g.ga()||zF(this.g)))){this.I||4!=t||7==e||EC(8==e||0>=o?3:2),tA(this);var u=this.g.ba();this.N=u;t:if(DF(this)){var c=zF(this.g);i="";var g=c.length,v=4==xc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){mp(this),AC(this);var E="";break t}this.h.i=new Ut.TextDecoder}for(e=0;e<g;e++)this.h.h=!0,i+=this.h.i.decode(c[e],{stream:v&&e==g-1});c.splice(0,g),this.h.g+=i,this.C=0,E=this.h.g}else E=this.g.ga();if(this.i=200==u,function(i,t,e,o,u,c,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+t+"\n"+e+"\n"+c+" "+g})}(this.j,this.u,this.A,this.m,this.X,t,u),this.i){if(this.$&&!this.J){t:{if(this.g){var S,M=this.g;if((S=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wy(S)){var k=S;break t}}k=null}if(!(u=k)){this.i=!1,this.o=3,Eo(12),mp(this),AC(this);break e}Yy(this.j,this.m,u,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,jR(this,u)}this.U?(TF(this,t,E),_C&&this.i&&3==t&&(fF(this.V,this.W,"tick",this.fb),this.W.start())):(Yy(this.j,this.m,E,null),jR(this,E)),4==t&&mp(this),this.i&&!this.I&&(4==t?ZF(this.l,this):(this.i=!1,SC(this)))}else 400==u&&0<E.indexOf("Unknown SID")?(this.o=3,Eo(12)):(this.o=0,Eo(13)),mp(this),AC(this)}}}catch(F){}},it.fb=function(){if(this.g){var i=xc(this.g),t=this.g.ga();this.C<t.length&&(tA(this),TF(this,i,t),this.i&&4!=i&&SC(this))}},it.cancel=function(){this.I=!0,mp(this)},it.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(EC(3),Eo(17)),mp(this),this.o=2,AC(this)):SF(this,this.Y-i)},(it=Ky.prototype).R=function(){GR(this);for(var i=[],t=0;t<this.g.length;t++)i.push(this.h[this.g[t]]);return i},it.T=function(){return GR(this),this.g.concat()},it.get=function(i,t){return yp(this.h,i)?this.h[i]:t},it.set=function(i,t){yp(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=t},it.forEach=function(i,t){for(var e=this.T(),o=0;o<e.length;o++){var u=e[o],c=this.get(u);i.call(t,c,u,this)}};var AF=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _p(i,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof _p){this.g=void 0!==t?t:i.g,nA(this,i.j),this.s=i.s,rA(this,i.i),iA(this,i.m),this.l=i.l,t=i.h;var e=new xC;e.i=t.i,t.g&&(e.g=new Ky(t.g),e.h=t.h),IF(this,e),this.o=i.o}else i&&(e=String(i).match(AF))?(this.g=!!t,nA(this,e[1]||"",!0),this.s=IC(e[2]||""),rA(this,e[3]||"",!0),iA(this,e[4]),this.l=IC(e[5]||"",!0),IF(this,e[6]||"",!0),this.o=IC(e[7]||"")):(this.g=!!t,this.h=new xC(null,this.g))}function Mc(i){return new _p(i)}function nA(i,t,e){i.j=e?IC(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function rA(i,t,e){i.i=e?IC(t,!0):t}function iA(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function IF(i,t,e){t instanceof xC?(i.h=t,function(i,t){t&&!i.j&&(gd(i),i.i=null,i.g.forEach(function(e,o){var u=o.toLowerCase();o!=u&&(xF(this,o),RF(this,u,e))},i)),i.j=t}(i.h,i.g)):(e||(t=MC(t,fU)),i.h=new xC(t,i.g))}function mr(i,t,e){i.h.set(t,e)}function oA(i){return mr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function IC(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function MC(i,t,e){return"string"==typeof i?(i=encodeURI(i).replace(t,cU),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function cU(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}_p.prototype.toString=function(){var i=[],t=this.j;t&&i.push(MC(t,MF,!0),":");var e=this.i;return(e||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(MC(t,MF,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&i.push("/"),i.push(MC(e,"/"==e.charAt(0)?dU:hU,!0))),(e=this.h.toString())&&i.push("?",e),(e=this.o)&&i.push("#",MC(e,pU)),i.join("")};var MF=/[#\/\?@]/g,hU=/[#\?:]/g,dU=/[#\?]/g,fU=/[#\?@]/g,pU=/#/g;function xC(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function gd(i){i.g||(i.g=new Ky,i.h=0,i.i&&function(i,t){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var o=i[e].indexOf("="),u=null;if(0<=o){var c=i[e].substring(0,o);u=i[e].substring(o+1)}else c=i[e];t(c,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(t,e){i.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function xF(i,t){gd(i),t=Qy(i,t),yp(i.g.h,t)&&(i.i=null,i.h-=i.g.get(t).length,yp((i=i.g).h,t)&&(delete i.h[t],i.i--,i.g.length>2*i.i&&GR(i)))}function OF(i,t){return gd(i),t=Qy(i,t),yp(i.g.h,t)}function RF(i,t,e){xF(i,t),0<e.length&&(i.i=null,i.g.set(Qy(i,t),gC(e)),i.h+=e.length)}function Qy(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}(it=xC.prototype).add=function(i,t){gd(this),this.i=null,i=Qy(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(t),this.h+=1,this},it.forEach=function(i,t){gd(this),this.g.forEach(function(e,o){pC(e,function(u){i.call(t,u,o,this)},this)},this)},it.T=function(){gd(this);for(var i=this.g.R(),t=this.g.T(),e=[],o=0;o<t.length;o++)for(var u=i[o],c=0;c<u.length;c++)e.push(t[o]);return e},it.R=function(i){gd(this);var t=[];if("string"==typeof i)OF(this,i)&&(t=$y(t,this.g.get(Qy(this,i))));else{i=this.g.R();for(var e=0;e<i.length;e++)t=$y(t,i[e])}return t},it.set=function(i,t){return gd(this),this.i=null,OF(this,i=Qy(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},it.get=function(i,t){return i&&0<(i=this.R(i)).length?String(i[0]):t},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],t=this.g.T(),e=0;e<t.length;e++){var o=t[e],u=encodeURIComponent(String(o));o=this.R(o);for(var c=0;c<o.length;c++){var g=u;""!==o[c]&&(g+="="+encodeURIComponent(String(o[c]))),i.push(g)}}return this.i=i.join("&")};var mU=function(t,e){this.h=t,this.g=e};function kF(i){this.l=i||yU,i=Ut.PerformanceNavigationTiming?0<(i=Ut.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ut.g&&Ut.g.Ea&&Ut.g.Ea()&&Ut.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var yU=10;function PF(i){return!!i.h||!!i.g&&i.g.size>=i.j}function NF(i){return i.h?1:i.g?i.g.size:0}function zR(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function qR(i,t){i.g?i.g.add(t):i.h=t}function FF(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function LF(i){var t,e;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var o=i.i;try{for(var u=HS(i.g.values()),c=u.next();!c.done;c=u.next())o=o.concat(c.value.D)}catch(v){t={error:v}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}return o}return gC(i.i)}function $R(){}function _U(){this.g=new $R}function vU(i,t,e){var o=e||"";try{HR(i,function(u,c){var g=u;up(u)&&(g=MR(u)),t.push(o+c+"="+encodeURIComponent(g))})}catch(u){throw t.push(o+"type="+encodeURIComponent("_badmap")),u}}function sA(i,t,e,o,u){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,u(o)}catch(c){}}function OC(i){this.l=i.$b||null,this.j=i.ib||!1}function aA(i,t){kr.call(this),this.D=i,this.u=t,this.m=void 0,this.readyState=WR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kF.prototype.cancel=function(){var i,t;if(this.i=LF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var e=HS(this.g.values()),o=e.next();!o.done;o=e.next())o.value.cancel()}catch(c){i={error:c}}finally{try{o&&!o.done&&(t=e.return)&&t.call(e)}finally{if(i)throw i.error}}this.g.clear()}},$R.prototype.stringify=function(i){return Ut.JSON.stringify(i,void 0)},$R.prototype.parse=function(i){return Ut.JSON.parse(i,void 0)},ci(OC,NR),OC.prototype.g=function(){return new aA(this.l,this.j)},OC.prototype.i=function(i){return function(){return i}}({}),ci(aA,kr);var WR=0;function VF(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function RC(i){i.readyState=4,i.l=null,i.j=null,i.A=null,kC(i)}function kC(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(it=aA.prototype).open=function(i,t){if(this.readyState!=WR)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,kC(this)},it.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.D||Ut).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,RC(this)),this.readyState=WR},it.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,kC(this)),this.g&&(this.readyState=3,kC(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ut.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VF(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},it.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?RC(this):kC(this),3==this.readyState&&VF(this)}},it.Ua=function(i){this.g&&(this.response=this.responseText=i,RC(this))},it.Ta=function(i){this.g&&(this.response=i,RC(this))},it.ha=function(){this.g&&RC(this)},it.setRequestHeader=function(i,t){this.v.append(i,t)},it.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],t=this.h.entries(),e=t.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=t.next();return i.join("\r\n")},Object.defineProperty(aA.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var CU=Ut.JSON.parse;function Jr(i){kr.call(this),this.headers=new Ky,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=BF,this.K=this.L=!1}ci(Jr,kr);var BF="",EU=/^https?$/i,wU=["POST","PUT"];function TU(i){return"content-type"==i.toLowerCase()}function UF(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,jF(i),uA(i)}function jF(i){i.D||(i.D=!0,Gi(i,"complete"),Gi(i,"error"))}function HF(i){if(i.h&&void 0!==sp&&(!i.C[1]||4!=xc(i)||2!=i.ba()))if(i.v&&4==xc(i))PR(i.Fa,0,i);else if(Gi(i,"readystatechange"),4==xc(i)){i.h=!1;try{var o,t=i.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}if(!(o=e)){var u;if(u=0===t){var c=String(i.H).match(AF)[1]||null;if(!c&&Ut.self&&Ut.self.location){var g=Ut.self.location.protocol;c=g.substr(0,g.length-1)}u=!EU.test(c?c.toLowerCase():"")}o=u}if(o)Gi(i,"complete"),Gi(i,"success");else{i.m=6;try{var v=2<xc(i)?i.g.statusText:""}catch(E){v=""}i.j=v+" ["+i.ba()+"]",jF(i)}}finally{uA(i)}}}function uA(i,t){if(i.g){GF(i);var e=i.g,o=i.C[0]?ap:null;i.g=null,i.C=null,t||Gi(i,"ready");try{e.onreadystatechange=o}catch(u){}}}function GF(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Ut.clearTimeout(i.A),i.A=null)}function xc(i){return i.g?i.g.readyState:0}function zF(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case BF:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(t){return null}}function YR(i,t,e){e:{for(o in e){var o=!1;break e}o=!0}o||(e=function(i){var t="";return $S(i,function(e,o){t+=o,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):mr(i,t,e))}function PC(i,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||t}function qF(i){this.za=0,this.l=[],this.h=new QS,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=PC("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=PC("baseRetryDelayMs",5e3,i),this.$a=PC("retryDelaySeedMs",1e4,i),this.Ya=PC("forwardChannelMaxRetries",2,i),this.ra=PC("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new kF(i&&i.concurrentRequestLimit),this.Ca=new _U,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function KR(i){if($F(i),3==i.G){var t=i.V++,e=Mc(i.F);mr(e,"SID",i.J),mr(e,"RID",t),mr(e,"TYPE","terminate"),NC(i,e),(t=new TC(i,i.h,t,void 0)).K=2,t.v=oA(Mc(e)),e=!1,Ut.navigator&&Ut.navigator.sendBeacon&&(e=Ut.navigator.sendBeacon(t.v.toString(),"")),!e&&Ut.Image&&((new Image).src=t.v,e=!0),e||(t.g=tL(t.l,null),t.g.ea(t.v)),t.F=Date.now(),SC(t)}XF(i)}function lA(i){i.g&&(JR(i),i.g.cancel(),i.g=null)}function $F(i){lA(i),i.u&&(Ut.clearTimeout(i.u),i.u=null),hA(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Ut.clearTimeout(i.m),i.m=null)}function QR(i,t){i.l.push(new mU(i.Za++,t)),3==i.G&&cA(i)}function cA(i){PF(i.i)||i.m||(i.m=!0,xR(i.Ha,i),i.C=0)}function WF(i,t){var e;e=t?t.m:i.V++;var o=Mc(i.F);mr(o,"SID",i.J),mr(o,"RID",e),mr(o,"AID",i.U),NC(i,o),i.o&&i.s&&YR(o,i.o,i.s),e=new TC(i,i.h,e,i.C+1),null===i.o&&(e.H=i.s),t&&(i.l=t.D.concat(i.l)),t=YF(i,e,1e3),e.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),qR(i.i,e),UR(e,o,t)}function NC(i,t){i.j&&HR({},function(e,o){mr(t,o,e)})}function YF(i,t,e){e=Math.min(i.l.length,e);var o=i.j?Or(i.j.Oa,i.j,i):null;e:for(var u=i.l,c=-1;;){var g=["count="+e];-1==c?0<e?g.push("ofs="+(c=u[0].h)):c=0:g.push("ofs="+c);for(var v=!0,E=0;E<e;E++){var S=u[E].h,M=u[E].g;if(0>(S-=c))c=Math.max(0,u[E].h-100),v=!1;else try{vU(M,g,"req"+S+"_")}catch(k){o&&o(M)}}if(v){o=g.join("&");break e}}return i=i.l.splice(0,e),t.D=i,o}function KF(i){i.g||i.u||(i.Y=1,xR(i.Ga,i),i.A=0)}function ZR(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=wC(Or(i.Ga,i),JF(i,i.A)),i.A++,0))}function JR(i){null!=i.B&&(Ut.clearTimeout(i.B),i.B=null)}function QF(i){i.g=new TC(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var t=Mc(i.oa);mr(t,"RID","rpc"),mr(t,"SID",i.J),mr(t,"CI",i.N?"0":"1"),mr(t,"AID",i.U),NC(i,t),mr(t,"TYPE","xmlhttp"),i.o&&i.s&&YR(t,i.o,i.s),i.K&&i.g.setTimeout(i.K);var e=i.g;i=i.la,e.K=1,e.v=oA(Mc(t)),e.s=null,e.U=!0,wF(e,i)}function hA(i){null!=i.v&&(Ut.clearTimeout(i.v),i.v=null)}function ZF(i,t){var e=null;if(i.g==t){hA(i),JR(i),i.g=null;var o=2}else{if(!zR(i.i,t))return;e=t.D,FF(i.i,t),o=1}if(i.I=t.N,0!=i.G)if(t.i)if(1==o){e=t.s?t.s.length:0,t=Date.now()-t.F;var u=i.C;Gi(o=ZS(),new _F(o,e,t,u)),cA(i)}else KF(i);else if(3==(u=t.o)||0==u&&0<i.I||!(1==o&&function(i,t){return!(NF(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=t.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=wC(Or(i.Ha,i,t),JF(i,i.C)),i.C++,0)))}(i,t)||2==o&&ZR(i)))switch(e&&0<e.length&&(t=i.i,t.i=t.i.concat(e)),u){case 1:vp(i,5);break;case 4:vp(i,10);break;case 3:vp(i,6);break;default:vp(i,2)}}function JF(i,t){var e=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(e*=2),e*t}function vp(i,t){if(i.h.info("Error code "+t),2==t){var e=null;i.j&&(e=null);var o=Or(i.jb,i);e||(e=new _p("//www.google.com/images/cleardot.gif"),Ut.location&&"http"==Ut.location.protocol||nA(e,"https"),oA(e)),function(i,t){var e=new QS;if(Ut.Image){var o=new Image;o.onload=su(sA,e,o,"TestLoadImage: loaded",!0,t),o.onerror=su(sA,e,o,"TestLoadImage: error",!1,t),o.onabort=su(sA,e,o,"TestLoadImage: abort",!1,t),o.ontimeout=su(sA,e,o,"TestLoadImage: timeout",!1,t),Ut.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else t(!1)}(e.toString(),o)}else Eo(2);i.G=0,i.j&&i.j.va(t),XF(i),$F(i)}function XF(i){i.G=0,i.I=-1,i.j&&((0!=LF(i.i).length||0!=i.l.length)&&(i.i.i.length=0,gC(i.l),i.l.length=0),i.j.ua())}function eL(i,t,e){var o=function(i){return i instanceof _p?Mc(i):new _p(i,void 0)}(e);if(""!=o.i)t&&rA(o,t+"."+o.i),iA(o,o.m);else{var u=Ut.location;o=function(i,t,e,o){var u=new _p(null,void 0);return i&&nA(u,i),t&&rA(u,t),e&&iA(u,e),o&&(u.l=o),u}(u.protocol,t?t+"."+u.hostname:u.hostname,+u.port,e)}return i.aa&&$S(i.aa,function(c,g){mr(o,g,c)}),e=i.sa,(t=i.D)&&e&&mr(o,t,e),mr(o,"VER",i.ma),NC(i,o),o}function tL(i,t,e){if(t&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Jr(e&&i.Ba&&!i.qa?new OC({ib:!0}):i.qa)).L=i.H,t}function nL(){}function dA(){if(hp&&!(10<=Number(w)))throw Error("Environmental error: no available transport.")}function Ds(i,t){kr.call(this),this.g=new qF(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(i?i["X-WebChannel-Client-Profile"]=t.ya:i={"X-WebChannel-Client-Profile":t.ya}),this.g.P=i,(i=t&&t.httpHeadersOverwriteParam)&&!Wy(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Wy(t)&&(this.g.D=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new Zy(this)}function rL(i){FR.call(this);var t=i.__sm__;if(t){e:{for(var e in t){i=e;break e}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function iL(){LR.call(this),this.status=1}function Zy(i){this.g=i}(it=Jr.prototype).ea=function(i,t,e,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);t=t?t.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():VR.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:VR),this.g.onreadystatechange=Or(this.Fa,this);try{this.F=!0,this.g.open(t,String(i),!0),this.F=!1}catch(c){return void UF(this,c)}i=e||"";var u=new Ky(this.headers);o&&HR(o,function(c,g){u.set(g,c)}),o=function(i){e:{for(var t=TU,e=i.length,o="string"==typeof i?i.split(""):i,u=0;u<e;u++)if(u in o&&t.call(void 0,o[u],u,i)){t=u;break e}t=-1}return 0>t?null:"string"==typeof i?i.charAt(t):i[t]}(u.T()),e=Ut.FormData&&i instanceof Ut.FormData,!(0<=fC(wU,t))||o||e||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(c,g){this.g.setRequestHeader(g,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{GF(this),0<this.B&&((this.K=function(i){return hp&&m()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Or(this.pa,this)):this.A=PR(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){UF(this,c)}},it.pa=function(){void 0!==sp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gi(this,"timeout"),this.abort(8))},it.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Gi(this,"complete"),Gi(this,"abort"),uA(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uA(this,!0)),Jr.Z.M.call(this)},it.Fa=function(){this.s||(this.F||this.v||this.l?HF(this):this.cb())},it.cb=function(){HF(this)},it.ba=function(){try{return 2<xc(this)?this.g.status:-1}catch(i){return-1}},it.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},it.Qa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),CU(t)}},it.Da=function(){return this.m},it.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=qF.prototype).ma=8,it.G=1,it.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(t){}},it.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var t=new TC(this,this.h,i,void 0),e=this.s;if(this.P&&(e?WS(e=DR(e),this.P):e=this.P),null===this.o&&(t.H=e),this.ja)e:{for(var o=0,u=0;u<this.l.length;u++){var c=this.l[u];if(void 0===(c="__data__"in c.g&&"string"==typeof(c=c.g.__data__)?c.length:void 0))break;if(4096<(o+=c)){o=u;break e}if(4096===o||u===this.l.length-1){o=u+1;break e}}o=1e3}else o=1e3;o=YF(this,t,o),mr(u=Mc(this.F),"RID",i),mr(u,"CVER",22),this.D&&mr(u,"X-HTTP-Session-Id",this.D),NC(this,u),this.o&&e&&YR(u,this.o,e),qR(this.i,t),this.Ra&&mr(u,"TYPE","init"),this.ja?(mr(u,"$req",o),mr(u,"SID","null"),t.$=!0,UR(t,u,null)):UR(t,u,o),this.G=2}}else 3==this.G&&(i?WF(this,i):0==this.l.length||PF(this.i)||WF(this))},it.Ga=function(){if(this.u=null,QF(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=wC(Or(this.bb,this),i)}},it.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Eo(10),lA(this),QF(this))},it.ab=function(){null!=this.v&&(this.v=null,lA(this),ZR(this),Eo(19))},it.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Eo(2)):(this.h.info("Failed to ping google.com"),Eo(1))},(it=nL.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Oa=function(){},dA.prototype.g=function(i,t){return new Ds(i,t)},ci(Ds,kr),Ds.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,t=this.l,e=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),xR(Or(i.hb,i,t))),Eo(0),i.W=t,i.aa=e||{},i.N=i.X,i.F=eL(i,null,i.W),cA(i)},Ds.prototype.close=function(){KR(this.g)},Ds.prototype.u=function(i){if("string"==typeof i){var t={};t.__data__=i,QR(this.g,t)}else this.v?((t={}).__data__=MR(i),QR(this.g,t)):QR(this.g,i)},Ds.prototype.M=function(){this.g.j=null,delete this.j,KR(this.g),delete this.g,Ds.Z.M.call(this)},ci(rL,FR),ci(iL,LR),ci(Zy,nL),Zy.prototype.xa=function(){Gi(this.g,"a")},Zy.prototype.wa=function(i){Gi(this.g,new rL(i))},Zy.prototype.va=function(i){Gi(this.g,new iL(i))},Zy.prototype.ua=function(){Gi(this.g,"b")},dA.prototype.createWebChannel=dA.prototype.g,Ds.prototype.send=Ds.prototype.u,Ds.prototype.open=Ds.prototype.m,Ds.prototype.close=Ds.prototype.close,JS.NO_ERROR=0,JS.TIMEOUT=8,JS.HTTP_ERROR=6,vF.COMPLETE="complete",CF.EventType=DC,DC.OPEN="a",DC.CLOSE="b",DC.ERROR="c",DC.MESSAGE="d",kr.prototype.listen=kr.prototype.N,Jr.prototype.listenOnce=Jr.prototype.O,Jr.prototype.getLastError=Jr.prototype.La,Jr.prototype.getLastErrorCode=Jr.prototype.Da,Jr.prototype.getStatus=Jr.prototype.ba,Jr.prototype.getResponseJson=Jr.prototype.Qa,Jr.prototype.getResponseText=Jr.prototype.ga,Jr.prototype.send=Jr.prototype.ea;var fA=JS,aL=vF,uL=gp,XR_PROXY=10,XR_NOPROXY=11,lL=OC,FC=CF,cL=Jr,Ts=function(){function i(t,e){var o=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(u){return o.t(u)},this.i=function(u){return e.writeSequenceNumber(u)})}return i.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},i.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},i}();Ts.o=-1;var Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ue=function(i){function t(e,o){var u=this;return(u=i.call(this,o)||this).code=e,u.message=o,u.name="FirebaseError",u.toString=function(){return u.name+": [code="+u.code+"]: "+u.message},u}return(0,z.ZT)(t,i),t}(Error),au=new to.Yd("@firebase/firestore");function ek(){return au.logLevel}function ze(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(au.logLevel<=to.in.DEBUG){var o=t.map(tk);au.debug.apply(au,(0,z.ev)(["Firestore (8.8.0): "+i],o))}}function Xr(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(au.logLevel<=to.in.ERROR){var o=t.map(tk);au.error.apply(au,(0,z.ev)(["Firestore (8.8.0): "+i],o))}}function LC(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(au.logLevel<=to.in.WARN){var o=t.map(tk);au.warn.apply(au,(0,z.ev)(["Firestore (8.8.0): "+i],o))}}function tk(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(e){return i}}function yt(i){void 0===i&&(i="Unexpected state");var t="FIRESTORE (8.8.0) INTERNAL ASSERTION FAILED: "+i;throw Xr(t),new Error(t)}function Ft(i,t){i||yt()}function Ze(i,t){return i}function IU(i){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(var o=0;o<i;o++)e[o]=Math.floor(256*Math.random());return e}var hL=function(){function i(){}return i.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,o="";o.length<20;)for(var u=IU(40),c=0;c<u.length;++c)o.length<20&&u[c]<e&&(o+=t.charAt(u[c]%t.length));return o},i}();function cn(i,t){return i<t?-1:i>t?1:0}function Jy(i,t,e){return i.length===t.length&&i.every(function(o,u){return e(o,t[u])})}function dL(i){return i+"\0"}var Ko=function(){function i(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ue(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ue(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ue(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ue(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return i.now=function(){return i.fromMillis(Date.now())},i.fromDate=function(t){return i.fromMillis(t.getTime())},i.fromMillis=function(t){var e=Math.floor(t/1e3);return new i(e,Math.floor(1e6*(t-1e3*e)))},i.prototype.toDate=function(){return new Date(this.toMillis())},i.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},i.prototype._compareTo=function(t){return this.seconds===t.seconds?cn(this.nanoseconds,t.nanoseconds):cn(this.seconds,t.seconds)},i.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},i.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},i.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},i.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},i}(),rn=function(){function i(t){this.timestamp=t}return i.fromTimestamp=function(t){return new i(t)},i.min=function(){return new i(new Ko(0,0))},i.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},i.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},i.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},i.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},i.prototype.toTimestamp=function(){return this.timestamp},i}();function fL(i){var t=0;for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function bp(i,t){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function pL(i){for(var t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}var gL=function(){function i(t,e,o){void 0===e?e=0:e>t.length&&yt(),void 0===o?o=t.length-e:o>t.length-e&&yt(),this.segments=t,this.offset=e,this.len=o}return Object.defineProperty(i.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return 0===i.comparator(this,t)},i.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(function(o){e.push(o)}):e.push(t),this.construct(e)},i.prototype.limit=function(){return this.offset+this.length},i.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},i.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},i.prototype.firstSegment=function(){return this.segments[this.offset]},i.prototype.lastSegment=function(){return this.get(this.length-1)},i.prototype.get=function(t){return this.segments[this.offset+t]},i.prototype.isEmpty=function(){return 0===this.length},i.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},i.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},i.prototype.forEach=function(t){for(var e=this.offset,o=this.limit();e<o;e++)t(this.segments[e])},i.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},i.comparator=function(t,e){for(var o=Math.min(t.length,e.length),u=0;u<o;u++){var c=t.get(u),g=e.get(u);if(c<g)return-1;if(c>g)return 1}return t.length<e.length?-1:t.length>e.length?1:0},i}(),Sn=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,z.ZT)(t,i),t.prototype.construct=function(e,o,u){return new t(e,o,u)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];for(var u=[],c=0,g=e;c<g.length;c++){var v=g[c];if(v.indexOf("//")>=0)throw new Ue(Ae.INVALID_ARGUMENT,"Invalid segment ("+v+"). Paths must not contain // in them.");u.push.apply(u,v.split("/").filter(function(E){return E.length>0}))}return new t(u)},t.emptyPath=function(){return new t([])},t}(gL),MU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,uu=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,z.ZT)(t,i),t.prototype.construct=function(e,o,u){return new t(e,o,u)},t.isValidIdentifier=function(e){return MU.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var o=[],u="",c=0,g=function(){if(0===u.length)throw new Ue(Ae.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");o.push(u),u=""},v=!1;c<e.length;){var E=e[c];if("\\"===E){if(c+1===e.length)throw new Ue(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var S=e[c+1];if("\\"!==S&&"."!==S&&"`"!==S)throw new Ue(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);u+=S,c+=2}else"`"===E?(v=!v,c++):"."!==E||v?(u+=E,c++):(g(),c++)}if(g(),v)throw new Ue(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(o)},t.emptyPath=function(){return new t([])},t}(gL),Xy=function(){function i(t){this.fields=t,t.sort(uu.comparator)}return i.prototype.covers=function(t){for(var e=0,o=this.fields;e<o.length;e++)if(o[e].isPrefixOf(t))return!0;return!1},i.prototype.isEqual=function(t){return Jy(this.fields,t.fields,function(e,o){return e.isEqual(o)})},i}(),wo=function(){function i(t){this.binaryString=t}return i.fromBase64String=function(t){return new i(atob(t))},i.fromUint8Array=function(t){return new i(function(e){for(var o="",u=0;u<e.length;++u)o+=String.fromCharCode(e[u]);return o}(t))},i.prototype.toBase64=function(){return btoa(this.binaryString)},i.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),o=0;o<t.length;o++)e[o]=t.charCodeAt(o);return e}(this.binaryString)},i.prototype.approximateByteSize=function(){return 2*this.binaryString.length},i.prototype.compareTo=function(t){return cn(this.binaryString,t.binaryString)},i.prototype.isEqual=function(t){return this.binaryString===t.binaryString},i}();wo.EMPTY_BYTE_STRING=new wo("");var xU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function md(i){if(Ft(!!i),"string"==typeof i){var t=0,e=xU.exec(i);if(Ft(!!e),e[1]){var o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}var u=new Date(i);return{seconds:Math.floor(u.getTime()/1e3),nanos:t}}return{seconds:ei(i.seconds),nanos:ei(i.nanos)}}function ei(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function e_(i){return"string"==typeof i?wo.fromBase64String(i):wo.fromUint8Array(i)}function nk(i){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==i?void 0:i.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function mL(i){var t=i.mapValue.fields.__previous_value__;return nk(t)?mL(t):t}function VC(i){var t=md(i.mapValue.fields.__local_write_time__.timestampValue);return new Ko(t.seconds,t.nanos)}function Cp(i){return null==i}function pA(i){return 0===i&&1/i==-1/0}function yL(i){return"number"==typeof i&&Number.isInteger(i)&&!pA(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}var vt=function(){function i(t){this.path=t}return i.fromPath=function(t){return new i(Sn.fromString(t))},i.fromName=function(t){return new i(Sn.fromString(t).popFirst(5))},i.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},i.prototype.isEqual=function(t){return null!==t&&0===Sn.comparator(this.path,t.path)},i.prototype.toString=function(){return this.path.toString()},i.comparator=function(t,e){return Sn.comparator(t.path,e.path)},i.isDocumentKey=function(t){return t.length%2==0},i.fromSegments=function(t){return new i(new Sn(t.slice()))},i}();function Ep(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?nk(i)?4:10:yt()}function al(i,t){var u,e=Ep(i);if(e!==Ep(t))return!1;switch(e){case 0:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return VC(i).isEqual(VC(t));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;var c=md(o.timestampValue),g=md(u.timestampValue);return c.seconds===g.seconds&&c.nanos===g.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return u=t,e_(i.bytesValue).isEqual(e_(u.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return ei(o.geoPointValue.latitude)===ei(u.geoPointValue.latitude)&&ei(o.geoPointValue.longitude)===ei(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ei(o.integerValue)===ei(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){var c=ei(o.doubleValue),g=ei(u.doubleValue);return c===g?pA(c)===pA(g):isNaN(c)&&isNaN(g)}return!1}(i,t);case 9:return Jy(i.arrayValue.values||[],t.arrayValue.values||[],al);case 10:return function(o,u){var c=o.mapValue.fields||{},g=u.mapValue.fields||{};if(fL(c)!==fL(g))return!1;for(var v in c)if(c.hasOwnProperty(v)&&(void 0===g[v]||!al(c[v],g[v])))return!1;return!0}(i,t);default:return yt()}}function BC(i,t){return void 0!==(i.values||[]).find(function(e){return al(e,t)})}function t_(i,t){var u,c,g,v,e=Ep(i),o=Ep(t);if(e!==o)return cn(e,o);switch(e){case 0:return 0;case 1:return cn(i.booleanValue,t.booleanValue);case 2:return c=t,(g=ei((u=i).integerValue||u.doubleValue))<(v=ei(c.integerValue||c.doubleValue))?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1;case 3:return _L(i.timestampValue,t.timestampValue);case 4:return _L(VC(i),VC(t));case 5:return cn(i.stringValue,t.stringValue);case 6:return function(u,c){var g=e_(u),v=e_(c);return g.compareTo(v)}(i.bytesValue,t.bytesValue);case 7:return function(u,c){for(var g=u.split("/"),v=c.split("/"),E=0;E<g.length&&E<v.length;E++){var S=cn(g[E],v[E]);if(0!==S)return S}return cn(g.length,v.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,c){var g=cn(ei(u.latitude),ei(c.latitude));return 0!==g?g:cn(ei(u.longitude),ei(c.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(u,c){for(var g=u.values||[],v=c.values||[],E=0;E<g.length&&E<v.length;++E){var S=t_(g[E],v[E]);if(S)return S}return cn(g.length,v.length)}(i.arrayValue,t.arrayValue);case 10:return function(u,c){var g=u.fields||{},v=Object.keys(g),E=c.fields||{},S=Object.keys(E);v.sort(),S.sort();for(var M=0;M<v.length&&M<S.length;++M){var k=cn(v[M],S[M]);if(0!==k)return k;var F=t_(g[v[M]],E[S[M]]);if(0!==F)return F}return cn(v.length,S.length)}(i.mapValue,t.mapValue);default:throw yt()}}function _L(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return cn(i,t);var e=md(i),o=md(t),u=cn(e.seconds,o.seconds);return 0!==u?u:cn(e.nanos,o.nanos)}function rk(i){return ik(i)}function ik(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?"time("+(u=md(i.timestampValue)).seconds+","+u.nanos+")":"stringValue"in i?i.stringValue:"bytesValue"in i?e_(i.bytesValue).toBase64():"referenceValue"in i?vt.fromName(i.referenceValue).toString():"geoPointValue"in i?"geo("+(t=i.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in i?function(o){for(var u="[",c=!0,g=0,v=o.values||[];g<v.length;g++)c?c=!1:u+=",",u+=ik(v[g]);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){for(var u="{",c=!0,g=0,v=Object.keys(o.fields||{}).sort();g<v.length;g++){var E=v[g];c?c=!1:u+=",",u+=E+":"+ik(o.fields[E])}return u+"}"}(i.mapValue):yt();var u,t}function gA(i,t){return{referenceValue:"projects/"+i.projectId+"/databases/"+i.database+"/documents/"+t.path.canonicalString()}}function ok(i){return!!i&&"integerValue"in i}function sk(i){return!!i&&"arrayValue"in i}function vL(i){return!!i&&"nullValue"in i}function bL(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function mA(i){return!!i&&"mapValue"in i}function UC(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){var t={mapValue:{fields:{}}};return bp(i.mapValue.fields,function(u,c){return t.mapValue.fields[u]=UC(c)}),t}if(i.arrayValue){for(var e={arrayValue:{values:[]}},o=0;o<(i.arrayValue.values||[]).length;++o)e.arrayValue.values[o]=UC(i.arrayValue.values[o]);return e}return Object.assign({},i)}var Ss=function(){function i(t){this.value=t}return i.empty=function(){return new i({mapValue:{}})},i.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,o=0;o<t.length-1;++o)if(!mA(e=(e.mapValue.fields||{})[t.get(o)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},i.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=UC(e)},i.prototype.setAll=function(t){var e=this,o=uu.emptyPath(),u={},c=[];t.forEach(function(v,E){if(!o.isImmediateParentOf(E)){var S=e.getFieldsMap(o);e.applyChanges(S,u,c),u={},c=[],o=E.popLast()}v?u[E.lastSegment()]=UC(v):c.push(E.lastSegment())});var g=this.getFieldsMap(o);this.applyChanges(g,u,c)},i.prototype.delete=function(t){var e=this.field(t.popLast());mA(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},i.prototype.isEqual=function(t){return al(this.value,t.value)},i.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var o=0;o<t.length;++o){var u=e.mapValue.fields[t.get(o)];mA(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},e.mapValue.fields[t.get(o)]=u),e=u}return e.mapValue.fields},i.prototype.applyChanges=function(t,e,o){bp(e,function(v,E){return t[v]=E});for(var u=0,c=o;u<c.length;u++)delete t[c[u]]},i.prototype.clone=function(){return new i(UC(this.value))},i}();function CL(i){var t=[];return bp(i.fields,function(e,o){var u=new uu([e]);if(mA(o)){var c=CL(o.mapValue).fields;if(0===c.length)t.push(u);else for(var g=0,v=c;g<v.length;g++)t.push(u.child(v[g]))}else t.push(u)}),new Xy(t)}var zi=function(){function i(t,e,o,u,c){this.key=t,this.documentType=e,this.version=o,this.data=u,this.documentState=c}return i.newInvalidDocument=function(t){return new i(t,0,rn.min(),Ss.empty(),0)},i.newFoundDocument=function(t,e,o){return new i(t,1,e,o,0)},i.newNoDocument=function(t,e){return new i(t,2,e,Ss.empty(),0)},i.newUnknownDocument=function(t,e){return new i(t,3,e,Ss.empty(),2)},i.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},i.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ss.empty(),this.documentState=0,this},i.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ss.empty(),this.documentState=2,this},i.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},i.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(i.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),i.prototype.isValidDocument=function(){return 0!==this.documentType},i.prototype.isFoundDocument=function(){return 1===this.documentType},i.prototype.isNoDocument=function(){return 2===this.documentType},i.prototype.isUnknownDocument=function(){return 3===this.documentType},i.prototype.isEqual=function(t){return t instanceof i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},i.prototype.clone=function(){return new i(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},i}(),OU=function(i,t,e,o,u,c,g){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===u&&(u=null),void 0===c&&(c=null),void 0===g&&(g=null),this.path=i,this.collectionGroup=t,this.orderBy=e,this.filters=o,this.limit=u,this.startAt=c,this.endAt=g,this.h=null};function EL(i,t,e,o,u,c,g){return void 0===t&&(t=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===u&&(u=null),void 0===c&&(c=null),void 0===g&&(g=null),new OU(i,t,e,o,u,c,g)}function jC(i){var t=Ze(i);if(null===t.h){var e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(function(o){return(u=o).field.canonicalString()+u.op.toString()+rk(u.value);var u}).join(","),e+="|ob:",e+=t.orderBy.map(function(o){return(u=o).field.canonicalString()+u.dir;var u}).join(","),Cp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=vA(t.startAt)),t.endAt&&(e+="|ub:",e+=vA(t.endAt)),t.h=e}return t.h}function yA(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<i.orderBy.length;e++)if(!BU(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(var o=0;o<i.filters.length;o++)if((u=i.filters[o]).op!==(c=t.filters[o]).op||!u.field.isEqual(c.field)||!al(u.value,c.value))return!1;var u,c;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!TL(i.startAt,t.startAt)&&TL(i.endAt,t.endAt)}function _A(i){return vt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}var As=function(i){function t(e,o,u){var c=this;return(c=i.call(this)||this).field=e,c.op=o,c.value=u,c}return(0,z.ZT)(t,i),t.create=function(e,o,u){return e.isKeyField()?"in"===o||"not-in"===o?this.l(e,o,u):new RU(e,o,u):"array-contains"===o?new NU(e,u):"in"===o?new FU(e,u):"not-in"===o?new LU(e,u):"array-contains-any"===o?new VU(e,u):new t(e,o,u)},t.l=function(e,o,u){return"in"===o?new kU(e,u):new PU(e,u)},t.prototype.matches=function(e){var o=e.data.field(this.field);return"!="===this.op?null!==o&&this.m(t_(o,this.value)):null!==o&&Ep(this.value)===Ep(o)&&this.m(t_(o,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yt()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),RU=function(i){function t(e,o,u){var c=this;return(c=i.call(this,e,o,u)||this).key=vt.fromName(u.referenceValue),c}return(0,z.ZT)(t,i),t.prototype.matches=function(e){var o=vt.comparator(e.key,this.key);return this.m(o)},t}(As),kU=function(i){function t(e,o){var u=this;return(u=i.call(this,e,"in",o)||this).keys=wL(0,o),u}return(0,z.ZT)(t,i),t.prototype.matches=function(e){return this.keys.some(function(o){return o.isEqual(e.key)})},t}(As),PU=function(i){function t(e,o){var u=this;return(u=i.call(this,e,"not-in",o)||this).keys=wL(0,o),u}return(0,z.ZT)(t,i),t.prototype.matches=function(e){return!this.keys.some(function(o){return o.isEqual(e.key)})},t}(As);function wL(i,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(o){return vt.fromName(o.referenceValue)})}var NU=function(i){function t(e,o){return i.call(this,e,"array-contains",o)||this}return(0,z.ZT)(t,i),t.prototype.matches=function(e){var o=e.data.field(this.field);return sk(o)&&BC(o.arrayValue,this.value)},t}(As),FU=function(i){function t(e,o){return i.call(this,e,"in",o)||this}return(0,z.ZT)(t,i),t.prototype.matches=function(e){var o=e.data.field(this.field);return null!==o&&BC(this.value.arrayValue,o)},t}(As),LU=function(i){function t(e,o){return i.call(this,e,"not-in",o)||this}return(0,z.ZT)(t,i),t.prototype.matches=function(e){if(BC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var o=e.data.field(this.field);return null!==o&&!BC(this.value.arrayValue,o)},t}(As),VU=function(i){function t(e,o){return i.call(this,e,"array-contains-any",o)||this}return(0,z.ZT)(t,i),t.prototype.matches=function(e){var o=this,u=e.data.field(this.field);return!(!sk(u)||!u.arrayValue.values)&&u.arrayValue.values.some(function(c){return BC(o.value.arrayValue,c)})},t}(As),HC=function(i,t){this.position=i,this.before=t};function vA(i){return(i.before?"b":"a")+":"+i.position.map(function(t){return rk(t)}).join(",")}var n_=function(i,t){void 0===t&&(t="asc"),this.field=i,this.dir=t};function BU(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}function DL(i,t,e){for(var o=0,u=0;u<i.position.length;u++){var c=t[u],g=i.position[u];if(o=c.field.isKeyField()?vt.comparator(vt.fromName(g.referenceValue),e.key):t_(g,e.data.field(c.field)),"desc"===c.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function TL(i,t){if(null===i)return null===t;if(null===t||i.before!==t.before||i.position.length!==t.position.length)return!1;for(var e=0;e<i.position.length;e++)if(!al(i.position[e],t.position[e]))return!1;return!0}var Oc=function(i,t,e,o,u,c,g,v){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===u&&(u=null),void 0===c&&(c="F"),void 0===g&&(g=null),void 0===v&&(v=null),this.path=i,this.collectionGroup=t,this.explicitOrderBy=e,this.filters=o,this.limit=u,this.limitType=c,this.startAt=g,this.endAt=v,this.p=null,this.T=null};function SL(i,t,e,o,u,c,g,v){return new Oc(i,t,e,o,u,c,g,v)}function r_(i){return new Oc(i)}function bA(i){return!Cp(i.limit)&&"F"===i.limitType}function CA(i){return!Cp(i.limit)&&"L"===i.limitType}function ak(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function uk(i){for(var t=0,e=i.filters;t<e.length;t++){var o=e[t];if(o.g())return o.field}return null}function lk(i){return null!==i.collectionGroup}function i_(i){var t=Ze(i);if(null===t.p){t.p=[];var e=uk(t),o=ak(t);if(null!==e&&null===o)e.isKeyField()||t.p.push(new n_(e)),t.p.push(new n_(uu.keyField(),"asc"));else{for(var u=!1,c=0,g=t.explicitOrderBy;c<g.length;c++){var v=g[c];t.p.push(v),v.field.isKeyField()&&(u=!0)}if(!u){var E=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new n_(uu.keyField(),E))}}}return t.p}function ba(i){var t=Ze(i);if(!t.T)if("F"===t.limitType)t.T=EL(t.path,t.collectionGroup,i_(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var e=[],o=0,u=i_(t);o<u.length;o++){var c=u[o];e.push(new n_(c.field,"desc"===c.dir?"asc":"desc"))}var v=t.endAt?new HC(t.endAt.position,!t.endAt.before):null,E=t.startAt?new HC(t.startAt.position,!t.startAt.before):null;t.T=EL(t.path,t.collectionGroup,e,t.filters,t.limit,v,E)}return t.T}function AL(i,t,e){return new Oc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function GC(i,t){return yA(ba(i),ba(t))&&i.limitType===t.limitType}function IL(i){return jC(ba(i))+"|lt:"+i.limitType}function ck(i){return"Query(target="+(e=(t=ba(i)).path.canonicalString(),null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(o){return(u=o).field.canonicalString()+" "+u.op+" "+rk(u.value);var u}).join(", ")+"]"),Cp(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(o){return(u=o).field.canonicalString()+" ("+u.dir+")";var u}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+vA(t.startAt)),t.endAt&&(e+=", endAt: "+vA(t.endAt)),"Target("+e+"); limitType=")+i.limitType+")";var t,e}function zC(i,t){return t.isFoundDocument()&&(u=(o=t).key.path,null!==(e=i).collectionGroup?o.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(u):vt.isDocumentKey(e.path)?e.path.isEqual(u):e.path.isImmediateParentOf(u))&&function(e,o){for(var u=0,c=e.explicitOrderBy;u<c.length;u++){var g=c[u];if(!g.field.isKeyField()&&null===o.data.field(g.field))return!1}return!0}(i,t)&&function(e,o){for(var u=0,c=e.filters;u<c.length;u++)if(!c[u].matches(o))return!1;return!0}(i,t)&&function(e,o){return!(e.startAt&&!DL(e.startAt,i_(e),o)||e.endAt&&DL(e.endAt,i_(e),o))}(i,t);var e,o,u}function ML(i){return function(t,e){for(var o=!1,u=0,c=i_(i);u<c.length;u++){var g=c[u],v=UU(g,t,e);if(0!==v)return v;o=o||g.field.isKeyField()}return 0}}function UU(i,t,e){var u,g,v,E,o=i.field.isKeyField()?vt.comparator(t.key,e.key):(g=e,v=t.data.field(u=i.field),E=g.data.field(u),null!==v&&null!==E?t_(v,E):yt());switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return yt()}}function xL(i,t){if(i.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pA(t)?"-0":t}}function OL(i){return{integerValue:""+i}}function RL(i,t){return yL(t)?OL(t):xL(i,t)}var EA=function(){this._=void 0};function jU(i,t,e){return i instanceof o_?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(o=e).seconds,nanos:o.nanoseconds}}}},(u=t)&&(c.fields.__previous_value__=u),{mapValue:c}):i instanceof wp?PL(i,t):i instanceof Dp?NL(i,t):function(o,u){var c=kL(o,u),g=FL(c)+FL(o.A);return ok(c)&&ok(o.A)?OL(g):xL(o.R,g)}(i,t);var o,u,c}function HU(i,t,e){return i instanceof wp?PL(i,t):i instanceof Dp?NL(i,t):e}function kL(i,t){return i instanceof s_?ok(e=t)||(o=e)&&"doubleValue"in o?t:{integerValue:0}:null;var o,e}var o_=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,z.ZT)(t,i),t}(EA),wp=function(i){function t(e){var o=this;return(o=i.call(this)||this).elements=e,o}return(0,z.ZT)(t,i),t}(EA);function PL(i,t){for(var e=LL(t),o=function(g){e.some(function(v){return al(v,g)})||e.push(g)},u=0,c=i.elements;u<c.length;u++)o(c[u]);return{arrayValue:{values:e}}}var Dp=function(i){function t(e){var o=this;return(o=i.call(this)||this).elements=e,o}return(0,z.ZT)(t,i),t}(EA);function NL(i,t){for(var e=LL(t),o=function(g){e=e.filter(function(v){return!al(v,g)})},u=0,c=i.elements;u<c.length;u++)o(c[u]);return{arrayValue:{values:e}}}var s_=function(i){function t(e,o){var u=this;return(u=i.call(this)||this).R=e,u.A=o,u}return(0,z.ZT)(t,i),t}(EA);function FL(i){return ei(i.integerValue||i.doubleValue)}function LL(i){return sk(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}var qC=function(i,t){this.field=i,this.transform=t},GU=function(i,t){this.version=i,this.transformResults=t},no=function(){function i(t,e){this.updateTime=t,this.exists=e}return i.none=function(){return new i},i.exists=function(t){return new i(void 0,t)},i.updateTime=function(t){return new i(t)},Object.defineProperty(i.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},i}();function wA(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}var DA=function(){};function zU(i,t,e){var o,u,c,g,v;i instanceof $C?(u=t,c=e,g=(o=i).value.clone(),v=jL(o.fieldTransforms,u,c.transformResults),g.setAll(v),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()):i instanceof yd?function(o,u,c){if(wA(o.precondition,u)){var g=jL(o.fieldTransforms,u,c.transformResults),v=u.data;v.setAll(UL(o)),v.setAll(g),u.convertToFoundDocument(c.version,v).setHasCommittedMutations()}else u.convertToUnknownDocument(c.version)}(i,t,e):function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function hk(i,t,e){var u;i instanceof $C?function(o,u,c){if(wA(o.precondition,u)){var g=o.value.clone(),v=HL(o.fieldTransforms,c,u);g.setAll(v),u.convertToFoundDocument(BL(u),g).setHasLocalMutations()}}(i,t,e):i instanceof yd?function(o,u,c){if(wA(o.precondition,u)){var g=HL(o.fieldTransforms,c,u),v=u.data;v.setAll(UL(o)),v.setAll(g),u.convertToFoundDocument(BL(u),v).setHasLocalMutations()}}(i,t,e):wA(i.precondition,u=t)&&u.convertToNoDocument(rn.min())}function qU(i,t){for(var e=null,o=0,u=i.fieldTransforms;o<u.length;o++){var c=u[o],g=t.data.field(c.field),v=kL(c.transform,g||null);null!=v&&(null==e&&(e=Ss.empty()),e.set(c.field,v))}return e||null}function VL(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(o=t.fieldTransforms,!!(void 0===(e=i.fieldTransforms)&&void 0===o||e&&o&&Jy(e,o,function(u,c){return(g=u).field.isEqual((v=c).field)&&(S=v.transform,(E=g.transform)instanceof wp&&S instanceof wp||E instanceof Dp&&S instanceof Dp?Jy(E.elements,S.elements,al):E instanceof s_&&S instanceof s_?al(E.A,S.A):E instanceof o_&&S instanceof o_);var g,v,E,S})))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var e,o}function BL(i){return i.isFoundDocument()?i.version:rn.min()}var $C=function(i){function t(e,o,u,c){void 0===c&&(c=[]);var g=this;return(g=i.call(this)||this).key=e,g.value=o,g.precondition=u,g.fieldTransforms=c,g.type=0,g}return(0,z.ZT)(t,i),t}(DA),yd=function(i){function t(e,o,u,c,g){void 0===g&&(g=[]);var v=this;return(v=i.call(this)||this).key=e,v.data=o,v.fieldMask=u,v.precondition=c,v.fieldTransforms=g,v.type=1,v}return(0,z.ZT)(t,i),t}(DA);function UL(i){var t=new Map;return i.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var o=i.data.field(e);t.set(e,o)}}),t}function jL(i,t,e){var o=new Map;Ft(i.length===e.length);for(var u=0;u<e.length;u++){var c=i[u],g=c.transform,v=t.data.field(c.field);o.set(c.field,HU(g,v,e[u]))}return o}function HL(i,t,e){for(var o=new Map,u=0,c=i;u<c.length;u++){var g=c[u],v=g.transform,E=e.data.field(g.field);o.set(g.field,jU(v,E,t))}return o}var ti,mn,WC=function(i){function t(e,o){var u=this;return(u=i.call(this)||this).key=e,u.precondition=o,u.type=2,u.fieldTransforms=[],u}return(0,z.ZT)(t,i),t}(DA),dk=function(i){function t(e,o){var u=this;return(u=i.call(this)||this).key=e,u.precondition=o,u.type=3,u.fieldTransforms=[],u}return(0,z.ZT)(t,i),t}(DA),$U=function(i){this.count=i};function GL(i){switch(i){case Ae.OK:return yt();case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return yt()}}function zL(i){if(void 0===i)return Xr("GRPC error has no .code"),Ae.UNKNOWN;switch(i){case ti.OK:return Ae.OK;case ti.CANCELLED:return Ae.CANCELLED;case ti.UNKNOWN:return Ae.UNKNOWN;case ti.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case ti.INTERNAL:return Ae.INTERNAL;case ti.UNAVAILABLE:return Ae.UNAVAILABLE;case ti.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case ti.NOT_FOUND:return Ae.NOT_FOUND;case ti.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case ti.ABORTED:return Ae.ABORTED;case ti.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case ti.DATA_LOSS:return Ae.DATA_LOSS;default:return yt()}}(mn=ti||(ti={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";var ro=function(){function i(t,e){this.comparator=t,this.root=e||_d.EMPTY}return i.prototype.insert=function(t,e){return new i(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,_d.BLACK,null,null))},i.prototype.remove=function(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_d.BLACK,null,null))},i.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var o=this.comparator(t,e.key);if(0===o)return e.value;o<0?e=e.left:o>0&&(e=e.right)}return null},i.prototype.indexOf=function(t){for(var e=0,o=this.root;!o.isEmpty();){var u=this.comparator(t,o.key);if(0===u)return e+o.left.size;u<0?o=o.left:(e+=o.left.size+1,o=o.right)}return-1},i.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(i.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),i.prototype.minKey=function(){return this.root.minKey()},i.prototype.maxKey=function(){return this.root.maxKey()},i.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},i.prototype.forEach=function(t){this.inorderTraversal(function(e,o){return t(e,o),!1})},i.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,o){return t.push(e+":"+o),!1}),"{"+t.join(", ")+"}"},i.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},i.prototype.getIterator=function(){return new TA(this.root,null,this.comparator,!1)},i.prototype.getIteratorFrom=function(t){return new TA(this.root,t,this.comparator,!1)},i.prototype.getReverseIterator=function(){return new TA(this.root,null,this.comparator,!0)},i.prototype.getReverseIteratorFrom=function(t){return new TA(this.root,t,this.comparator,!0)},i}(),TA=function(){function i(t,e,o,u){this.isReverse=u,this.nodeStack=[];for(var c=1;!t.isEmpty();)if(c=e?o(t.key,e):1,u&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(0===c){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return i.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},i.prototype.hasNext=function(){return this.nodeStack.length>0},i.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},i}(),_d=function(){function i(t,e,o,u,c){this.key=t,this.value=e,this.color=null!=o?o:i.RED,this.left=null!=u?u:i.EMPTY,this.right=null!=c?c:i.EMPTY,this.size=this.left.size+1+this.right.size}return i.prototype.copy=function(t,e,o,u,c){return new i(null!=t?t:this.key,null!=e?e:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=c?c:this.right)},i.prototype.isEmpty=function(){return!1},i.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},i.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},i.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},i.prototype.minKey=function(){return this.min().key},i.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},i.prototype.insert=function(t,e,o){var u=this,c=o(t,u.key);return(u=c<0?u.copy(null,null,null,u.left.insert(t,e,o),null):0===c?u.copy(null,e,null,null,null):u.copy(null,null,null,null,u.right.insert(t,e,o))).fixUp()},i.prototype.removeMin=function(){if(this.left.isEmpty())return i.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},i.prototype.remove=function(t,e){var o,u=this;if(e(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,e),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===e(t,u.key)){if(u.right.isEmpty())return i.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,e))}return u.fixUp()},i.prototype.isRed=function(){return this.color},i.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},i.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},i.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},i.prototype.rotateLeft=function(){var t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},i.prototype.rotateRight=function(){var t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},i.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},i.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},i.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();var t=this.left.check();if(t!==this.right.check())throw yt();return t+(this.isRed()?0:1)},i}();_d.EMPTY=null,_d.RED=!0,_d.BLACK=!1,_d.EMPTY=new(function(){function i(){this.size=0}return Object.defineProperty(i.prototype,"key",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){throw yt()},enumerable:!1,configurable:!0}),i.prototype.copy=function(t,e,o,u,c){return this},i.prototype.insert=function(t,e,o){return new _d(t,e)},i.prototype.remove=function(t,e){return this},i.prototype.isEmpty=function(){return!0},i.prototype.inorderTraversal=function(t){return!1},i.prototype.reverseTraversal=function(t){return!1},i.prototype.minKey=function(){return null},i.prototype.maxKey=function(){return null},i.prototype.isRed=function(){return!1},i.prototype.checkMaxDepth=function(){return!0},i.prototype.check=function(){return 0},i}());var hi=function(){function i(t){this.comparator=t,this.data=new ro(this.comparator)}return i.prototype.has=function(t){return null!==this.data.get(t)},i.prototype.first=function(){return this.data.minKey()},i.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(i.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),i.prototype.indexOf=function(t){return this.data.indexOf(t)},i.prototype.forEach=function(t){this.data.inorderTraversal(function(e,o){return t(e),!1})},i.prototype.forEachInRange=function(t,e){for(var o=this.data.getIteratorFrom(t[0]);o.hasNext();){var u=o.getNext();if(this.comparator(u.key,t[1])>=0)return;e(u.key)}},i.prototype.forEachWhile=function(t,e){var o;for(o=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return},i.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},i.prototype.getIterator=function(){return new qL(this.data.getIterator())},i.prototype.getIteratorFrom=function(t){return new qL(this.data.getIteratorFrom(t))},i.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},i.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},i.prototype.isEmpty=function(){return this.data.isEmpty()},i.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(o){e=e.add(o)}),e},i.prototype.isEqual=function(t){if(!(t instanceof i)||this.size!==t.size)return!1;for(var e=this.data.getIterator(),o=t.data.getIterator();e.hasNext();){var u=e.getNext().key,c=o.getNext().key;if(0!==this.comparator(u,c))return!1}return!0},i.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},i.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},i.prototype.copy=function(t){var e=new i(this.comparator);return e.data=t,e},i}(),qL=function(){function i(t){this.iter=t}return i.prototype.getNext=function(){return this.iter.getNext().key},i.prototype.hasNext=function(){return this.iter.hasNext()},i}(),WU=new ro(vt.comparator);function Ca(){return WU}var YU=new ro(vt.comparator);function fk(){return YU}var KU=new ro(vt.comparator);function $L(){return KU}var QU=new hi(vt.comparator);function Vn(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var e=QU,o=0,u=i;o<u.length;o++){var c=u[o];e=e.add(c)}return e}var ZU=new hi(cn);function SA(){return ZU}var pk=function(){function i(t,e,o,u,c){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=c}return i.createSynthesizedRemoteEventForCurrentChange=function(t,e){var o=new Map;return o.set(t,gk.createSynthesizedTargetChangeForCurrentChange(t,e)),new i(rn.min(),o,SA(),Ca(),Vn())},i}(),gk=function(){function i(t,e,o,u,c){this.resumeToken=t,this.current=e,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=c}return i.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new i(wo.EMPTY_BYTE_STRING,e,Vn(),Vn(),Vn())},i}(),AA=function(i,t,e,o){this.v=i,this.removedTargetIds=t,this.key=e,this.P=o},WL=function(i,t){this.targetId=i,this.V=t},YL=function(i,t,e,o){void 0===e&&(e=wo.EMPTY_BYTE_STRING),void 0===o&&(o=null),this.state=i,this.targetIds=t,this.resumeToken=e,this.cause=o},KL=function(){function i(){this.S=0,this.D=ZL(),this.C=wo.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(i.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),i.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},i.prototype.M=function(){var t=Vn(),e=Vn(),o=Vn();return this.D.forEach(function(u,c){switch(c){case 0:t=t.add(u);break;case 2:e=e.add(u);break;case 1:o=o.add(u);break;default:yt()}}),new gk(this.C,this.N,t,e,o)},i.prototype.L=function(){this.F=!1,this.D=ZL()},i.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},i.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},i.prototype.U=function(){this.S+=1},i.prototype.K=function(){this.S-=1},i.prototype.j=function(){this.F=!0,this.N=!0},i}(),JU=function(){function i(t){this.W=t,this.G=new Map,this.H=Ca(),this.J=QL(),this.Y=new hi(cn)}return i.prototype.X=function(t){for(var e=0,o=t.v;e<o.length;e++){var u=o[e];t.P&&t.P.isFoundDocument()?this.Z(u,t.P):this.tt(u,t.key,t.P)}for(var c=0,g=t.removedTargetIds;c<g.length;c++)this.tt(u=g[c],t.key,t.P)},i.prototype.et=function(t){var e=this;this.forEachTarget(t,function(o){var u=e.nt(o);switch(t.state){case 0:e.st(o)&&u.O(t.resumeToken);break;case 1:u.K(),u.k||u.L(),u.O(t.resumeToken);break;case 2:u.K(),u.k||e.removeTarget(o);break;case 3:e.st(o)&&(u.j(),u.O(t.resumeToken));break;case 4:e.st(o)&&(e.it(o),u.O(t.resumeToken));break;default:yt()}})},i.prototype.forEachTarget=function(t,e){var o=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(u,c){o.st(c)&&e(c)})},i.prototype.rt=function(t){var e=t.targetId,o=t.V.count,u=this.ot(e);if(u){var c=u.target;if(_A(c))if(0===o){var g=new vt(c.path);this.tt(e,g,zi.newNoDocument(g,rn.min()))}else Ft(1===o);else this.ct(e)!==o&&(this.it(e),this.Y=this.Y.add(e))}},i.prototype.ut=function(t){var e=this,o=new Map;this.G.forEach(function(g,v){var E=e.ot(v);if(E){if(g.current&&_A(E.target)){var S=new vt(E.target.path);null!==e.H.get(S)||e.at(v,S)||e.tt(v,S,zi.newNoDocument(S,t))}g.$&&(o.set(v,g.M()),g.L())}});var u=Vn();this.J.forEach(function(g,v){var E=!0;v.forEachWhile(function(S){var M=e.ot(S);return!M||2===M.purpose||(E=!1,!1)}),E&&(u=u.add(g))});var c=new pk(t,o,this.Y,this.H,u);return this.H=Ca(),this.J=QL(),this.Y=new hi(cn),c},i.prototype.Z=function(t,e){if(this.st(t)){var o=this.at(t,e.key)?2:0;this.nt(t).B(e.key,o),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},i.prototype.tt=function(t,e,o){if(this.st(t)){var u=this.nt(t);this.at(t,e)?u.B(e,1):u.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),o&&(this.H=this.H.insert(e,o))}},i.prototype.removeTarget=function(t){this.G.delete(t)},i.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},i.prototype.U=function(t){this.nt(t).U()},i.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new KL,this.G.set(t,e)),e},i.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new hi(cn),this.J=this.J.insert(t,e)),e},i.prototype.st=function(t){var e=null!==this.ot(t);return e||ze("WatchChangeAggregator","Detected inactive target",t),e},i.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},i.prototype.it=function(t){var e=this;this.G.set(t,new KL),this.W.getRemoteKeysForTarget(t).forEach(function(o){e.tt(t,o,null)})},i.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},i}();function QL(){return new ro(vt.comparator)}function ZL(){return new ro(vt.comparator)}var XU={asc:"ASCENDING",desc:"DESCENDING"},e3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t3=function(i,t){this.databaseId=i,this.I=t};function YC(i,t){return i.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function JL(i,t){return i.I?t.toBase64():t.toUint8Array()}function n3(i,t){return YC(i,t.toTimestamp())}function wi(i){return Ft(!!i),rn.fromTimestamp((e=md(i),new Ko(e.seconds,e.nanos)));var e}function mk(i,t){return(e=i,new Sn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function XL(i){var t=Sn.fromString(i);return Ft(hV(t)),t}function KC(i,t){return mk(i.databaseId,t.path)}function ul(i,t){var e=XL(t);if(e.get(1)!==i.databaseId.projectId)throw new Ue(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Ue(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new vt(tV(e))}function yk(i,t){return mk(i.databaseId,t)}function eV(i){var t=XL(i);return 4===t.length?Sn.emptyPath():tV(t)}function QC(i){return new Sn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function tV(i){return Ft(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function nV(i,t,e){return{name:KC(i,t),fields:e.value.mapValue.fields}}function rV(i,t,e){var o=ul(i,t.name),u=wi(t.updateTime),c=new Ss({mapValue:{fields:t.fields}}),g=zi.newFoundDocument(o,u,c);return e&&g.setHasCommittedMutations(),e?g.setHasCommittedMutations():g}function IA(i,t){var e,u;if(t instanceof $C)e={update:nV(i,t.key,t.value)};else if(t instanceof WC)e={delete:KC(i,t.key)};else if(t instanceof yd)e={update:nV(i,t.key,t.data),updateMask:a3(t.fieldMask)};else{if(!(t instanceof dk))return yt();e={verify:KC(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(function(o){return function(u,c){var g=c.transform;if(g instanceof o_)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof wp)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Dp)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof s_)return{fieldPath:c.field.canonicalString(),increment:g.A};throw yt()}(0,o)})),t.precondition.isNone||(e.currentDocument=void 0!==(u=t.precondition).updateTime?{updateTime:n3(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:yt()),e}function iV(i,t){var S,e=t.currentDocument?void 0!==(S=t.currentDocument).updateTime?no.updateTime(wi(S.updateTime)):void 0!==S.exists?no.exists(S.exists):no.none():no.none(),o=t.updateTransforms?t.updateTransforms.map(function(S){return function(M,k){var F=null;"setToServerValue"in k?(Ft("REQUEST_TIME"===k.setToServerValue),F=new o_):"appendMissingElements"in k?F=new wp(k.appendMissingElements.values||[]):"removeAllFromArray"in k?F=new Dp(k.removeAllFromArray.values||[]):"increment"in k?F=new s_(M,k.increment):yt();var ee=uu.fromServerFormat(k.fieldPath);return new qC(ee,F)}(i,S)}):[];if(t.update){var u=ul(i,t.update.name),c=new Ss({mapValue:{fields:t.update.fields}});if(t.updateMask){var g=function(S){return new Xy((S.fieldPaths||[]).map(function(k){return uu.fromServerFormat(k)}))}(t.updateMask);return new yd(u,c,g,e,o)}return new $C(u,c,e,o)}if(t.delete){var v=ul(i,t.delete);return new WC(v,e)}if(t.verify){var E=ul(i,t.verify);return new dk(E,e)}return yt()}function oV(i,t){return{documents:[yk(i,t.path)]}}function sV(i,t){var e={structuredQuery:{}},o=t.path;null!==t.collectionGroup?(e.parent=yk(i,o),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=yk(i,o.popLast()),e.structuredQuery.from=[{collectionId:o.lastSegment()}]);var u=function(v){if(0!==v.length){var E=v.map(function(S){return function(M){if("=="===M.op){if(bL(M.value))return{unaryFilter:{field:a_(M.field),op:"IS_NAN"}};if(vL(M.value))return{unaryFilter:{field:a_(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(bL(M.value))return{unaryFilter:{field:a_(M.field),op:"IS_NOT_NAN"}};if(vL(M.value))return{unaryFilter:{field:a_(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:a_(M.field),op:i3(M.op),value:M.value}}}(S)});return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}}(t.filters);u&&(e.structuredQuery.where=u);var c=function(v){if(0!==v.length)return v.map(function(E){return{field:a_((S=E).field),direction:r3(S.dir)};var S})}(t.orderBy);c&&(e.structuredQuery.orderBy=c);var E,g=(E=t.limit,i.I||Cp(E)?E:{value:E});return null!==g&&(e.structuredQuery.limit=g),t.startAt&&(e.structuredQuery.startAt=lV(t.startAt)),t.endAt&&(e.structuredQuery.endAt=lV(t.endAt)),e}function aV(i){var t=eV(i.parent),e=i.structuredQuery,o=e.from?e.from.length:0,u=null;if(o>0){Ft(1===o);var c=e.from[0];c.allDescendants?u=c.collectionId:t=t.child(c.collectionId)}var g=[];e.where&&(g=uV(e.where));var v=[];e.orderBy&&(v=e.orderBy.map(function(k){return new n_(u_((F=k).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction));var F}));var k,F,E=null;e.limit&&(E=Cp(F="object"==typeof(k=e.limit)?k.value:k)?null:F);var S=null;e.startAt&&(S=cV(e.startAt));var M=null;return e.endAt&&(M=cV(e.endAt)),SL(t,u,v,g,E,"F",S,M)}function uV(i){return i?void 0!==i.unaryFilter?[s3(i)]:void 0!==i.fieldFilter?[o3(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(function(t){return uV(t)}).reduce(function(t,e){return t.concat(e)}):yt():[]}function lV(i){return{before:i.before,values:i.position}}function cV(i){return new HC(i.values||[],!!i.before)}function r3(i){return XU[i]}function i3(i){return e3[i]}function a_(i){return{fieldPath:i.canonicalString()}}function u_(i){return uu.fromServerFormat(i.fieldPath)}function o3(i){return As.create(u_(i.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return yt()}}(i.fieldFilter.op),i.fieldFilter.value)}function s3(i){switch(i.unaryFilter.op){case"IS_NAN":var t=u_(i.unaryFilter.field);return As.create(t,"==",{doubleValue:NaN});case"IS_NULL":var e=u_(i.unaryFilter.field);return As.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var o=u_(i.unaryFilter.field);return As.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var u=u_(i.unaryFilter.field);return As.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return yt()}}function a3(i){var t=[];return i.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function hV(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function lu(i){for(var t="",e=0;e<i.length;e++)t.length>0&&(t=dV(t)),t=u3(i.get(e),t);return dV(t)}function u3(i,t){for(var e=t,o=i.length,u=0;u<o;u++){var c=i.charAt(u);switch(c){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=c}}return e}function dV(i){return i+"\x01\x01"}function Rc(i){var t=i.length;if(Ft(t>=2),2===t)return Ft("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Sn.emptyPath();for(var e=t-2,o=[],u="",c=0;c<t;){var g=i.indexOf("\x01",c);switch((g<0||g>e)&&yt(),i.charAt(g+1)){case"\x01":var v=i.substring(c,g),E=void 0;0===u.length?E=v:(E=u+=v,u=""),o.push(E);break;case"\x10":u+=i.substring(c,g),u+="\0";break;case"\x11":u+=i.substring(c,g+1);break;default:yt()}c=g+2}return new Sn(o)}var l3=function(i,t){this.seconds=i,this.nanoseconds=t},Is=function(i,t,e){this.ownerId=i,this.allowTabSynchronization=t,this.leaseTimestampMs=e};Is.store="owner",Is.key="owner";var vd=function(i,t,e){this.userId=i,this.lastAcknowledgedBatchId=t,this.lastStreamToken=e};vd.store="mutationQueues",vd.keyPath="userId";var nr=function(i,t,e,o,u){this.userId=i,this.batchId=t,this.localWriteTimeMs=e,this.baseMutations=o,this.mutations=u};nr.store="mutations",nr.keyPath="batchId",nr.userMutationsIndex="userMutationsIndex",nr.userMutationsKeyPath=["userId","batchId"];var io=function(){function i(){}return i.prefixForUser=function(t){return[t]},i.prefixForPath=function(t,e){return[t,lu(e)]},i.key=function(t,e,o){return[t,lu(e),o]},i}();io.store="documentMutations",io.PLACEHOLDER=new io;var c3=function(i,t){this.path=i,this.readTime=t},h3=function(i,t){this.path=i,this.version=t},Pr=function(i,t,e,o,u,c){this.unknownDocument=i,this.noDocument=t,this.document=e,this.hasCommittedMutations=o,this.readTime=u,this.parentPath=c};Pr.store="remoteDocuments",Pr.readTimeIndex="readTimeIndex",Pr.readTimeIndexPath="readTime",Pr.collectionReadTimeIndex="collectionReadTimeIndex",Pr.collectionReadTimeIndexPath=["parentPath","readTime"];var ll=function(i){this.byteSize=i};ll.store="remoteDocumentGlobal",ll.key="remoteDocumentGlobalKey";var Qo=function(i,t,e,o,u,c,g){this.targetId=i,this.canonicalId=t,this.readTime=e,this.resumeToken=o,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=c,this.query=g};Qo.store="targets",Qo.keyPath="targetId",Qo.queryTargetsIndexName="queryTargetsIndex",Qo.queryTargetsKeyPath=["canonicalId","targetId"];var qi=function(i,t,e){this.targetId=i,this.path=t,this.sequenceNumber=e};qi.store="targetDocuments",qi.keyPath=["targetId","path"],qi.documentTargetsIndex="documentTargetsIndex",qi.documentTargetsKeyPath=["path","targetId"];var Ms=function(i,t,e,o){this.highestTargetId=i,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=e,this.targetCount=o};Ms.key="targetGlobalKey",Ms.store="targetGlobal";var Tp=function(i,t){this.collectionId=i,this.parent=t};Tp.store="collectionParents",Tp.keyPath=["collectionId","parent"];var kc=function(i,t,e,o){this.clientId=i,this.updateTimeMs=t,this.networkEnabled=e,this.inForeground=o};kc.store="clientMetadata",kc.keyPath="clientId";var l_=function(i,t,e){this.bundleId=i,this.createTime=t,this.version=e};l_.store="bundles",l_.keyPath="bundleId";var c_=function(i,t,e){this.name=i,this.readTime=t,this.bundledQuery=e};c_.store="namedQueries",c_.keyPath="name";var d3=(0,z.ev)((0,z.ev)([],(0,z.ev)((0,z.ev)([],(0,z.ev)((0,z.ev)([],(0,z.ev)((0,z.ev)([],[vd.store,nr.store,io.store,Pr.store,Qo.store,Is.store,Ms.store,qi.store]),[kc.store])),[ll.store])),[Tp.store])),[l_.store,c_.store]),fV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pV=function(){function i(){this.onCommittedListeners=[]}return i.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},i.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},i}(),oo=function(){var i=this;this.promise=new Promise(function(t,e){i.resolve=t,i.reject=e})},Ge=function(){function i(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(o){e.isDone=!0,e.result=o,e.nextCallback&&e.nextCallback(o)},function(o){e.isDone=!0,e.error=o,e.catchCallback&&e.catchCallback(o)})}return i.prototype.catch=function(t){return this.next(void 0,t)},i.prototype.next=function(t,e){var o=this;return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new i(function(u,c){o.nextCallback=function(g){o.wrapSuccess(t,g).next(u,c)},o.catchCallback=function(g){o.wrapFailure(e,g).next(u,c)}})},i.prototype.toPromise=function(){var t=this;return new Promise(function(e,o){t.next(e,o)})},i.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof i?e:i.resolve(e)}catch(o){return i.reject(o)}},i.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):i.resolve(e)},i.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):i.reject(e)},i.resolve=function(t){return new i(function(e,o){e(t)})},i.reject=function(t){return new i(function(e,o){o(t)})},i.waitFor=function(t){return new i(function(e,o){var u=0,c=0,g=!1;t.forEach(function(v){++u,v.next(function(){++c,g&&c===u&&e()},function(E){return o(E)})}),g=!0,c===u&&e()})},i.or=function(t){for(var e=i.resolve(!1),o=function(g){e=e.next(function(v){return v?i.resolve(v):g()})},u=0,c=t;u<c.length;u++)o(c[u]);return e},i.forEach=function(t,e){var o=this,u=[];return t.forEach(function(c,g){u.push(e.call(o,c,g))}),this.waitFor(u)},i}(),gV=function(){function i(t,e){var o=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new oo,this.transaction.oncomplete=function(){o.ft.resolve()},this.transaction.onabort=function(){e.error?o.ft.reject(new ZC(t,e.error)):o.ft.resolve()},this.transaction.onerror=function(u){var c=_k(u.target.error);o.ft.reject(new ZC(t,c))}}return i.open=function(t,e,o,u){try{return new i(e,t.transaction(u,o))}catch(c){throw new ZC(e,c)}},Object.defineProperty(i.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),i.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ze("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},i.prototype.store=function(t){var e=this.transaction.objectStore(t);return new p3(e)},i}(),h_=function(){function i(t,e,o){this.name=t,this.version=e,this.wt=o,12.2===i._t((0,bn.z$)())&&Xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return i.delete=function(t){return ze("SimpleDb","Removing database:",t),Ap(window.indexedDB.deleteDatabase(t)).toPromise()},i.yt=function(){if("undefined"==typeof indexedDB)return!1;if(i.gt())return!0;var t=(0,bn.z$)(),e=i._t(t),o=0<e&&e<10,u=i.Et(t),c=0<u&&u<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||o||c)},i.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},i.It=function(t,e){return t.store(e)},i._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(o)},i.Et=function(t){var e=t.match(/Android ([\d.]+)/i),o=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(o)},i.prototype.At=function(t){return(0,z.mG)(this,void 0,void 0,function(){var e,o=this;return(0,z.Jh)(this,function(u){switch(u.label){case 0:return this.db?[3,2]:(ze("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(c,g){var v=indexedDB.open(o.name,o.version);v.onsuccess=function(E){c(E.target.result)},v.onblocked=function(){g(new ZC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=function(E){var S=E.target.error;g("VersionError"===S.name?new Ue(Ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ZC(t,S))},v.onupgradeneeded=function(E){ze("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',E.oldVersion),o.wt.Rt(E.target.result,v.transaction,E.oldVersion,o.version).next(function(){ze("SimpleDb","Database upgrade to version "+o.version+" complete")})}})]);case 1:e.db=u.sent(),u.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(c){return o.bt(c)}),this.db)]}})})},i.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},i.prototype.runTransaction=function(t,e,o,u){return(0,z.mG)(this,void 0,void 0,function(){var c,g,v,E,S;return(0,z.Jh)(this,function(M){switch(M.label){case 0:c="readonly"===e,g=0,v=function(){var k,F,j,q,ee;return(0,z.Jh)(this,function(ye){switch(ye.label){case 0:++g,ye.label=1;case 1:return ye.trys.push([1,4,,5]),[4,E.At(t)];case 2:return E.db=ye.sent(),k=gV.open(E.db,t,c?"readonly":"readwrite",o),F=u(k).catch(function(Se){return k.abort(Se),Ge.reject(Se)}).toPromise(),j={},F.catch(function(){}),[4,k.dt];case 3:return[2,(j.value=(ye.sent(),F),j)];case 4:return ze("SimpleDb","Transaction failed with error:",(q=ye.sent()).message,"Retrying:",ee="FirebaseError"!==q.name&&g<3),E.close(),ee?[3,5]:[2,{value:Promise.reject(q)}];case 5:return[2]}})},E=this,M.label=1;case 1:return[5,v()];case 2:if("object"==typeof(S=M.sent()))return[2,S.value];M.label=3;case 3:return[3,1];case 4:return[2]}})})},i.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},i}(),f3=function(){function i(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(i.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),i.prototype.done=function(){this.Vt=!0},i.prototype.Ct=function(t){this.St=t},i.prototype.delete=function(){return Ap(this.Pt.delete())},i}(),ZC=function(i){function t(e,o){var u=this;return(u=i.call(this,Ae.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+o)||this).name="IndexedDbTransactionError",u}return(0,z.ZT)(t,i),t}(Ue);function Sp(i){return"IndexedDbTransactionError"===i.name}var p3=function(){function i(t){this.store=t}return i.prototype.put=function(t,e){var o;return void 0!==e?(ze("SimpleDb","PUT",this.store.name,t,e),o=this.store.put(e,t)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",t),o=this.store.put(t)),Ap(o)},i.prototype.add=function(t){return ze("SimpleDb","ADD",this.store.name,t,t),Ap(this.store.add(t))},i.prototype.get=function(t){var e=this;return Ap(this.store.get(t)).next(function(o){return void 0===o&&(o=null),ze("SimpleDb","GET",e.store.name,t,o),o})},i.prototype.delete=function(t){return ze("SimpleDb","DELETE",this.store.name,t),Ap(this.store.delete(t))},i.prototype.count=function(){return ze("SimpleDb","COUNT",this.store.name),Ap(this.store.count())},i.prototype.Nt=function(t,e){var o=this.cursor(this.options(t,e)),u=[];return this.xt(o,function(c,g){u.push(g)}).next(function(){return u})},i.prototype.Ft=function(t,e){ze("SimpleDb","DELETE ALL",this.store.name);var o=this.options(t,e);o.kt=!1;var u=this.cursor(o);return this.xt(u,function(c,g,v){return v.delete()})},i.prototype.$t=function(t,e){var o;e?o=t:(o={},e=t);var u=this.cursor(o);return this.xt(u,e)},i.prototype.Ot=function(t){var e=this.cursor({});return new Ge(function(o,u){e.onerror=function(c){var g=_k(c.target.error);u(g)},e.onsuccess=function(c){var g=c.target.result;g?t(g.primaryKey,g.value).next(function(v){v?g.continue():o()}):o()}})},i.prototype.xt=function(t,e){var o=[];return new Ge(function(u,c){t.onerror=function(g){c(g.target.error)},t.onsuccess=function(g){var v=g.target.result;if(v){var E=new f3(v),S=e(v.primaryKey,v.value,E);if(S instanceof Ge){var M=S.catch(function(k){return E.done(),Ge.reject(k)});o.push(M)}E.isDone?u():null===E.Dt?v.continue():v.continue(E.Dt)}else u()}}).next(function(){return Ge.waitFor(o)})},i.prototype.options=function(t,e){var o;return void 0!==t&&("string"==typeof t?o=t:e=t),{index:o,range:e}},i.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var o=this.store.index(t.index);return t.kt?o.openKeyCursor(t.range,e):o.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},i}();function Ap(i){return new Ge(function(t,e){i.onsuccess=function(o){t(o.target.result)},i.onerror=function(o){var u=_k(o.target.error);e(u)}})}var mV=!1;function _k(i){var t=h_._t((0,bn.z$)());if(t>=12.2&&t<13){var e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){var o=new Ue("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return mV||(mV=!0,setTimeout(function(){throw o},0)),o}}return i}var yV=function(i){function t(e,o){var u=this;return(u=i.call(this)||this).Mt=e,u.currentSequenceNumber=o,u}return(0,z.ZT)(t,i),t}(pV);function Zo(i,t){var e=Ze(i);return h_.It(e.Mt,t)}var vk=function(){function i(t,e,o,u){this.batchId=t,this.localWriteTime=e,this.baseMutations=o,this.mutations=u}return i.prototype.applyToRemoteDocument=function(t,e){for(var o=e.mutationResults,u=0;u<this.mutations.length;u++){var c=this.mutations[u];c.key.isEqual(t.key)&&zU(c,t,o[u])}},i.prototype.applyToLocalView=function(t){for(var e=0,o=this.baseMutations;e<o.length;e++)(g=o[e]).key.isEqual(t.key)&&hk(g,t,this.localWriteTime);for(var u=0,c=this.mutations;u<c.length;u++){var g;(g=c[u]).key.isEqual(t.key)&&hk(g,t,this.localWriteTime)}},i.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(o){var u=t.get(o.key),c=u;e.applyToLocalView(c),u.isValidDocument()||c.convertToNoDocument(rn.min())})},i.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Vn())},i.prototype.isEqual=function(t){return this.batchId===t.batchId&&Jy(this.mutations,t.mutations,function(e,o){return VL(e,o)})&&Jy(this.baseMutations,t.baseMutations,function(e,o){return VL(e,o)})},i}(),g3=function(){function i(t,e,o,u){this.batch=t,this.commitVersion=e,this.mutationResults=o,this.docVersions=u}return i.from=function(t,e,o){Ft(t.mutations.length===o.length);for(var u=$L(),c=t.mutations,g=0;g<c.length;g++)u=u.insert(c[g].key,o[g].version);return new i(t,e,o,u)},i}(),MA=function(){function i(t,e,o,u,c,g,v){void 0===c&&(c=rn.min()),void 0===g&&(g=rn.min()),void 0===v&&(v=wo.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=v}return i.prototype.withSequenceNumber=function(t){return new i(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},i.prototype.withResumeToken=function(t,e){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},i.prototype.withLastLimboFreeSnapshotVersion=function(t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},i}(),_V=function(i){this.Lt=i};function bk(i,t){if(t.document)return rV(i.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=vt.fromSegments(t.noDocument.path),o=f_(t.noDocument.readTime),u=zi.newNoDocument(e,o);return t.hasCommittedMutations?u.setHasCommittedMutations():u}if(t.unknownDocument){var c=vt.fromSegments(t.unknownDocument.path);return o=f_(t.unknownDocument.version),zi.newUnknownDocument(c,o)}return yt()}function vV(i,t,e){var k,F,o=Ck(e),u=t.key.path.popLast().toArray();if(t.isFoundDocument()){var c={name:KC(k=i.Lt,(F=t).key),fields:F.data.value.mapValue.fields,updateTime:YC(k,F.version.toTimestamp())},g=t.hasCommittedMutations;return new Pr(null,null,c,g,o,u)}if(t.isNoDocument()){var v=t.key.path.toArray(),E=d_(t.version);return g=t.hasCommittedMutations,new Pr(null,new c3(v,E),null,g,o,u)}if(t.isUnknownDocument()){var S=t.key.path.toArray(),M=d_(t.version);return new Pr(new h3(S,M),null,null,!0,o,u)}return yt()}function Ck(i){var t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function bV(i){var t=new Ko(i[0],i[1]);return rn.fromTimestamp(t)}function d_(i){var t=i.toTimestamp();return new l3(t.seconds,t.nanoseconds)}function f_(i){var t=new Ko(i.seconds,i.nanoseconds);return rn.fromTimestamp(t)}function p_(i,t){for(var e=(t.baseMutations||[]).map(function(E){return iV(i.Lt,E)}),o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);var g=t.mutations.map(function(E){return iV(i.Lt,E)}),v=Ko.fromMillis(t.localWriteTimeMs);return new vk(t.batchId,v,e,g)}function JC(i){var t,e,o=f_(i.readTime),u=void 0!==i.lastLimboFreeSnapshotVersion?f_(i.lastLimboFreeSnapshotVersion):rn.min();return void 0!==i.query.documents?(Ft(1===(e=i.query).documents.length),t=ba(r_(eV(e.documents[0])))):t=ba(aV(i.query)),new MA(t,i.targetId,0,i.lastListenSequenceNumber,o,u,wo.fromBase64String(i.resumeToken))}function CV(i,t){var e,o=d_(t.snapshotVersion),u=d_(t.lastLimboFreeSnapshotVersion);e=_A(t.target)?oV(i.Lt,t.target):sV(i.Lt,t.target);var c=t.resumeToken.toBase64();return new Qo(t.targetId,jC(t.target),o,c,t.sequenceNumber,u,e)}function Ek(i){var t=aV({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?AL(t,t.limit,"L"):t}var m3=function(){function i(){}return i.prototype.getBundleMetadata=function(t,e){return EV(t).get(e).next(function(o){if(o)return{id:(u=o).bundleId,createTime:f_(u.createTime),version:u.version};var u})},i.prototype.saveBundleMetadata=function(t,e){return EV(t).put({bundleId:(o=e).id,createTime:d_(wi(o.createTime)),version:o.version});var o},i.prototype.getNamedQuery=function(t,e){return wV(t).get(e).next(function(o){if(o)return{name:(u=o).name,query:Ek(u.bundledQuery),readTime:f_(u.readTime)};var u})},i.prototype.saveNamedQuery=function(t,e){return wV(t).put({name:(o=e).name,readTime:d_(wi(o.readTime)),bundledQuery:o.bundledQuery});var o},i}();function EV(i){return Zo(i,l_.store)}function wV(i){return Zo(i,c_.store)}var y3=function(){function i(){this.Bt=new wk}return i.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Ge.resolve()},i.prototype.getCollectionParents=function(t,e){return Ge.resolve(this.Bt.getEntries(e))},i}(),wk=function(){function i(){this.index={}}return i.prototype.add=function(t){var e=t.lastSegment(),o=t.popLast(),u=this.index[e]||new hi(Sn.comparator),c=!u.has(o);return this.index[e]=u.add(o),c},i.prototype.has=function(t){var e=t.lastSegment(),o=t.popLast(),u=this.index[e];return u&&u.has(o)},i.prototype.getEntries=function(t){return(this.index[t]||new hi(Sn.comparator)).toArray()},i}(),_3=function(){function i(){this.qt=new wk}return i.prototype.addToCollectionParentIndex=function(t,e){var o=this;if(!this.qt.has(e)){var u=e.lastSegment(),c=e.popLast();t.addOnCommittedListener(function(){o.qt.add(e)});var g={collectionId:u,parent:lu(c)};return DV(t).put(g)}return Ge.resolve()},i.prototype.getCollectionParents=function(t,e){var o=[],u=IDBKeyRange.bound([e,""],[dL(e),""],!1,!0);return DV(t).Nt(u).next(function(c){for(var g=0,v=c;g<v.length;g++){var E=v[g];if(E.collectionId!==e)break;o.push(Rc(E.parent))}return o})},i}();function DV(i){return Zo(i,Tp.store)}var TV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cl=function(){function i(t,e,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=o}return i.withCacheSize=function(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},i}();function SV(i,t,e){var o=i.store(nr.store),u=i.store(io.store),c=[],g=IDBKeyRange.only(e.batchId),v=0,E=o.$t({range:g},function(q,ee,ye){return v++,ye.delete()});c.push(E.next(function(){Ft(1===v)}));for(var S=[],M=0,k=e.mutations;M<k.length;M++){var F=k[M],j=io.key(t,F.key.path,e.batchId);c.push(u.delete(j)),S.push(F.key)}return Ge.waitFor(c).next(function(){return S})}function xA(i){if(!i)return 0;var t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw yt();t=i.noDocument}return JSON.stringify(t).length}cl.DEFAULT_COLLECTION_PERCENTILE=10,cl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cl.DEFAULT=new cl(41943040,cl.DEFAULT_COLLECTION_PERCENTILE,cl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cl.DISABLED=new cl(-1,0,0);var v3=function(){function i(t,e,o,u){this.userId=t,this.R=e,this.Ut=o,this.referenceDelegate=u,this.Kt={}}return i.Qt=function(t,e,o,u){return Ft(""!==t.uid),new i(t.isAuthenticated()?t.uid:"",e,o,u)},i.prototype.checkEmpty=function(t){var e=!0,o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bd(t).$t({index:nr.userMutationsIndex,range:o},function(u,c,g){e=!1,g.done()}).next(function(){return e})},i.prototype.addMutationBatch=function(t,e,o,u){var c=this,g=g_(t),v=bd(t);return v.add({}).next(function(E){Ft("number"==typeof E);for(var S=new vk(E,e,o,u),M=function(Se,Ne,je){var tt=je.baseMutations.map(function(Ht){return IA(Se.Lt,Ht)}),nt=je.mutations.map(function(Ht){return IA(Se.Lt,Ht)});return new nr(Ne,je.batchId,je.localWriteTime.toMillis(),tt,nt)}(c.R,c.userId,S),k=[],F=new hi(function(Se,Ne){return cn(Se.canonicalString(),Ne.canonicalString())}),j=0,q=u;j<q.length;j++){var ee=q[j],ye=io.key(c.userId,ee.key.path,E);F=F.add(ee.key.path.popLast()),k.push(v.put(M)),k.push(g.put(ye,io.PLACEHOLDER))}return F.forEach(function(Se){k.push(c.Ut.addToCollectionParentIndex(t,Se))}),t.addOnCommittedListener(function(){c.Kt[E]=S.keys()}),Ge.waitFor(k).next(function(){return S})})},i.prototype.lookupMutationBatch=function(t,e){var o=this;return bd(t).get(e).next(function(u){return u?(Ft(u.userId===o.userId),p_(o.R,u)):null})},i.prototype.jt=function(t,e){var o=this;return this.Kt[e]?Ge.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(u){if(u){var c=u.keys();return o.Kt[e]=c,c}return null})},i.prototype.getNextMutationBatchAfterBatchId=function(t,e){var o=this,u=e+1,c=IDBKeyRange.lowerBound([this.userId,u]),g=null;return bd(t).$t({index:nr.userMutationsIndex,range:c},function(v,E,S){E.userId===o.userId&&(Ft(E.batchId>=u),g=p_(o.R,E)),S.done()}).next(function(){return g})},i.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),o=-1;return bd(t).$t({index:nr.userMutationsIndex,range:e,reverse:!0},function(u,c,g){o=c.batchId,g.done()}).next(function(){return o})},i.prototype.getAllMutationBatches=function(t){var e=this,o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bd(t).Nt(nr.userMutationsIndex,o).next(function(u){return u.map(function(c){return p_(e.R,c)})})},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var o=this,u=io.prefixForPath(this.userId,e.path),c=IDBKeyRange.lowerBound(u),g=[];return g_(t).$t({range:c},function(v,E,S){var M=v[0],F=v[2],j=Rc(v[1]);if(M===o.userId&&e.path.isEqual(j))return bd(t).get(F).next(function(q){if(!q)throw yt();Ft(q.userId===o.userId),g.push(p_(o.R,q))});S.done()}).next(function(){return g})},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var o=this,u=new hi(cn),c=[];return e.forEach(function(g){var v=io.prefixForPath(o.userId,g.path),E=IDBKeyRange.lowerBound(v),S=g_(t).$t({range:E},function(M,k,F){var j=M[0],ee=M[2],ye=Rc(M[1]);j===o.userId&&g.path.isEqual(ye)?u=u.add(ee):F.done()});c.push(S)}),Ge.waitFor(c).next(function(){return o.Wt(t,u)})},i.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var o=this,u=e.path,c=u.length+1,g=io.prefixForPath(this.userId,u),v=IDBKeyRange.lowerBound(g),E=new hi(cn);return g_(t).$t({range:v},function(S,M,k){var F=S[0],q=S[2],ee=Rc(S[1]);F===o.userId&&u.isPrefixOf(ee)?ee.length===c&&(E=E.add(q)):k.done()}).next(function(){return o.Wt(t,E)})},i.prototype.Wt=function(t,e){var o=this,u=[],c=[];return e.forEach(function(g){c.push(bd(t).get(g).next(function(v){if(null===v)throw yt();Ft(v.userId===o.userId),u.push(p_(o.R,v))}))}),Ge.waitFor(c).next(function(){return u})},i.prototype.removeMutationBatch=function(t,e){var o=this;return SV(t.Mt,this.userId,e).next(function(u){return t.addOnCommittedListener(function(){o.Gt(e.batchId)}),Ge.forEach(u,function(c){return o.referenceDelegate.markPotentiallyOrphaned(t,c)})})},i.prototype.Gt=function(t){delete this.Kt[t]},i.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(o){if(!o)return Ge.resolve();var u=IDBKeyRange.lowerBound(io.prefixForUser(e.userId)),c=[];return g_(t).$t({range:u},function(g,v,E){if(g[0]===e.userId){var S=Rc(g[1]);c.push(S)}else E.done()}).next(function(){Ft(0===c.length)})})},i.prototype.containsKey=function(t,e){return AV(t,this.userId,e)},i.prototype.zt=function(t){var e=this;return IV(t).get(this.userId).next(function(o){return o||new vd(e.userId,-1,"")})},i}();function AV(i,t,e){var o=io.prefixForPath(t,e.path),u=o[1],c=IDBKeyRange.lowerBound(o),g=!1;return g_(i).$t({range:c,kt:!0},function(v,E,S){v[0]===t&&v[1]===u&&(g=!0),S.done()}).next(function(){return g})}function bd(i){return Zo(i,nr.store)}function g_(i){return Zo(i,io.store)}function IV(i){return Zo(i,vd.store)}var OA=function(){function i(t){this.Ht=t}return i.prototype.next=function(){return this.Ht+=2,this.Ht},i.Jt=function(){return new i(0)},i.Yt=function(){return new i(-1)},i}(),b3=function(){function i(t,e){this.referenceDelegate=t,this.R=e}return i.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(o){var u=new OA(o.highestTargetId);return o.highestTargetId=u.next(),e.Zt(t,o).next(function(){return o.highestTargetId})})},i.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(e){return rn.fromTimestamp(new Ko(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},i.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(e){return e.highestListenSequenceNumber})},i.prototype.setTargetsMetadata=function(t,e,o){var u=this;return this.Xt(t).next(function(c){return c.highestListenSequenceNumber=e,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),e>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=e),u.Zt(t,c)})},i.prototype.addTargetData=function(t,e){var o=this;return this.te(t,e).next(function(){return o.Xt(t).next(function(u){return u.targetCount+=1,o.ee(e,u),o.Zt(t,u)})})},i.prototype.updateTargetData=function(t,e){return this.te(t,e)},i.prototype.removeTargetData=function(t,e){var o=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return m_(t).delete(e.targetId)}).next(function(){return o.Xt(t)}).next(function(u){return Ft(u.targetCount>0),u.targetCount-=1,o.Zt(t,u)})},i.prototype.removeTargets=function(t,e,o){var u=this,c=0,g=[];return m_(t).$t(function(v,E){var S=JC(E);S.sequenceNumber<=e&&null===o.get(S.targetId)&&(c++,g.push(u.removeTargetData(t,S)))}).next(function(){return Ge.waitFor(g)}).next(function(){return c})},i.prototype.forEachTarget=function(t,e){return m_(t).$t(function(o,u){var c=JC(u);e(c)})},i.prototype.Xt=function(t){return MV(t).get(Ms.key).next(function(e){return Ft(null!==e),e})},i.prototype.Zt=function(t,e){return MV(t).put(Ms.key,e)},i.prototype.te=function(t,e){return m_(t).put(CV(this.R,e))},i.prototype.ee=function(t,e){var o=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,o=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,o=!0),o},i.prototype.getTargetCount=function(t){return this.Xt(t).next(function(e){return e.targetCount})},i.prototype.getTargetData=function(t,e){var o=jC(e),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]),c=null;return m_(t).$t({range:u,index:Qo.queryTargetsIndexName},function(g,v,E){var S=JC(v);yA(e,S.target)&&(c=S,E.done())}).next(function(){return c})},i.prototype.addMatchingKeys=function(t,e,o){var u=this,c=[],g=Cd(t);return e.forEach(function(v){var E=lu(v.path);c.push(g.put(new qi(o,E))),c.push(u.referenceDelegate.addReference(t,o,v))}),Ge.waitFor(c)},i.prototype.removeMatchingKeys=function(t,e,o){var u=this,c=Cd(t);return Ge.forEach(e,function(g){var v=lu(g.path);return Ge.waitFor([c.delete([o,v]),u.referenceDelegate.removeReference(t,o,g)])})},i.prototype.removeMatchingKeysForTargetId=function(t,e){var o=Cd(t),u=IDBKeyRange.bound([e],[e+1],!1,!0);return o.delete(u)},i.prototype.getMatchingKeysForTargetId=function(t,e){var o=IDBKeyRange.bound([e],[e+1],!1,!0),u=Cd(t),c=Vn();return u.$t({range:o,kt:!0},function(g,v,E){var S=Rc(g[1]),M=new vt(S);c=c.add(M)}).next(function(){return c})},i.prototype.containsKey=function(t,e){var o=lu(e.path),u=IDBKeyRange.bound([o],[dL(o)],!1,!0),c=0;return Cd(t).$t({index:qi.documentTargetsIndex,kt:!0,range:u},function(g,v,E){0!==g[0]&&(c++,E.done())}).next(function(){return c>0})},i.prototype.lt=function(t,e){return m_(t).get(e).next(function(o){return o?JC(o):null})},i}();function m_(i){return Zo(i,Qo.store)}function MV(i){return Zo(i,Ms.store)}function Cd(i){return Zo(i,qi.store)}function Ip(i){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(t){if(i.code!==Ae.FAILED_PRECONDITION||i.message!==fV)throw i;return ze("LocalStore","Unexpectedly lost primary lease"),[2]})})}function xV(i,t){var o=i[1],c=t[1],g=cn(i[0],t[0]);return 0===g?cn(o,c):g}var C3=function(){function i(t){this.ne=t,this.buffer=new hi(xV),this.se=0}return i.prototype.ie=function(){return++this.se},i.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var o=this.buffer.last();xV(e,o)<0&&(this.buffer=this.buffer.delete(o).add(e))}},Object.defineProperty(i.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),i}(),E3=function(){function i(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return i.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},i.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(i.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),i.prototype.ue=function(t){var e=this,o=this.oe?3e5:6e4;ze("LruGarbageCollector","Garbage collection scheduled in "+o+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,function(){return(0,z.mG)(e,void 0,void 0,function(){var u;return(0,z.Jh)(this,function(c){switch(c.label){case 0:this.ce=null,this.oe=!0,c.label=1;case 1:return c.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return c.sent(),[3,7];case 3:return Sp(u=c.sent())?(ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u),[3,6]):[3,4];case 4:return[4,Ip(u)];case 5:c.sent(),c.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return c.sent(),[2]}})})})},i}(),w3=function(){function i(t,e){this.ae=t,this.params=e}return i.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(o){return Math.floor(e/100*o)})},i.prototype.nthSequenceNumber=function(t,e){var o=this;if(0===e)return Ge.resolve(Ts.o);var u=new C3(e);return this.ae.forEachTarget(t,function(c){return u.re(c.sequenceNumber)}).next(function(){return o.ae.le(t,function(c){return u.re(c)})}).next(function(){return u.maxValue})},i.prototype.removeTargets=function(t,e,o){return this.ae.removeTargets(t,e,o)},i.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},i.prototype.collect=function(t,e){var o=this;return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),Ge.resolve(TV)):this.getCacheSize(t).next(function(u){return u<o.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; Cache size "+u+" is lower than threshold "+o.params.cacheSizeCollectionThreshold),TV):o.fe(t,e)})},i.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},i.prototype.fe=function(t,e){var o,u,c,g,v,E,S,M=this,k=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(F){return F>M.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+M.params.maximumSequenceNumbersToCollect+" from "+F),u=M.params.maximumSequenceNumbersToCollect):u=F,g=Date.now(),M.nthSequenceNumber(t,u)}).next(function(F){return o=F,v=Date.now(),M.removeTargets(t,o,e)}).next(function(F){return c=F,E=Date.now(),M.removeOrphanedDocuments(t,o)}).next(function(F){return S=Date.now(),ek()<=to.in.DEBUG&&ze("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(g-k)+"ms\n\tDetermined least recently used "+u+" in "+(v-g)+"ms\n\tRemoved "+c+" targets in "+(E-v)+"ms\n\tRemoved "+F+" documents in "+(S-E)+"ms\nTotal Duration: "+(S-k)+"ms"),Ge.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:c,documentsRemoved:F})})},i}(),D3=function(){function i(t,e){this.db=t,this.garbageCollector=new w3(this,e)}return i.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(o){return e.next(function(u){return o+u})})},i.prototype.de=function(t){var e=0;return this.le(t,function(o){e++}).next(function(){return e})},i.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},i.prototype.le=function(t,e){return this.we(t,function(o,u){return e(u)})},i.prototype.addReference=function(t,e,o){return RA(t,o)},i.prototype.removeReference=function(t,e,o){return RA(t,o)},i.prototype.removeTargets=function(t,e,o){return this.db.getTargetCache().removeTargets(t,e,o)},i.prototype.markPotentiallyOrphaned=function(t,e){return RA(t,e)},i.prototype._e=function(t,e){return u=e,c=!1,IV(o=t).Ot(function(g){return AV(o,g,u).next(function(v){return v&&(c=!0),Ge.resolve(!v)})}).next(function(){return c});var o,u,c},i.prototype.removeOrphanedDocuments=function(t,e){var o=this,u=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[],g=0;return this.we(t,function(v,E){if(E<=e){var S=o._e(t,v).next(function(M){if(!M)return g++,u.getEntry(t,v).next(function(){return u.removeEntry(v),Cd(t).delete([0,lu(v.path)])})});c.push(S)}}).next(function(){return Ge.waitFor(c)}).next(function(){return u.apply(t)}).next(function(){return g})},i.prototype.removeTarget=function(t,e){var o=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,o)},i.prototype.updateLimboDocument=function(t,e){return RA(t,e)},i.prototype.we=function(t,e){var o,u=Cd(t),c=Ts.o;return u.$t({index:qi.documentTargetsIndex},function(g,v){var S=v.path,M=v.sequenceNumber;0===g[0]?(c!==Ts.o&&e(new vt(Rc(o)),c),c=M,o=S):c=Ts.o}).next(function(){c!==Ts.o&&e(new vt(Rc(o)),c)})},i.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},i}();function RA(i,t){return Cd(i).put((o=i.currentSequenceNumber,new qi(0,lu(t.path),o)));var o}var y_=function(){function i(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return i.prototype.get=function(t){var e=this.mapKeyFn(t),o=this.inner[e];if(void 0!==o)for(var u=0,c=o;u<c.length;u++){var g=c[u],E=g[1];if(this.equalsFn(g[0],t))return E}},i.prototype.has=function(t){return void 0!==this.get(t)},i.prototype.set=function(t,e){var o=this.mapKeyFn(t),u=this.inner[o];if(void 0!==u){for(var c=0;c<u.length;c++)if(this.equalsFn(u[c][0],t))return void(u[c]=[t,e]);u.push([t,e])}else this.inner[o]=[[t,e]]},i.prototype.delete=function(t){var e=this.mapKeyFn(t),o=this.inner[e];if(void 0===o)return!1;for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return 1===o.length?delete this.inner[e]:o.splice(u,1),!0;return!1},i.prototype.forEach=function(t){bp(this.inner,function(e,o){for(var u=0,c=o;u<c.length;u++){var g=c[u];t(g[0],g[1])}})},i.prototype.isEmpty=function(){return pL(this.inner)},i}(),OV=function(){function i(){this.changes=new y_(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return i.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:rn.min()},i.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},i.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:zi.newInvalidDocument(t),readTime:e})},i.prototype.getEntry=function(t,e){this.assertNotApplied();var o=this.changes.get(e);return void 0!==o?Ge.resolve(o.document):this.getFromCache(t,e)},i.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},i.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},i.prototype.assertNotApplied=function(){},i}(),T3=function(){function i(t,e){this.R=t,this.Ut=e}return i.prototype.addEntry=function(t,e,o){return Ed(t).put(kA(e),o)},i.prototype.removeEntry=function(t,e){var o=Ed(t),u=kA(e);return o.delete(u)},i.prototype.updateMetadata=function(t,e){var o=this;return this.getMetadata(t).next(function(u){return u.byteSize+=e,o.me(t,u)})},i.prototype.getEntry=function(t,e){var o=this;return Ed(t).get(kA(e)).next(function(u){return o.ye(e,u)})},i.prototype.ge=function(t,e){var o=this;return Ed(t).get(kA(e)).next(function(u){return{document:o.ye(e,u),size:xA(u)}})},i.prototype.getEntries=function(t,e){var o=this,u=Ca();return this.pe(t,e,function(c,g){var v=o.ye(c,g);u=u.insert(c,v)}).next(function(){return u})},i.prototype.Ee=function(t,e){var o=this,u=Ca(),c=new ro(vt.comparator);return this.pe(t,e,function(g,v){var E=o.ye(g,v);u=u.insert(g,E),c=c.insert(g,xA(v))}).next(function(){return{documents:u,Te:c}})},i.prototype.pe=function(t,e,o){if(e.isEmpty())return Ge.resolve();var u=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),c=e.getIterator(),g=c.getNext();return Ed(t).$t({range:u},function(v,E,S){for(var M=vt.fromSegments(v);g&&vt.comparator(g,M)<0;)o(g,null),g=c.getNext();g&&g.isEqual(M)&&(o(g,E),g=c.hasNext()?c.getNext():null),g?S.Ct(g.path.toArray()):S.done()}).next(function(){for(;g;)o(g,null),g=c.hasNext()?c.getNext():null})},i.prototype.getDocumentsMatchingQuery=function(t,e,o){var u=this,c=Ca(),g=e.path.length+1,v={};if(o.isEqual(rn.min())){var E=e.path.toArray();v.range=IDBKeyRange.lowerBound(E)}else{var S=e.path.toArray(),M=Ck(o);v.range=IDBKeyRange.lowerBound([S,M],!0),v.index=Pr.collectionReadTimeIndex}return Ed(t).$t(v,function(k,F,j){if(k.length===g){var q=bk(u.R,F);e.path.isPrefixOf(q.key.path)?zC(e,q)&&(c=c.insert(q.key,q)):j.done()}}).next(function(){return c})},i.prototype.newChangeBuffer=function(t){return new S3(this,!!t&&t.trackRemovals)},i.prototype.getSize=function(t){return this.getMetadata(t).next(function(e){return e.byteSize})},i.prototype.getMetadata=function(t){return RV(t).get(ll.key).next(function(e){return Ft(!!e),e})},i.prototype.me=function(t,e){return RV(t).put(ll.key,e)},i.prototype.ye=function(t,e){if(e){var o=bk(this.R,e);if(!o.isNoDocument()||!o.version.isEqual(rn.min()))return o}return zi.newInvalidDocument(t)},i}(),S3=function(i){function t(e,o){var u=this;return(u=i.call(this)||this).Ie=e,u.trackRemovals=o,u.Ae=new y_(function(c){return c.toString()},function(c,g){return c.isEqual(g)}),u}return(0,z.ZT)(t,i),t.prototype.applyChanges=function(e){var o=this,u=[],c=0,g=new hi(function(v,E){return cn(v.canonicalString(),E.canonicalString())});return this.changes.forEach(function(v,E){var S=o.Ae.get(v);if(E.document.isValidDocument()){var M=vV(o.Ie.R,E.document,o.getReadTime(v));g=g.add(v.path.popLast());var k=xA(M);c+=k-S,u.push(o.Ie.addEntry(e,v,M))}else if(c-=S,o.trackRemovals){var F=vV(o.Ie.R,zi.newNoDocument(v,rn.min()),o.getReadTime(v));u.push(o.Ie.addEntry(e,v,F))}else u.push(o.Ie.removeEntry(e,v))}),g.forEach(function(v){u.push(o.Ie.Ut.addToCollectionParentIndex(e,v))}),u.push(this.Ie.updateMetadata(e,c)),Ge.waitFor(u)},t.prototype.getFromCache=function(e,o){var u=this;return this.Ie.ge(e,o).next(function(c){return u.Ae.set(o,c.size),c.document})},t.prototype.getAllFromCache=function(e,o){var u=this;return this.Ie.Ee(e,o).next(function(c){var g=c.documents;return c.Te.forEach(function(v,E){u.Ae.set(v,E)}),g})},t}(OV);function RV(i){return Zo(i,ll.store)}function Ed(i){return Zo(i,Pr.store)}function kA(i){return i.path.toArray()}var A3=function(){function i(t){this.R=t}return i.prototype.Rt=function(t,e,o,u){var c=this;Ft(o<u&&o>=0&&u<=11);var E,g=new gV("createOrUpgrade",e);o<1&&u>=1&&(t.createObjectStore(Is.store),(E=t).createObjectStore(vd.store,{keyPath:vd.keyPath}),E.createObjectStore(nr.store,{keyPath:nr.keyPath,autoIncrement:!0}).createIndex(nr.userMutationsIndex,nr.userMutationsKeyPath,{unique:!0}),E.createObjectStore(io.store),kV(t),function(E){E.createObjectStore(Pr.store)}(t));var v=Ge.resolve();return o<3&&u>=3&&(0!==o&&(function(E){E.deleteObjectStore(qi.store),E.deleteObjectStore(Qo.store),E.deleteObjectStore(Ms.store)}(t),kV(t)),v=v.next(function(){return function(E){var S=E.store(Ms.store),M=new Ms(0,0,rn.min().toTimestamp(),0);return S.put(Ms.key,M)}(g)})),o<4&&u>=4&&(0!==o&&(v=v.next(function(){return function(E,S){return S.store(nr.store).Nt().next(function(M){E.deleteObjectStore(nr.store),E.createObjectStore(nr.store,{keyPath:nr.keyPath,autoIncrement:!0}).createIndex(nr.userMutationsIndex,nr.userMutationsKeyPath,{unique:!0});var k=S.store(nr.store),F=M.map(function(j){return k.put(j)});return Ge.waitFor(F)})}(t,g)})),v=v.next(function(){!function(E){E.createObjectStore(kc.store,{keyPath:kc.keyPath})}(t)})),o<5&&u>=5&&(v=v.next(function(){return c.Re(g)})),o<6&&u>=6&&(v=v.next(function(){return function(E){E.createObjectStore(ll.store)}(t),c.be(g)})),o<7&&u>=7&&(v=v.next(function(){return c.ve(g)})),o<8&&u>=8&&(v=v.next(function(){return c.Pe(t,g)})),o<9&&u>=9&&(v=v.next(function(){(function(E){E.objectStoreNames.contains("remoteDocumentChanges")&&E.deleteObjectStore("remoteDocumentChanges")})(t),function(E){var S=E.objectStore(Pr.store);S.createIndex(Pr.readTimeIndex,Pr.readTimeIndexPath,{unique:!1}),S.createIndex(Pr.collectionReadTimeIndex,Pr.collectionReadTimeIndexPath,{unique:!1})}(e)})),o<10&&u>=10&&(v=v.next(function(){return c.Ve(g)})),o<11&&u>=11&&(v=v.next(function(){(function(E){E.createObjectStore(l_.store,{keyPath:l_.keyPath})})(t),function(E){E.createObjectStore(c_.store,{keyPath:c_.keyPath})}(t)})),v},i.prototype.be=function(t){var e=0;return t.store(Pr.store).$t(function(o,u){e+=xA(u)}).next(function(){var o=new ll(e);return t.store(ll.store).put(ll.key,o)})},i.prototype.Re=function(t){var e=this,o=t.store(vd.store),u=t.store(nr.store);return o.Nt().next(function(c){return Ge.forEach(c,function(g){var v=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return u.Nt(nr.userMutationsIndex,v).next(function(E){return Ge.forEach(E,function(S){Ft(S.userId===g.userId);var M=p_(e.R,S);return SV(t,g.userId,M).next(function(){})})})})})},i.prototype.ve=function(t){var e=t.store(qi.store),o=t.store(Pr.store);return t.store(Ms.store).get(Ms.key).next(function(u){var c=[];return o.$t(function(g,v){var E=new Sn(g),S=[0,lu(E)];c.push(e.get(S).next(function(M){return M?Ge.resolve():e.put(new qi(0,lu(E),u.highestListenSequenceNumber))}))}).next(function(){return Ge.waitFor(c)})})},i.prototype.Pe=function(t,e){t.createObjectStore(Tp.store,{keyPath:Tp.keyPath});var o=e.store(Tp.store),u=new wk,c=function(g){if(u.add(g)){var v=g.lastSegment(),E=g.popLast();return o.put({collectionId:v,parent:lu(E)})}};return e.store(Pr.store).$t({kt:!0},function(g,v){var E=new Sn(g);return c(E.popLast())}).next(function(){return e.store(io.store).$t({kt:!0},function(g,v){var S=Rc(g[1]);return c(S.popLast())})})},i.prototype.Ve=function(t){var e=this,o=t.store(Qo.store);return o.$t(function(u,c){var g=JC(c),v=CV(e.R,g);return o.put(v)})},i}();function kV(i){i.createObjectStore(qi.store,{keyPath:qi.keyPath}).createIndex(qi.documentTargetsIndex,qi.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Qo.store,{keyPath:Qo.keyPath}).createIndex(Qo.queryTargetsIndexName,Qo.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Ms.store)}var Dk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",I3=function(){function i(t,e,o,u,c,g,v,E,S,M){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=o,this.Se=c,this.window=g,this.document=v,this.De=S,this.Ce=M,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(k){return Promise.resolve()},!i.yt())throw new Ue(Ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new D3(this,u),this.Le=e+"main",this.R=new _V(E),this.Be=new h_(this.Le,11,new A3(this.R)),this.qe=new b3(this.referenceDelegate,this.R),this.Ut=new _3,this.Ue=new T3(this.R,this.Ut),this.Ke=new m3,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===M&&Xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return i.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ue(Ae.FAILED_PRECONDITION,Dk);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Ts(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},i.prototype.He=function(t){var e=this;return this.Me=function(o){return(0,z.mG)(e,void 0,void 0,function(){return(0,z.Jh)(this,function(u){return this.started?[2,t(o)]:[2]})})},t(this.isPrimary)},i.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(o){return(0,z.mG)(e,void 0,void 0,function(){return(0,z.Jh)(this,function(u){switch(u.label){case 0:return null===o.newVersion?[4,t()]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})},i.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,z.mG)(e,void 0,void 0,function(){return(0,z.Jh)(this,function(o){switch(o.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})}))},i.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return PA(e).put(new kc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(o){o||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(o){return t.isPrimary&&!o?t.Xe(e).next(function(){return!1}):!!o&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Sp(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},i.prototype.Je=function(t){var e=this;return XC(t).get(Is.key).next(function(o){return Ge.resolve(e.tn(o))})},i.prototype.en=function(t){return PA(t).delete(this.clientId)},i.prototype.nn=function(){return(0,z.mG)(this,void 0,void 0,function(){var t,e,o,c=this;return(0,z.Jh)(this,function(g){switch(g.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(v){var E=Zo(v,kc.store);return E.Nt().next(function(S){var M=c.rn(S,18e5),k=S.filter(function(F){return-1===M.indexOf(F)});return Ge.forEach(k,function(F){return E.delete(F.clientId)}).next(function(){return k})})}).catch(function(){return[]})]);case 1:if(t=g.sent(),this.Qe)for(e=0,o=t;e<o.length;e++)this.Qe.removeItem(this.on(o[e].clientId));g.label=2;case 2:return[2]}})})},i.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},i.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},i.prototype.Ye=function(t){var e=this;return this.Ce?Ge.resolve(!0):XC(t).get(Is.key).next(function(o){if(null!==o&&e.sn(o.leaseTimestampMs,5e3)&&!e.cn(o.ownerId)){if(e.tn(o)&&e.networkEnabled)return!0;if(!e.tn(o)){if(!o.allowTabSynchronization)throw new Ue(Ae.FAILED_PRECONDITION,Dk);return!1}}return!(!e.networkEnabled||!e.inForeground)||PA(t).Nt().next(function(u){return void 0===e.rn(u,5e3).find(function(c){return!(e.clientId===c.clientId||!(!e.networkEnabled&&c.networkEnabled||!e.inForeground&&c.inForeground&&e.networkEnabled===c.networkEnabled))})})}).next(function(o){return e.isPrimary!==o&&ze("IndexedDbPersistence","Client "+(o?"is":"is not")+" eligible for a primary lease."),o})},i.prototype.shutdown=function(){return(0,z.mG)(this,void 0,void 0,function(){var t=this;return(0,z.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Is.store,kc.store],function(o){var u=new yV(o,Ts.o);return t.Xe(u).next(function(){return t.en(u)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},i.prototype.rn=function(t,e){var o=this;return t.filter(function(u){return o.sn(u.updateTimeMs,e)&&!o.cn(u.clientId)})},i.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return PA(e).Nt().next(function(o){return t.rn(o,18e5).map(function(u){return u.clientId})})})},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.getMutationQueue=function(t){return v3.Qt(t,this.R,this.Ut,this.referenceDelegate)},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(t,e,o){var c,u=this;return ze("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",d3,function(v){return c=new yV(v,u.Ne?u.Ne.next():Ts.o),"readwrite-primary"===e?u.Je(c).next(function(E){return!!E||u.Ye(c)}).next(function(E){if(!E)throw Xr("Failed to obtain primary lease for action '"+t+"'."),u.isPrimary=!1,u.Se.enqueueRetryable(function(){return u.Me(!1)}),new Ue(Ae.FAILED_PRECONDITION,fV);return o(c)}).next(function(E){return u.Ze(c).next(function(){return E})}):u.dn(c).next(function(){return o(c)})}).then(function(v){return c.raiseOnCommittedEvent(),v})},i.prototype.dn=function(t){var e=this;return XC(t).get(Is.key).next(function(o){if(null!==o&&e.sn(o.leaseTimestampMs,5e3)&&!e.cn(o.ownerId)&&!e.tn(o)&&!(e.Ce||e.allowTabSynchronization&&o.allowTabSynchronization))throw new Ue(Ae.FAILED_PRECONDITION,Dk)})},i.prototype.Ze=function(t){var e=new Is(this.clientId,this.allowTabSynchronization,Date.now());return XC(t).put(Is.key,e)},i.yt=function(){return h_.yt()},i.prototype.Xe=function(t){var e=this,o=XC(t);return o.get(Is.key).next(function(u){return e.tn(u)?(ze("IndexedDbPersistence","Releasing primary lease."),o.delete(Is.key)):Ge.resolve()})},i.prototype.sn=function(t,e){var o=Date.now();return!(t<o-e||t>o&&(Xr("Detected an update time that is in the future: "+t+" > "+o),1))},i.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},i.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},i.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),(0,bn.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},i.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},i.prototype.cn=function(t){var e;try{var o=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return ze("IndexedDbPersistence","Client '"+t+"' "+(o?"is":"is not")+" zombied in LocalStorage"),o}catch(u){return Xr("IndexedDbPersistence","Failed to get zombied client id.",u),!1}},i.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Xr("Failed to set zombie client id.",t)}},i.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},i.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},i}();function XC(i){return Zo(i,Is.store)}function PA(i){return Zo(i,kc.store)}function Tk(i,t){var e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+t+"/"+e+"/"}var M3=function(i,t){this.progress=i,this.wn=t},PV=function(){function i(t,e,o){this.Ue=t,this._n=e,this.Ut=o}return i.prototype.mn=function(t,e){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(u){return o.yn(t,e,u)})},i.prototype.yn=function(t,e,o){return this.Ue.getEntry(t,e).next(function(u){for(var c=0,g=o;c<g.length;c++)g[c].applyToLocalView(u);return u})},i.prototype.gn=function(t,e){t.forEach(function(o,u){for(var c=0,g=e;c<g.length;c++)g[c].applyToLocalView(u)})},i.prototype.pn=function(t,e){var o=this;return this.Ue.getEntries(t,e).next(function(u){return o.En(t,u).next(function(){return u})})},i.prototype.En=function(t,e){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(u){return o.gn(e,u)})},i.prototype.getDocumentsMatchingQuery=function(t,e,o){return vt.isDocumentKey((u=e).path)&&null===u.collectionGroup&&0===u.filters.length?this.Tn(t,e.path):lk(e)?this.In(t,e,o):this.An(t,e,o);var u},i.prototype.Tn=function(t,e){return this.mn(t,new vt(e)).next(function(o){var u=fk();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})},i.prototype.In=function(t,e,o){var u=this,c=e.collectionGroup,g=fk();return this.Ut.getCollectionParents(t,c).next(function(v){return Ge.forEach(v,function(E){var M,k,S=(M=e,k=E.child(c),new Oc(k,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt));return u.An(t,S,o).next(function(M){M.forEach(function(k,F){g=g.insert(k,F)})})}).next(function(){return g})})},i.prototype.An=function(t,e,o){var u,c,g=this;return this.Ue.getDocumentsMatchingQuery(t,e,o).next(function(v){return u=v,g._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(v){return g.Rn(t,c=v,u).next(function(E){u=E;for(var S=0,M=c;S<M.length;S++)for(var k=M[S],F=0,j=k.mutations;F<j.length;F++){var q=j[F],ee=q.key,ye=u.get(ee);null==ye&&(ye=zi.newInvalidDocument(ee),u=u.insert(ee,ye)),hk(q,ye,k.localWriteTime),ye.isFoundDocument()||(u=u.remove(ee))}})}).next(function(){return u.forEach(function(v,E){zC(e,E)||(u=u.remove(v))}),u})},i.prototype.Rn=function(t,e,o){for(var u=Vn(),c=0,g=e;c<g.length;c++)for(var v=0,E=g[c].mutations;v<E.length;v++){var S=E[v];S instanceof yd&&null===o.get(S.key)&&(u=u.add(S.key))}var M=o;return this.Ue.getEntries(t,u).next(function(k){return k.forEach(function(F,j){j.isFoundDocument()&&(M=M.insert(F,j))}),M})},i}(),x3=function(){function i(t,e,o,u){this.targetId=t,this.fromCache=e,this.bn=o,this.vn=u}return i.Pn=function(t,e){for(var o=Vn(),u=Vn(),c=0,g=e.docChanges;c<g.length;c++){var v=g[c];switch(v.type){case 0:o=o.add(v.doc.key);break;case 1:u=u.add(v.doc.key)}}return new i(t,e.fromCache,o,u)},i}(),NV=function(){function i(){}return i.prototype.Vn=function(t){this.Sn=t},i.prototype.getDocumentsMatchingQuery=function(t,e,o,u){var g,c=this;return 0===(g=e).filters.length&&null===g.limit&&null==g.startAt&&null==g.endAt&&(0===g.explicitOrderBy.length||1===g.explicitOrderBy.length&&g.explicitOrderBy[0].field.isKeyField())||o.isEqual(rn.min())?this.Dn(t,e):this.Sn.pn(t,u).next(function(g){var v=c.Cn(e,g);return(bA(e)||CA(e))&&c.Nn(e.limitType,v,u,o)?c.Dn(t,e):(ek()<=to.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ck(e)),c.Sn.getDocumentsMatchingQuery(t,e,o).next(function(E){return v.forEach(function(S){E=E.insert(S.key,S)}),E}))})},i.prototype.Cn=function(t,e){var o=new hi(ML(t));return e.forEach(function(u,c){zC(t,c)&&(o=o.add(c))}),o},i.prototype.Nn=function(t,e,o,u){if(o.size!==e.size)return!0;var c="F"===t?e.last():e.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(u)>0)},i.prototype.Dn=function(t,e){return ek()<=to.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",ck(e)),this.Sn.getDocumentsMatchingQuery(t,e,rn.min())},i}(),O3=function(){function i(t,e,o,u){this.persistence=t,this.xn=e,this.R=u,this.Fn=new ro(cn),this.kn=new y_(function(c){return jC(c)},yA),this.$n=rn.min(),this._n=t.getMutationQueue(o),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new PV(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return i.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(o){return t.collect(o,e.Fn)})},i}();function FV(i,t,e,o){return new O3(i,t,e,o)}function LV(i,t){return(0,z.mG)(this,void 0,void 0,function(){var e,o,u,c;return(0,z.Jh)(this,function(g){switch(g.label){case 0:return e=Ze(i),o=e._n,u=e.Mn,[4,e.persistence.runTransaction("Handle user change","readonly",function(v){var E;return e._n.getAllMutationBatches(v).next(function(S){return E=S,o=e.persistence.getMutationQueue(t),u=new PV(e.On,o,e.persistence.getIndexManager()),o.getAllMutationBatches(v)}).next(function(S){for(var M=[],k=[],F=Vn(),j=0,q=E;j<q.length;j++){var ee=q[j];M.push(ee.batchId);for(var ye=0,Se=ee.mutations;ye<Se.length;ye++)F=F.add(Se[ye].key)}for(var je=0,tt=S;je<tt.length;je++){var nt=tt[je];k.push(nt.batchId);for(var Ht=0,pn=nt.mutations;Ht<pn.length;Ht++)F=F.add(pn[Ht].key)}return u.pn(v,F).next(function(ni){return{Ln:ni,removedBatchIds:M,addedBatchIds:k}})})})];case 1:return c=g.sent(),[2,(e._n=o,e.Mn=u,e.xn.Vn(e.Mn),c)]}})})}function R3(i,t){var e=Ze(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(o){var g,v,E,S,M,k,F,u=t.batch.keys(),c=e.On.newChangeBuffer({trackRemovals:!0});return(g=e,v=o,E=t,S=c,M=E.batch,k=M.keys(),F=Ge.resolve(),k.forEach(function(j){F=F.next(function(){return S.getEntry(v,j)}).next(function(q){var ee=E.docVersions.get(j);Ft(null!==ee),q.version.compareTo(ee)<0&&(M.applyToRemoteDocument(q,E),q.isValidDocument()&&S.addEntry(q,E.commitVersion))})}),F.next(function(){return g._n.removeMutationBatch(v,M)})).next(function(){return c.apply(o)}).next(function(){return e._n.performConsistencyCheck(o)}).next(function(){return e.Mn.pn(o,u)})})}function VV(i){var t=Ze(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function k3(i,t){var e=Ze(i),o=t.snapshotVersion,u=e.Fn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",function(c){var g=e.On.newChangeBuffer({trackRemovals:!0});u=e.Fn;var v=[];t.targetChanges.forEach(function(M,k){var ee,ye,Se,F=u.get(k);if(F){v.push(e.qe.removeMatchingKeys(c,M.removedDocuments,k).next(function(){return e.qe.addMatchingKeys(c,M.addedDocuments,k)}));var j=M.resumeToken;if(j.approximateByteSize()>0){var q=F.withResumeToken(j,o).withSequenceNumber(c.currentSequenceNumber);u=u.insert(k,q),ee=F,Se=M,Ft((ye=q).resumeToken.approximateByteSize()>0),(0===ee.resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0)&&v.push(e.qe.updateTargetData(c,q))}}});var E=Ca();if(t.documentUpdates.forEach(function(M,k){t.resolvedLimboDocuments.has(M)&&v.push(e.persistence.referenceDelegate.updateLimboDocument(c,M))}),v.push(BV(c,g,t.documentUpdates,o,void 0).next(function(M){E=M})),!o.isEqual(rn.min())){var S=e.qe.getLastRemoteSnapshotVersion(c).next(function(M){return e.qe.setTargetsMetadata(c,c.currentSequenceNumber,o)});v.push(S)}return Ge.waitFor(v).next(function(){return g.apply(c)}).next(function(){return e.Mn.En(c,E)}).next(function(){return E})}).then(function(c){return e.Fn=u,c})}function BV(i,t,e,o,u){var c=Vn();return e.forEach(function(g){return c=c.add(g)}),t.getEntries(i,c).next(function(g){var v=Ca();return e.forEach(function(E,S){var M=g.get(E),k=(null==u?void 0:u.get(E))||o;S.isNoDocument()&&S.version.isEqual(rn.min())?(t.removeEntry(E,k),v=v.insert(E,S)):!M.isValidDocument()||S.version.compareTo(M.version)>0||0===S.version.compareTo(M.version)&&M.hasPendingWrites?(t.addEntry(S,k),v=v.insert(E,S)):ze("LocalStore","Ignoring outdated watch update for ",E,". Current version:",M.version," Watch version:",S.version)}),v})}function P3(i,t){var e=Ze(i);return e.persistence.runTransaction("Get next mutation batch","readonly",function(o){return void 0===t&&(t=-1),e._n.getNextMutationBatchAfterBatchId(o,t)})}function __(i,t){var e=Ze(i);return e.persistence.runTransaction("Allocate target","readwrite",function(o){var u;return e.qe.getTargetData(o,t).next(function(c){return c?Ge.resolve(u=c):e.qe.allocateTargetId(o).next(function(g){return u=new MA(t,g,0,o.currentSequenceNumber),e.qe.addTargetData(o,u).next(function(){return u})})})}).then(function(o){var u=e.Fn.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(e.Fn=e.Fn.insert(o.targetId,o),e.kn.set(t,o.targetId)),o})}function v_(i,t,e){return(0,z.mG)(this,void 0,void 0,function(){var o,u,c,g;return(0,z.Jh)(this,function(v){switch(v.label){case 0:o=Ze(i),u=o.Fn.get(t),c=e?"readwrite":"readwrite-primary",v.label=1;case 1:return v.trys.push([1,4,,5]),e?[3,3]:[4,o.persistence.runTransaction("Release target",c,function(E){return o.persistence.referenceDelegate.removeTarget(E,u)})];case 2:v.sent(),v.label=3;case 3:return[3,5];case 4:if(!Sp(g=v.sent()))throw g;return ze("LocalStore","Failed to update sequence numbers for target "+t+": "+g),[3,5];case 5:return o.Fn=o.Fn.remove(t),o.kn.delete(u.target),[2]}})})}function NA(i,t,e){var o=Ze(i),u=rn.min(),c=Vn();return o.persistence.runTransaction("Execute query","readonly",function(g){return(v=o,E=g,S=ba(t),M=Ze(v),k=M.kn.get(S),void 0!==k?Ge.resolve(M.Fn.get(k)):M.qe.getTargetData(E,S)).next(function(v){if(v)return u=v.lastLimboFreeSnapshotVersion,o.qe.getMatchingKeysForTargetId(g,v.targetId).next(function(E){c=E})}).next(function(){return o.xn.getDocumentsMatchingQuery(g,t,e?u:rn.min(),e?c:Vn())}).next(function(v){return{documents:v,Bn:c}});var v,E,S,M,k})}function UV(i,t){var e=Ze(i),o=Ze(e.qe),u=e.Fn.get(t);return u?Promise.resolve(u.target):e.persistence.runTransaction("Get target data","readonly",function(c){return o.lt(c,t).next(function(g){return g?g.target:null})})}function jV(i){var t=Ze(i);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return u=e,c=t.$n,g=Ze(t.On),v=Ca(),E=Ck(c),S=Ed(u),M=IDBKeyRange.lowerBound(E,!0),S.$t({index:Pr.readTimeIndex,range:M},function(k,F){var j=bk(g.R,F);v=v.insert(j.key,j),E=F.readTime}).next(function(){return{wn:v,readTime:bV(E)}});var u,c,g,v,E,S,M}).then(function(e){var o=e.wn;return t.$n=e.readTime,o})}function N3(i){return(0,z.mG)(this,void 0,void 0,function(){var t;return(0,z.Jh)(this,function(e){return[2,(t=Ze(i)).persistence.runTransaction("Synchronize last document change read time","readonly",function(o){return c=Ed(o),g=rn.min(),c.$t({index:Pr.readTimeIndex,reverse:!0},function(v,E,S){E.readTime&&(g=bV(E.readTime)),S.done()}).next(function(){return g});var c,g}).then(function(o){t.$n=o})]})})}function F3(i,t,e,o){return(0,z.mG)(this,void 0,void 0,function(){var u,c,g,v,E,S,M,k,F,j;return(0,z.Jh)(this,function(q){switch(q.label){case 0:for(u=Ze(i),c=Vn(),g=Ca(),v=$L(),E=0,S=e;E<S.length;E++)k=t.qn((M=S[E]).metadata.name),M.document&&(c=c.add(k)),g=g.insert(k,t.Un(M)),v=v.insert(k,t.Kn(M.metadata.readTime));return F=u.On.newChangeBuffer({trackRemovals:!0}),[4,__(u,(ee=o,ba(r_(Sn.fromString("__bundle__/docs/"+ee)))))];case 1:return j=q.sent(),[2,u.persistence.runTransaction("Apply bundle documents","readwrite",function(ee){return BV(ee,F,g,rn.min(),v).next(function(ye){return F.apply(ee),ye}).next(function(ye){return u.qe.removeMatchingKeysForTargetId(ee,j.targetId).next(function(){return u.qe.addMatchingKeys(ee,c,j.targetId)}).next(function(){return u.Mn.En(ee,ye)}).next(function(){return ye})})})]}var ee})})}function L3(i,t,e){return void 0===e&&(e=Vn()),(0,z.mG)(this,void 0,void 0,function(){var o,u;return(0,z.Jh)(this,function(c){switch(c.label){case 0:return[4,__(i,ba(Ek(t.bundledQuery)))];case 1:return o=c.sent(),[2,(u=Ze(i)).persistence.runTransaction("Save named query","readwrite",function(g){var v=wi(t.readTime);if(o.snapshotVersion.compareTo(v)>=0)return u.Ke.saveNamedQuery(g,t);var E=o.withResumeToken(wo.EMPTY_BYTE_STRING,v);return u.Fn=u.Fn.insert(E.targetId,E),u.qe.updateTargetData(g,E).next(function(){return u.qe.removeMatchingKeysForTargetId(g,o.targetId)}).next(function(){return u.qe.addMatchingKeys(g,e,o.targetId)}).next(function(){return u.Ke.saveNamedQuery(g,t)})})]}})})}var V3=function(){function i(t){this.R=t,this.Qn=new Map,this.jn=new Map}return i.prototype.getBundleMetadata=function(t,e){return Ge.resolve(this.Qn.get(e))},i.prototype.saveBundleMetadata=function(t,e){var o;return this.Qn.set(e.id,{id:(o=e).id,version:o.version,createTime:wi(o.createTime)}),Ge.resolve()},i.prototype.getNamedQuery=function(t,e){return Ge.resolve(this.jn.get(e))},i.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(o=e).name,query:Ek(o.bundledQuery),readTime:wi(o.readTime)}),Ge.resolve();var o},i}(),Sk=function(){function i(){this.Wn=new hi(Di.Gn),this.zn=new hi(Di.Hn)}return i.prototype.isEmpty=function(){return this.Wn.isEmpty()},i.prototype.addReference=function(t,e){var o=new Di(t,e);this.Wn=this.Wn.add(o),this.zn=this.zn.add(o)},i.prototype.Jn=function(t,e){var o=this;t.forEach(function(u){return o.addReference(u,e)})},i.prototype.removeReference=function(t,e){this.Yn(new Di(t,e))},i.prototype.Xn=function(t,e){var o=this;t.forEach(function(u){return o.removeReference(u,e)})},i.prototype.Zn=function(t){var e=this,o=new vt(new Sn([])),u=new Di(o,t),c=new Di(o,t+1),g=[];return this.zn.forEachInRange([u,c],function(v){e.Yn(v),g.push(v.key)}),g},i.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},i.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},i.prototype.es=function(t){var e=new vt(new Sn([])),o=new Di(e,t),u=new Di(e,t+1),c=Vn();return this.zn.forEachInRange([o,u],function(g){c=c.add(g.key)}),c},i.prototype.containsKey=function(t){var e=new Di(t,0),o=this.Wn.firstAfterOrEqual(e);return null!==o&&t.isEqual(o.key)},i}(),Di=function(){function i(t,e){this.key=t,this.ns=e}return i.Gn=function(t,e){return vt.comparator(t.key,e.key)||cn(t.ns,e.ns)},i.Hn=function(t,e){return cn(t.ns,e.ns)||vt.comparator(t.key,e.key)},i}(),B3=function(){function i(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new hi(Di.Gn)}return i.prototype.checkEmpty=function(t){return Ge.resolve(0===this._n.length)},i.prototype.addMutationBatch=function(t,e,o,u){var c=this.ss;this.ss++;var g=new vk(c,e,o,u);this._n.push(g);for(var v=0,E=u;v<E.length;v++){var S=E[v];this.rs=this.rs.add(new Di(S.key,c)),this.Ut.addToCollectionParentIndex(t,S.key.path.popLast())}return Ge.resolve(g)},i.prototype.lookupMutationBatch=function(t,e){return Ge.resolve(this.os(e))},i.prototype.getNextMutationBatchAfterBatchId=function(t,e){var u=this.cs(e+1),c=u<0?0:u;return Ge.resolve(this._n.length>c?this._n[c]:null)},i.prototype.getHighestUnacknowledgedBatchId=function(){return Ge.resolve(0===this._n.length?-1:this.ss-1)},i.prototype.getAllMutationBatches=function(t){return Ge.resolve(this._n.slice())},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var o=this,u=new Di(e,0),c=new Di(e,Number.POSITIVE_INFINITY),g=[];return this.rs.forEachInRange([u,c],function(v){var E=o.os(v.ns);g.push(E)}),Ge.resolve(g)},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var o=this,u=new hi(cn);return e.forEach(function(c){var g=new Di(c,0),v=new Di(c,Number.POSITIVE_INFINITY);o.rs.forEachInRange([g,v],function(E){u=u.add(E.ns)})}),Ge.resolve(this.us(u))},i.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var o=e.path,u=o.length+1,c=o;vt.isDocumentKey(c)||(c=c.child(""));var g=new Di(new vt(c),0),v=new hi(cn);return this.rs.forEachWhile(function(E){var S=E.key.path;return!!o.isPrefixOf(S)&&(S.length===u&&(v=v.add(E.ns)),!0)},g),Ge.resolve(this.us(v))},i.prototype.us=function(t){var e=this,o=[];return t.forEach(function(u){var c=e.os(u);null!==c&&o.push(c)}),o},i.prototype.removeMutationBatch=function(t,e){var o=this;Ft(0===this.hs(e.batchId,"removed")),this._n.shift();var u=this.rs;return Ge.forEach(e.mutations,function(c){var g=new Di(c.key,e.batchId);return u=u.delete(g),o.referenceDelegate.markPotentiallyOrphaned(t,c.key)}).next(function(){o.rs=u})},i.prototype.Gt=function(t){},i.prototype.containsKey=function(t,e){var o=new Di(e,0),u=this.rs.firstAfterOrEqual(o);return Ge.resolve(e.isEqual(u&&u.key))},i.prototype.performConsistencyCheck=function(t){return Ge.resolve()},i.prototype.hs=function(t,e){return this.cs(t)},i.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},i.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},i}(),U3=function(){function i(t,e){this.Ut=t,this.ls=e,this.docs=new ro(vt.comparator),this.size=0}return i.prototype.addEntry=function(t,e,o){var u=e.key,c=this.docs.get(u),g=c?c.size:0,v=this.ls(e);return this.docs=this.docs.insert(u,{document:e.clone(),size:v,readTime:o}),this.size+=v-g,this.Ut.addToCollectionParentIndex(t,u.path.popLast())},i.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},i.prototype.getEntry=function(t,e){var o=this.docs.get(e);return Ge.resolve(o?o.document.clone():zi.newInvalidDocument(e))},i.prototype.getEntries=function(t,e){var o=this,u=Ca();return e.forEach(function(c){var g=o.docs.get(c);u=u.insert(c,g?g.document.clone():zi.newInvalidDocument(c))}),Ge.resolve(u)},i.prototype.getDocumentsMatchingQuery=function(t,e,o){for(var u=Ca(),c=new vt(e.path.child("")),g=this.docs.getIteratorFrom(c);g.hasNext();){var v=g.getNext(),S=v.value,M=S.document,k=S.readTime;if(!e.path.isPrefixOf(v.key.path))break;k.compareTo(o)<=0||zC(e,M)&&(u=u.insert(M.key,M.clone()))}return Ge.resolve(u)},i.prototype.fs=function(t,e){return Ge.forEach(this.docs,function(o){return e(o)})},i.prototype.newChangeBuffer=function(t){return new j3(this)},i.prototype.getSize=function(t){return Ge.resolve(this.size)},i}(),j3=function(i){function t(e){var o=this;return(o=i.call(this)||this).Ie=e,o}return(0,z.ZT)(t,i),t.prototype.applyChanges=function(e){var o=this,u=[];return this.changes.forEach(function(c,g){g.document.isValidDocument()?u.push(o.Ie.addEntry(e,g.document,o.getReadTime(c))):o.Ie.removeEntry(c)}),Ge.waitFor(u)},t.prototype.getFromCache=function(e,o){return this.Ie.getEntry(e,o)},t.prototype.getAllFromCache=function(e,o){return this.Ie.getEntries(e,o)},t}(OV),H3=function(){function i(t){this.persistence=t,this.ds=new y_(function(e){return jC(e)},yA),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.ws=0,this._s=new Sk,this.targetCount=0,this.ys=OA.Jt()}return i.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(o,u){return e(u)}),Ge.resolve()},i.prototype.getLastRemoteSnapshotVersion=function(t){return Ge.resolve(this.lastRemoteSnapshotVersion)},i.prototype.getHighestSequenceNumber=function(t){return Ge.resolve(this.ws)},i.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Ge.resolve(this.highestTargetId)},i.prototype.setTargetsMetadata=function(t,e,o){return o&&(this.lastRemoteSnapshotVersion=o),e>this.ws&&(this.ws=e),Ge.resolve()},i.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new OA(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},i.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Ge.resolve()},i.prototype.updateTargetData=function(t,e){return this.te(e),Ge.resolve()},i.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Ge.resolve()},i.prototype.removeTargets=function(t,e,o){var u=this,c=0,g=[];return this.ds.forEach(function(v,E){E.sequenceNumber<=e&&null===o.get(E.targetId)&&(u.ds.delete(v),g.push(u.removeMatchingKeysForTargetId(t,E.targetId)),c++)}),Ge.waitFor(g).next(function(){return c})},i.prototype.getTargetCount=function(t){return Ge.resolve(this.targetCount)},i.prototype.getTargetData=function(t,e){var o=this.ds.get(e)||null;return Ge.resolve(o)},i.prototype.addMatchingKeys=function(t,e,o){return this._s.Jn(e,o),Ge.resolve()},i.prototype.removeMatchingKeys=function(t,e,o){this._s.Xn(e,o);var u=this.persistence.referenceDelegate,c=[];return u&&e.forEach(function(g){c.push(u.markPotentiallyOrphaned(t,g))}),Ge.waitFor(c)},i.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Ge.resolve()},i.prototype.getMatchingKeysForTargetId=function(t,e){var o=this._s.es(e);return Ge.resolve(o)},i.prototype.containsKey=function(t,e){return Ge.resolve(this._s.containsKey(e))},i}(),G3=function(){function i(t,e){var o=this;this.gs={},this.Ne=new Ts(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new H3(this),this.Ut=new y3,this.Ue=new U3(this.Ut,function(g){return o.referenceDelegate.ps(g)}),this.R=new _V(e),this.Ke=new V3(this.R)}return i.prototype.start=function(){return Promise.resolve()},i.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.setDatabaseDeletedListener=function(){},i.prototype.setNetworkEnabled=function(){},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new B3(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(t,e,o){var u=this;ze("MemoryPersistence","Starting transaction:",t);var c=new z3(this.Ne.next());return this.referenceDelegate.Es(),o(c).next(function(g){return u.referenceDelegate.Ts(c).next(function(){return g})}).toPromise().then(function(g){return c.raiseOnCommittedEvent(),g})},i.prototype.Is=function(t,e){return Ge.or(Object.values(this.gs).map(function(o){return function(){return o.containsKey(t,e)}}))},i}(),z3=function(i){function t(e){var o=this;return(o=i.call(this)||this).currentSequenceNumber=e,o}return(0,z.ZT)(t,i),t}(pV),q3=function(){function i(t){this.persistence=t,this.As=new Sk,this.Rs=null}return i.bs=function(t){return new i(t)},Object.defineProperty(i.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw yt()},enumerable:!1,configurable:!0}),i.prototype.addReference=function(t,e,o){return this.As.addReference(o,e),this.vs.delete(o.toString()),Ge.resolve()},i.prototype.removeReference=function(t,e,o){return this.As.removeReference(o,e),this.vs.add(o.toString()),Ge.resolve()},i.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Ge.resolve()},i.prototype.removeTarget=function(t,e){var o=this;this.As.Zn(e.targetId).forEach(function(c){return o.vs.add(c.toString())});var u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(t,e.targetId).next(function(c){c.forEach(function(g){return o.vs.add(g.toString())})}).next(function(){return u.removeTargetData(t,e)})},i.prototype.Es=function(){this.Rs=new Set},i.prototype.Ts=function(t){var e=this,o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ge.forEach(this.vs,function(u){var c=vt.fromPath(u);return e.Ps(t,c).next(function(g){g||o.removeEntry(c)})}).next(function(){return e.Rs=null,o.apply(t)})},i.prototype.updateLimboDocument=function(t,e){var o=this;return this.Ps(t,e).next(function(u){u?o.vs.delete(e.toString()):o.vs.add(e.toString())})},i.prototype.ps=function(t){return 0},i.prototype.Ps=function(t,e){var o=this;return Ge.or([function(){return Ge.resolve(o.As.containsKey(e))},function(){return o.persistence.getTargetCache().containsKey(t,e)},function(){return o.persistence.Is(t,e)}])},i}(),Jo=function(){function i(t){this.uid=t}return i.prototype.isAuthenticated=function(){return null!=this.uid},i.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},i.prototype.isEqual=function(t){return t.uid===this.uid},i}();function HV(i,t){return"firestore_clients_"+i+"_"+t}function GV(i,t,e){var o="firestore_mutations_"+i+"_"+e;return t.isAuthenticated()&&(o+="_"+t.uid),o}function Ak(i,t){return"firestore_targets_"+i+"_"+t}Jo.UNAUTHENTICATED=new Jo(null),Jo.GOOGLE_CREDENTIALS=new Jo("google-credentials-uid"),Jo.FIRST_PARTY=new Jo("first-party-uid");var zV=function(){function i(t,e,o,u){this.user=t,this.batchId=e,this.state=o,this.error=u}return i.Vs=function(t,e,o){var u,c=JSON.parse(o),g="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return g&&c.error&&(g="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(u=new Ue(c.error.code,c.error.message)),g?new i(t,e,c.state,u):(Xr("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+o),null)},i.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},i}(),Ik=function(){function i(t,e,o){this.targetId=t,this.state=e,this.error=o}return i.Vs=function(t,e){var o,u=JSON.parse(e),c="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return c&&u.error&&(c="string"==typeof u.error.message&&"string"==typeof u.error.code)&&(o=new Ue(u.error.code,u.error.message)),c?new i(t,u.state,o):(Xr("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},i.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},i}(),qV=function(){function i(t,e){this.clientId=t,this.activeTargetIds=e}return i.Vs=function(t,e){for(var o=JSON.parse(e),u="object"==typeof o&&o.activeTargetIds instanceof Array,c=SA(),g=0;u&&g<o.activeTargetIds.length;++g)u=yL(o.activeTargetIds[g]),c=c.add(o.activeTargetIds[g]);return u?new i(t,c):(Xr("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},i}(),$3=function(){function i(t,e){this.clientId=t,this.onlineState=e}return i.Vs=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new i(e.clientId,e.onlineState):(Xr("SharedClientState","Failed to parse online state: "+t),null)},i}(),Mk=function(){function i(){this.activeTargetIds=SA()}return i.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},i.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},i.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},i}(),xk=function(){function i(t,e,o,u,c){this.window=t,this.Se=e,this.persistenceKey=o,this.Ns=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ro(cn),this.started=!1,this.$s=[];var g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Os=HV(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Mk),this.Ls=new RegExp("^firestore_clients_"+g+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+g+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+g+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(v){return"firestore_bundle_loaded_"+v}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return i.yt=function(t){return!(!t||!t.localStorage)},i.prototype.start=function(){return(0,z.mG)(this,void 0,void 0,function(){var t,e,o,u,c,g,v,E,S,M,F=this;return(0,z.Jh)(this,function(j){switch(j.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=j.sent(),e=0,o=t;e<o.length;e++)(u=o[e])!==this.Ns&&(c=this.getItem(HV(this.persistenceKey,u)))&&(g=qV.Vs(u,c))&&(this.ks=this.ks.insert(g.clientId,g));for(this.Qs(),(v=this.storage.getItem(this.Us))&&(E=this.js(v))&&this.Ws(E),S=0,M=this.$s;S<M.length;S++)this.Fs(M[S]);return this.$s=[],this.window.addEventListener("pagehide",function(){return F.shutdown()}),this.started=!0,[2]}})})},i.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},i.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},i.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(o,u){u.activeTargetIds.has(t)&&(e=!0)}),e},i.prototype.addPendingMutation=function(t){this.zs(t,"pending")},i.prototype.updateMutationState=function(t,e,o){this.zs(t,e,o),this.Hs(t)},i.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var o=this.storage.getItem(Ak(this.persistenceKey,t));if(o){var u=Ik.Vs(t,o);u&&(e=u.state)}}return this.Js.Ds(t),this.Qs(),e},i.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},i.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},i.prototype.clearQueryState=function(t){this.removeItem(Ak(this.persistenceKey,t))},i.prototype.updateQueryState=function(t,e,o){this.Ys(t,e,o)},i.prototype.handleUserChange=function(t,e,o){var u=this;e.forEach(function(c){u.Hs(c)}),this.currentUser=t,o.forEach(function(c){u.addPendingMutation(c)})},i.prototype.setOnlineState=function(t){this.Xs(t)},i.prototype.notifyBundleLoaded=function(){this.Zs()},i.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},i.prototype.getItem=function(t){var e=this.storage.getItem(t);return ze("SharedClientState","READ",t,e),e},i.prototype.setItem=function(t,e){ze("SharedClientState","SET",t,e),this.storage.setItem(t,e)},i.prototype.removeItem=function(t){ze("SharedClientState","REMOVE",t),this.storage.removeItem(t)},i.prototype.Fs=function(t){var e=this,o=t;if(o.storageArea===this.storage){if(ze("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Os)return void Xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,z.mG)(e,void 0,void 0,function(){var u,c,g,v,E,S;return(0,z.Jh)(this,function(M){if(this.started){if(null!==o.key)if(this.Ls.test(o.key)){if(null==o.newValue)return u=this.ti(o.key),[2,this.ei(u,null)];if(c=this.ni(o.key,o.newValue))return[2,this.ei(c.clientId,c)]}else if(this.Bs.test(o.key)){if(null!==o.newValue&&(g=this.si(o.key,o.newValue)))return[2,this.ii(g)]}else if(this.qs.test(o.key)){if(null!==o.newValue&&(v=this.ri(o.key,o.newValue)))return[2,this.oi(v)]}else if(o.key===this.Us){if(null!==o.newValue&&(E=this.js(o.newValue)))return[2,this.Ws(E)]}else if(o.key===this.Ms)(S=function(k){var F=Ts.o;if(null!=k)try{var j=JSON.parse(k);Ft("number"==typeof j),F=j}catch(q){Xr("SharedClientState","Failed to read sequence number from WebStorage",q)}return F}(o.newValue))!==Ts.o&&this.sequenceNumberHandler(S);else if(o.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(o);return[2]})})})}},Object.defineProperty(i.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),i.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},i.prototype.zs=function(t,e,o){var u=new zV(this.currentUser,t,e,o),c=GV(this.persistenceKey,this.currentUser,t);this.setItem(c,u.Ss())},i.prototype.Hs=function(t){var e=GV(this.persistenceKey,this.currentUser,t);this.removeItem(e)},i.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},i.prototype.Ys=function(t,e,o){var u=Ak(this.persistenceKey,t),c=new Ik(t,e,o);this.setItem(u,c.Ss())},i.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},i.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},i.prototype.ni=function(t,e){var o=this.ti(t);return qV.Vs(o,e)},i.prototype.si=function(t,e){var o=this.Bs.exec(t),u=Number(o[1]);return zV.Vs(new Jo(void 0!==o[2]?o[2]:null),u,e)},i.prototype.ri=function(t,e){var o=this.qs.exec(t),u=Number(o[1]);return Ik.Vs(u,e)},i.prototype.js=function(t){return $3.Vs(t)},i.prototype.ii=function(t){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ze("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},i.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},i.prototype.ei=function(t,e){var o=this,u=e?this.ks.insert(t,e):this.ks.remove(t),c=this.Gs(this.ks),g=this.Gs(u),v=[],E=[];return g.forEach(function(S){c.has(S)||v.push(S)}),c.forEach(function(S){g.has(S)||E.push(S)}),this.syncEngine.hi(v,E).then(function(){o.ks=u})},i.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},i.prototype.Gs=function(t){var e=SA();return t.forEach(function(o,u){e=e.unionWith(u.activeTargetIds)}),e},i}(),$V=function(){function i(){this.li=new Mk,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return i.prototype.addPendingMutation=function(t){},i.prototype.updateMutationState=function(t,e,o){},i.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},i.prototype.updateQueryState=function(t,e,o){this.fi[t]=e},i.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},i.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},i.prototype.clearQueryState=function(t){delete this.fi[t]},i.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},i.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},i.prototype.start=function(){return this.li=new Mk,Promise.resolve()},i.prototype.handleUserChange=function(t,e,o){},i.prototype.setOnlineState=function(t){},i.prototype.shutdown=function(){},i.prototype.writeSequenceNumber=function(t){},i.prototype.notifyBundleLoaded=function(){},i}(),W3=function(){function i(){}return i.prototype.di=function(t){},i.prototype.shutdown=function(){},i}(),WV=function(){function i(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return i.prototype.di=function(t){this.gi.push(t)},i.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},i.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},i.prototype._i=function(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},i.prototype.yi=function(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},i.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},i}(),Y3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},K3=function(){function i(t){this.Ei=t.Ei,this.Ti=t.Ti}return i.prototype.Ii=function(t){this.Ai=t},i.prototype.Ri=function(t){this.bi=t},i.prototype.onMessage=function(t){this.vi=t},i.prototype.close=function(){this.Ti()},i.prototype.send=function(t){this.Ei(t)},i.prototype.Pi=function(){this.Ai()},i.prototype.Vi=function(t){this.bi(t)},i.prototype.Si=function(t){this.vi(t)},i}(),Q3=function(i){function t(e){var o=this;return(o=i.call(this,e)||this).forceLongPolling=e.forceLongPolling,o.autoDetectLongPolling=e.autoDetectLongPolling,o.useFetchStreams=e.useFetchStreams,o}return(0,z.ZT)(t,i),t.prototype.ki=function(e,o,u,c){return new Promise(function(g,v){var E=new cL;E.listenOnce(aL.COMPLETE,function(){try{switch(E.getLastErrorCode()){case fA.NO_ERROR:var M=E.getResponseJson();ze("Connection","XHR received:",JSON.stringify(M)),g(M);break;case fA.TIMEOUT:ze("Connection",'RPC "'+e+'" timed out'),v(new Ue(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case fA.HTTP_ERROR:var k=E.getStatus();if(ze("Connection",'RPC "'+e+'" failed with status:',k,"response text:",E.getResponseText()),k>0){var F=E.getResponseJson().error;if(F&&F.status&&F.message){var j=(ee=F.status.toLowerCase().replace(/_/g,"-"),Object.values(Ae).indexOf(ee)>=0?ee:Ae.UNKNOWN);v(new Ue(j,F.message))}else v(new Ue(Ae.UNKNOWN,"Server responded with status "+E.getStatus()))}else v(new Ue(Ae.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{ze("Connection",'RPC "'+e+'" completed.')}var ee});var S=JSON.stringify(c);E.send(o,"POST",S,u,15)})},t.prototype.Oi=function(e,o){var u=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=new dA,g=ZS(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(v.xmlHttpFactory=new lL({})),this.Fi(v.initMessageHeaders,o),(0,bn.uI)()||(0,bn.b$)()||(0,bn.d)()||(0,bn.w1)()||(0,bn.Mn)()||(0,bn.ru)()||(v.httpHeadersOverwriteParam="$httpHeaders");var E=u.join("");ze("Connection","Creating WebChannel: "+E,v);var S=c.createWebChannel(E,v),M=!1,k=!1,F=new K3({Ei:function(q){k?ze("Connection","Not sending because WebChannel is closed:",q):(M||(ze("Connection","Opening WebChannel transport."),S.open(),M=!0),ze("Connection","WebChannel sending:",q),S.send(q))},Ti:function(){return S.close()}}),j=function(q,ee,ye){q.listen(ee,function(Se){try{ye(Se)}catch(Ne){setTimeout(function(){throw Ne},0)}})};return j(S,FC.EventType.OPEN,function(){k||ze("Connection","WebChannel transport opened.")}),j(S,FC.EventType.CLOSE,function(){k||(k=!0,ze("Connection","WebChannel transport closed"),F.Vi())}),j(S,FC.EventType.ERROR,function(q){k||(k=!0,LC("Connection","WebChannel transport errored:",q),F.Vi(new Ue(Ae.UNAVAILABLE,"The operation could not be completed")))}),j(S,FC.EventType.MESSAGE,function(q){var ee;if(!k){var ye=q.data[0];Ft(!!ye);var Ne=ye.error||(null===(ee=ye[0])||void 0===ee?void 0:ee.error);if(Ne){ze("Connection","WebChannel received error:",Ne);var je=Ne.status,tt=function(Ht){var pn=ti[Ht];if(void 0!==pn)return zL(pn)}(je),nt=Ne.message;void 0===tt&&(tt=Ae.INTERNAL,nt="Unknown error status: "+je+" with message "+Ne.message),k=!0,F.Vi(new Ue(tt,nt)),S.close()}else ze("Connection","WebChannel received:",ye),F.Si(ye)}}),j(g,uL.STAT_EVENT,function(q){q.stat===XR_PROXY?ze("Connection","Detected buffering proxy"):q.stat===XR_NOPROXY&&ze("Connection","Detected no buffering proxy")}),setTimeout(function(){F.Pi()},0),F},t}(function(){function i(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return i.prototype.Ni=function(t,e,o,u){var c=this.xi(t,e);ze("RestConnection","Sending: ",c,o);var g={};return this.Fi(g,u),this.ki(t,c,g,o).then(function(v){return ze("RestConnection","Received: ",v),v},function(v){throw LC("RestConnection",t+" failed with error: ",v,"url: ",c,"request:",o),v})},i.prototype.$i=function(t,e,o,u){return this.Ni(t,e,o,u)},i.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var o in e.authHeaders)e.authHeaders.hasOwnProperty(o)&&(t[o]=e.authHeaders[o])},i.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Y3[t]},i}());function YV(){return"undefined"!=typeof window?window:null}function FA(){return"undefined"!=typeof document?document:null}function eE(i){return new t3(i,!0)}var Ok=function(){function i(t,e,o,u,c){void 0===o&&(o=1e3),void 0===u&&(u=1.5),void 0===c&&(c=6e4),this.Se=t,this.timerId=e,this.Mi=o,this.Li=u,this.Bi=c,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return i.prototype.reset=function(){this.qi=0},i.prototype.Qi=function(){this.qi=this.Bi},i.prototype.ji=function(t){var e=this;this.cancel();var o=Math.floor(this.qi+this.Wi()),u=Math.max(0,Date.now()-this.Ki),c=Math.max(0,o-u);c>0&&ze("ExponentialBackoff","Backing off for "+c+" ms (base delay: "+this.qi+" ms, delay with jitter: "+o+" ms, last attempt: "+u+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,c,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},i.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},i.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},i.prototype.Wi=function(){return(Math.random()-.5)*this.qi},i}(),KV=function(){function i(t,e,o,u,c,g){this.Se=t,this.zi=o,this.Hi=u,this.Ji=c,this.listener=g,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ok(t,e)}return i.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},i.prototype.er=function(){return 2===this.state},i.prototype.start=function(){3!==this.state?this.auth():this.nr()},i.prototype.stop=function(){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},i.prototype.sr=function(){this.state=0,this.Zi.reset()},i.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},i.prototype.cr=function(t){this.ur(),this.stream.send(t)},i.prototype.rr=function(){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},i.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},i.prototype.close=function(t,e){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(o){switch(o.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ae.RESOURCE_EXHAUSTED?(Xr(e.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Ae.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return o.sent(),[2]}})})},i.prototype.ar=function(){},i.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),o=this.Yi;this.Ji.getToken().then(function(u){t.Yi===o&&t.lr(u)},function(u){e(function(){var c=new Ue(Ae.UNKNOWN,"Fetching auth token failed: "+u.message);return t.dr(c)})})},i.prototype.lr=function(t){var e=this,o=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){o(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(u){o(function(){return e.dr(u)})}),this.stream.onMessage(function(u){o(function(){return e.onMessage(u)})})},i.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,z.mG)(t,void 0,void 0,function(){return(0,z.Jh)(this,function(e){return this.state=0,this.start(),[2]})})})},i.prototype.dr=function(t){return ze("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},i.prototype.hr=function(t){var e=this;return function(o){e.Se.enqueueAndForget(function(){return e.Yi===t?o():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},i}(),Z3=function(i){function t(e,o,u,c,g){var v=this;return(v=i.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",o,u,g)||this).R=c,v}return(0,z.ZT)(t,i),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var o=function(c,g){var v,ye;if("targetChange"in g){var E="NO_CHANGE"===(ye=g.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ye?1:"REMOVE"===ye?2:"CURRENT"===ye?3:"RESET"===ye?4:yt(),S=g.targetChange.targetIds||[],M=function(ye,Se){return ye.I?(Ft(void 0===Se||"string"==typeof Se),wo.fromBase64String(Se||"")):(Ft(void 0===Se||Se instanceof Uint8Array),wo.fromUint8Array(Se||new Uint8Array))}(c,g.targetChange.resumeToken),k=(F=g.targetChange.cause)&&function(ye){var Se=void 0===ye.code?Ae.UNKNOWN:zL(ye.code);return new Ue(Se,ye.message||"")}(F);v=new YL(E,S,M,k||null)}else if("documentChange"in g){S=ul(c,(E=g.documentChange).document.name),M=wi(E.document.updateTime);var F=new Ss({mapValue:{fields:E.document.fields}}),j=(k=zi.newFoundDocument(S,M,F),E.targetIds||[]);v=new AA(j,E.removedTargetIds||[],k.key,k)}else if("documentDelete"in g)S=ul(c,(E=g.documentDelete).document),M=E.readTime?wi(E.readTime):rn.min(),F=zi.newNoDocument(S,M),v=new AA([],k=E.removedTargetIds||[],F.key,F);else if("documentRemove"in g)S=ul(c,(E=g.documentRemove).document),v=new AA([],M=E.removedTargetIds||[],S,null);else{if(!("filter"in g))return yt();var ee=g.filter;S=new $U(E=ee.count||0),v=new WL(M=ee.targetId,S)}return v}(this.R,e),u=function(c){if(!("targetChange"in c))return rn.min();var g=c.targetChange;return g.targetIds&&g.targetIds.length?rn.min():g.readTime?wi(g.readTime):rn.min()}(e);return this.listener._r(o,u)},t.prototype.mr=function(e){var c,g,v,E,o={};o.database=QC(this.R),o.addTarget=(c=this.R,(v=_A(E=(g=e).target)?{documents:oV(c,E)}:{query:sV(c,E)}).targetId=g.targetId,g.resumeToken.approximateByteSize()>0?v.resumeToken=JL(c,g.resumeToken):g.snapshotVersion.compareTo(rn.min())>0&&(v.readTime=YC(c,g.snapshotVersion.toTimestamp())),v);var u=function(c,g){var v=function(E,S){switch(S){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,g.purpose);return null==v?null:{"goog-listen-tags":v}}(0,e);u&&(o.labels=u),this.cr(o)},t.prototype.yr=function(e){var o={};o.database=QC(this.R),o.removeTarget=e,this.cr(o)},t}(KV),J3=function(i){function t(e,o,u,c,g){var v=this;return(v=i.call(this,e,"write_stream_connection_backoff","write_stream_idle",o,u,g)||this).R=c,v.gr=!1,v}return(0,z.ZT)(t,i),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,i.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var o=(g=e.commitTime,(c=e.writeResults)&&c.length>0?(Ft(void 0!==g),c.map(function(v){return S=g,(M=wi((E=v).updateTime?E.updateTime:S)).isEqual(rn.min())&&(M=wi(S)),new GU(M,E.transformResults||[]);var E,S,M})):[]),u=wi(e.commitTime);return this.listener.Tr(u,o)}var c,g;return Ft(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=QC(this.R),this.cr(e)},t.prototype.Er=function(e){var o=this,u={streamToken:this.lastStreamToken,writes:e.map(function(c){return IA(o.R,c)})};this.cr(u)},t}(KV),X3=function(i){function t(e,o,u){var c=this;return(c=i.call(this)||this).credentials=e,c.Hi=o,c.R=u,c.Rr=!1,c}return(0,z.ZT)(t,i),t.prototype.br=function(){if(this.Rr)throw new Ue(Ae.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,o,u){var c=this;return this.br(),this.credentials.getToken().then(function(g){return c.Hi.Ni(e,o,u,g)}).catch(function(g){throw"FirebaseError"===g.name?(g.code===Ae.UNAUTHENTICATED&&c.credentials.invalidateToken(),g):new Ue(Ae.UNKNOWN,g.toString())})},t.prototype.$i=function(e,o,u){var c=this;return this.br(),this.credentials.getToken().then(function(g){return c.Hi.$i(e,o,u,g)}).catch(function(g){throw"FirebaseError"===g.name?(g.code===Ae.UNAUTHENTICATED&&c.credentials.invalidateToken(),g):new Ue(Ae.UNKNOWN,g.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),ej=function(){function i(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return i.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},i.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},i.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},i.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},i.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Xr(e),this.Vr=!1):ze("OnlineStateTracker",e)},i.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},i}(),tj=function(i,t,e,o,u){var c=this;this.localStore=i,this.datastore=t,this.asyncQueue=e,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=u,this.Lr.di(function(g){e.enqueueAndForget(function(){return(0,z.mG)(c,void 0,void 0,function(){return(0,z.Jh)(this,function(v){switch(v.label){case 0:return wd(this)?(ze("RemoteStore","Restarting streams for network reachability change."),[4,function(E){return(0,z.mG)(this,void 0,void 0,function(){var S;return(0,z.Jh)(this,function(M){switch(M.label){case 0:return(S=Ze(E)).Or.add(4),[4,b_(S)];case 1:return M.sent(),S.Br.set("Unknown"),S.Or.delete(4),[4,tE(S)];case 2:return M.sent(),[2]}})})}(this)]):[3,2];case 1:v.sent(),v.label=2;case 2:return[2]}})})})}),this.Br=new ej(e,o)};function tE(i){return(0,z.mG)(this,void 0,void 0,function(){var t,e;return(0,z.Jh)(this,function(o){switch(o.label){case 0:if(!wd(i))return[3,4];t=0,e=i.Mr,o.label=1;case 1:return t<e.length?[4,(0,e[t])(!0)]:[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function b_(i){return(0,z.mG)(this,void 0,void 0,function(){var t,e;return(0,z.Jh)(this,function(o){switch(o.label){case 0:t=0,e=i.Mr,o.label=1;case 1:return t<e.length?[4,(0,e[t])(!1)]:[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function LA(i,t){var e=Ze(i);e.$r.has(t.targetId)||(e.$r.set(t.targetId,t),Pk(e)?kk(e):E_(e).er()&&Rk(e,t))}function nE(i,t){var e=Ze(i),o=E_(e);e.$r.delete(t),o.er()&&QV(e,t),0===e.$r.size&&(o.er()?o.ir():wd(e)&&e.Br.set("Unknown"))}function Rk(i,t){i.qr.U(t.targetId),E_(i).mr(t)}function QV(i,t){i.qr.U(t),E_(i).yr(t)}function kk(i){i.qr=new JU({getRemoteKeysForTarget:function(t){return i.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return i.$r.get(t)||null}}),E_(i).start(),i.Br.Sr()}function Pk(i){return wd(i)&&!E_(i).tr()&&i.$r.size>0}function wd(i){return 0===Ze(i).Or.size}function ZV(i){i.qr=void 0}function nj(i){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(t){return i.$r.forEach(function(e,o){Rk(i,e)}),[2]})})}function rj(i,t){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(e){return ZV(i),Pk(i)?(i.Br.Nr(t),kk(i)):i.Br.set("Unknown"),[2]})})}function ij(i,t,e){return(0,z.mG)(this,void 0,void 0,function(){var o,u,c;return(0,z.Jh)(this,function(g){switch(g.label){case 0:if(i.Br.set("Online"),!(t instanceof YL&&2===t.state&&t.cause))return[3,6];g.label=1;case 1:return g.trys.push([1,3,,5]),[4,function(v,E){return(0,z.mG)(this,void 0,void 0,function(){var S,M,k,F;return(0,z.Jh)(this,function(j){switch(j.label){case 0:S=E.cause,M=0,k=E.targetIds,j.label=1;case 1:return M<k.length?v.$r.has(F=k[M])?[4,v.remoteSyncer.rejectListen(F,S)]:[3,3]:[3,5];case 2:j.sent(),v.$r.delete(F),v.qr.removeTarget(F),j.label=3;case 3:j.label=4;case 4:return M++,[3,1];case 5:return[2]}})})}(i,t)];case 2:return g.sent(),[3,5];case 3:return o=g.sent(),ze("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),[4,VA(i,o)];case 4:return g.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof AA?i.qr.X(t):t instanceof WL?i.qr.rt(t):i.qr.et(t),e.isEqual(rn.min()))return[3,13];g.label=7;case 7:return g.trys.push([7,11,,13]),[4,VV(i.localStore)];case 8:return u=g.sent(),e.compareTo(u)>=0?[4,(v=i,E=e,S=v.qr.ut(E),S.targetChanges.forEach(function(M,k){if(M.resumeToken.approximateByteSize()>0){var F=v.$r.get(k);F&&v.$r.set(k,F.withResumeToken(M.resumeToken,E))}}),S.targetMismatches.forEach(function(M){var k=v.$r.get(M);if(k){v.$r.set(M,k.withResumeToken(wo.EMPTY_BYTE_STRING,k.snapshotVersion)),QV(v,M);var F=new MA(k.target,M,1,k.sequenceNumber);Rk(v,F)}}),v.remoteSyncer.applyRemoteEvent(S))]:[3,10];case 9:g.sent(),g.label=10;case 10:return[3,13];case 11:return ze("RemoteStore","Failed to raise snapshot:",c=g.sent()),[4,VA(i,c)];case 12:return g.sent(),[3,13];case 13:return[2]}var v,E,S})})}function VA(i,t,e){return(0,z.mG)(this,void 0,void 0,function(){var o=this;return(0,z.Jh)(this,function(u){switch(u.label){case 0:if(!Sp(t))throw t;return i.Or.add(1),[4,b_(i)];case 1:return u.sent(),i.Br.set("Offline"),e||(e=function(){return VV(i.localStore)}),i.asyncQueue.enqueueRetryable(function(){return(0,z.mG)(o,void 0,void 0,function(){return(0,z.Jh)(this,function(c){switch(c.label){case 0:return ze("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return c.sent(),i.Or.delete(1),[4,tE(i)];case 2:return c.sent(),[2]}})})}),[2]}})})}function JV(i,t){return t().catch(function(e){return VA(i,e,t)})}function C_(i){return(0,z.mG)(this,void 0,void 0,function(){var t,e,o,u,c;return(0,z.Jh)(this,function(g){switch(g.label){case 0:t=Ze(i),e=Dd(t),o=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,g.label=1;case 1:if(!(wd(v=t)&&v.kr.length<10))return[3,7];g.label=2;case 2:return g.trys.push([2,4,,6]),[4,P3(t.localStore,o)];case 3:return null===(u=g.sent())?(0===t.kr.length&&e.ir(),[3,7]):(o=u.batchId,function(v,E){v.kr.push(E);var S=Dd(v);S.er()&&S.pr&&S.Er(E.mutations)}(t,u),[3,6]);case 4:return c=g.sent(),[4,VA(t,c)];case 5:return g.sent(),[3,6];case 6:return[3,1];case 7:return XV(t)&&eB(t),[2]}var v})})}function XV(i){return wd(i)&&!Dd(i).tr()&&i.kr.length>0}function eB(i){Dd(i).start()}function oj(i){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(t){return Dd(i).Ar(),[2]})})}function sj(i){return(0,z.mG)(this,void 0,void 0,function(){var t,e,o;return(0,z.Jh)(this,function(c){for(t=Dd(i),e=0,o=i.kr;e<o.length;e++)t.Er(o[e].mutations);return[2]})})}function aj(i,t,e){return(0,z.mG)(this,void 0,void 0,function(){var o,u;return(0,z.Jh)(this,function(c){switch(c.label){case 0:return o=i.kr.shift(),u=g3.from(o,t,e),[4,JV(i,function(){return i.remoteSyncer.applySuccessfulWrite(u)})];case 1:return c.sent(),[4,C_(i)];case 2:return c.sent(),[2]}})})}function uj(i,t){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(e){switch(e.label){case 0:return t&&Dd(i).pr?[4,function(o,u){return(0,z.mG)(this,void 0,void 0,function(){var c,g;return(0,z.Jh)(this,function(v){switch(v.label){case 0:return GL(g=u.code)&&g!==Ae.ABORTED?(c=o.kr.shift(),Dd(o).sr(),[4,JV(o,function(){return o.remoteSyncer.rejectFailedWrite(c.batchId,u)})]):[3,3];case 1:return v.sent(),[4,C_(o)];case 2:v.sent(),v.label=3;case 3:return[2]}})})}(i,t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return XV(i)&&eB(i),[2]}})})}function Nk(i,t){return(0,z.mG)(this,void 0,void 0,function(){var e;return(0,z.Jh)(this,function(o){switch(o.label){case 0:return e=Ze(i),t?(e.Or.delete(2),[4,tE(e)]):[3,2];case 1:return o.sent(),[3,5];case 2:return t?[3,4]:(e.Or.add(2),[4,b_(e)]);case 3:o.sent(),e.Br.set("Unknown"),o.label=4;case 4:o.label=5;case 5:return[2]}})})}function E_(i){var e,o,u,c,t=this;return i.Ur||(i.Ur=(e=i.datastore,o=i.asyncQueue,u={Ii:nj.bind(null,i),Ri:rj.bind(null,i),_r:ij.bind(null,i)},(c=Ze(e)).br(),new Z3(o,c.Hi,c.credentials,c.R,u)),i.Mr.push(function(e){return(0,z.mG)(t,void 0,void 0,function(){return(0,z.Jh)(this,function(o){switch(o.label){case 0:return e?(i.Ur.sr(),Pk(i)?kk(i):i.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,i.Ur.stop()];case 2:o.sent(),ZV(i),o.label=3;case 3:return[2]}})})})),i.Ur}function Dd(i){var e,o,u,c,t=this;return i.Kr||(i.Kr=(e=i.datastore,o=i.asyncQueue,u={Ii:oj.bind(null,i),Ri:uj.bind(null,i),Ir:sj.bind(null,i),Tr:aj.bind(null,i)},(c=Ze(e)).br(),new J3(o,c.Hi,c.credentials,c.R,u)),i.Mr.push(function(e){return(0,z.mG)(t,void 0,void 0,function(){return(0,z.Jh)(this,function(o){switch(o.label){case 0:return e?(i.Kr.sr(),[4,C_(i)]):[3,2];case 1:return o.sent(),[3,4];case 2:return[4,i.Kr.stop()];case 3:o.sent(),i.kr.length>0&&(ze("RemoteStore","Stopping write stream with "+i.kr.length+" pending writes"),i.kr=[]),o.label=4;case 4:return[2]}})})})),i.Kr}var lj=function(){function i(t,e,o,u,c){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=o,this.op=u,this.removalCallback=c,this.deferred=new oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(g){})}return i.createAndSchedule=function(t,e,o,u,c){var g=new i(t,e,Date.now()+o,u,c);return g.start(o),g},i.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},i.prototype.skipDelay=function(){return this.handleDelayElapsed()},i.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(Ae.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},i.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},i.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},i}();function w_(i,t){if(Xr("AsyncQueue",t+": "+i),Sp(i))return new Ue(Ae.UNAVAILABLE,t+": "+i);throw i}var tB=function(){function i(t){this.comparator=t?function(e,o){return t(e,o)||vt.comparator(e.key,o.key)}:function(e,o){return vt.comparator(e.key,o.key)},this.keyedMap=fk(),this.sortedSet=new ro(this.comparator)}return i.emptySet=function(t){return new i(t.comparator)},i.prototype.has=function(t){return null!=this.keyedMap.get(t)},i.prototype.get=function(t){return this.keyedMap.get(t)},i.prototype.first=function(){return this.sortedSet.minKey()},i.prototype.last=function(){return this.sortedSet.maxKey()},i.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},i.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(i.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,o){return t(e),!1})},i.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},i.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},i.prototype.isEqual=function(t){if(!(t instanceof i)||this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();e.hasNext();){var u=e.getNext().key,c=o.getNext().key;if(!u.isEqual(c))return!1}return!0},i.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},i.prototype.copy=function(t,e){var o=new i;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=e,o},i}(),nB=function(){function i(){this.Qr=new ro(vt.comparator)}return i.prototype.track=function(t){var e=t.doc.key,o=this.Qr.get(e);o?0!==t.type&&3===o.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==o.type?this.Qr=this.Qr.insert(e,{type:o.type,doc:t.doc}):2===t.type&&2===o.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===o.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===o.type?this.Qr=this.Qr.remove(e):1===t.type&&2===o.type?this.Qr=this.Qr.insert(e,{type:1,doc:o.doc}):0===t.type&&1===o.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):yt():this.Qr=this.Qr.insert(e,t)},i.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,o){t.push(o)}),t},i}(),BA=function(){function i(t,e,o,u,c,g,v,E){this.query=t,this.docs=e,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=c,this.fromCache=g,this.syncStateChanged=v,this.excludesMetadataChanges=E}return i.fromInitialDocuments=function(t,e,o,u){var c=[];return e.forEach(function(g){c.push({type:0,doc:g})}),new i(t,e,tB.emptySet(e),c,o,u,!0,!1)},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&GC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,o=t.docChanges;if(e.length!==o.length)return!1;for(var u=0;u<e.length;u++)if(e[u].type!==o[u].type||!e[u].doc.isEqual(o[u].doc))return!1;return!0},i}(),cj=function(){this.Wr=void 0,this.listeners=[]},hj=function(){this.queries=new y_(function(i){return IL(i)},GC),this.onlineState="Unknown",this.Gr=new Set};function Fk(i,t){return(0,z.mG)(this,void 0,void 0,function(){var e,o,u,c,g,v,E;return(0,z.Jh)(this,function(S){switch(S.label){case 0:if(e=Ze(i),u=!1,(c=e.queries.get(o=t.query))||(u=!0,c=new cj),!u)return[3,4];S.label=1;case 1:return S.trys.push([1,3,,4]),g=c,[4,e.onListen(o)];case 2:return g.Wr=S.sent(),[3,4];case 3:return v=S.sent(),E=w_(v,"Initialization of query '"+ck(t.query)+"' failed"),[2,void t.onError(E)];case 4:return e.queries.set(o,c),c.listeners.push(t),t.zr(e.onlineState),c.Wr&&t.Hr(c.Wr)&&Vk(e),[2]}})})}function Lk(i,t){return(0,z.mG)(this,void 0,void 0,function(){var e,o,u,c,g;return(0,z.Jh)(this,function(v){return e=Ze(i),u=!1,(c=e.queries.get(o=t.query))&&(g=c.listeners.indexOf(t))>=0&&(c.listeners.splice(g,1),u=0===c.listeners.length),u?[2,(e.queries.delete(o),e.onUnlisten(o))]:[2]})})}function dj(i,t){for(var e=Ze(i),o=!1,u=0,c=t;u<c.length;u++){var g=c[u],E=e.queries.get(g.query);if(E){for(var S=0,M=E.listeners;S<M.length;S++)M[S].Hr(g)&&(o=!0);E.Wr=g}}o&&Vk(e)}function fj(i,t,e){var o=Ze(i),u=o.queries.get(t);if(u)for(var c=0,g=u.listeners;c<g.length;c++)g[c].onError(e);o.queries.delete(t)}function Vk(i){i.Gr.forEach(function(t){t.next()})}var Bk=function(){function i(t,e,o){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=o||{}}return i.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],o=0,u=t.docChanges;o<u.length;o++){var c=u[o];3!==c.type&&e.push(c)}t=new BA(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var g=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),g=!0):this.eo(t,this.onlineState)&&(this.no(t),g=!0),this.Xr=t,g},i.prototype.onError=function(t){this.Jr.error(t)},i.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},i.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},i.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},i.prototype.no=function(t){t=BA.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},i}(),pj=function(){function i(t,e){this.payload=t,this.byteLength=e}return i.prototype.io=function(){return"metadata"in this.payload},i}(),rB=function(){function i(t){this.R=t}return i.prototype.qn=function(t){return ul(this.R,t)},i.prototype.Un=function(t){return t.metadata.exists?rV(this.R,t.document,!1):zi.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},i.prototype.Kn=function(t){return wi(t)},i}();!function(){function i(t,e,o){this.ro=t,this.localStore=e,this.R=o,this.queries=[],this.documents=[],this.progress=function(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}(t)}i.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},i.prototype.co=function(t){for(var e=new Map,o=new rB(this.R),u=0,c=t;u<c.length;u++){var g=c[u];if(g.metadata.queries)for(var v=o.qn(g.metadata.name),E=0,S=g.metadata.queries;E<S.length;E++){var M=S[E],k=(e.get(M)||Vn()).add(v);e.set(M,k)}}return e},i.prototype.complete=function(){return(0,z.mG)(this,void 0,void 0,function(){var t,e,o,u,c;return(0,z.Jh)(this,function(g){switch(g.label){case 0:return[4,F3(this.localStore,new rB(this.R),this.documents,this.ro.id)];case 1:t=g.sent(),e=this.co(this.documents),o=0,u=this.queries,g.label=2;case 2:return o<u.length?[4,L3(this.localStore,c=u[o],e.get(c.name))]:[3,5];case 3:g.sent(),g.label=4;case 4:return o++,[3,2];case 5:return[2,(this.progress.taskState="Success",new M3(Object.assign({},this.progress),t))]}})})}}();var oB=function(i){this.key=i},sB=function(i){this.key=i},aB=function(){function i(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Vn(),this.mutatedKeys=Vn(),this.lo=ML(t),this.fo=new tB(this.lo)}return Object.defineProperty(i.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),i.prototype._o=function(t,e){var o=this,u=e?e.mo:new nB,c=e?e.fo:this.fo,g=e?e.mutatedKeys:this.mutatedKeys,v=c,E=!1,S=bA(this.query)&&c.size===this.query.limit?c.last():null,M=CA(this.query)&&c.size===this.query.limit?c.first():null;if(t.inorderTraversal(function(F,j){var q=c.get(F),ee=zC(o.query,j)?j:null,ye=!!q&&o.mutatedKeys.has(q.key),Se=!!ee&&(ee.hasLocalMutations||o.mutatedKeys.has(ee.key)&&ee.hasCommittedMutations),Ne=!1;q&&ee?q.data.isEqual(ee.data)?ye!==Se&&(u.track({type:3,doc:ee}),Ne=!0):o.yo(q,ee)||(u.track({type:2,doc:ee}),Ne=!0,(S&&o.lo(ee,S)>0||M&&o.lo(ee,M)<0)&&(E=!0)):!q&&ee?(u.track({type:0,doc:ee}),Ne=!0):q&&!ee&&(u.track({type:1,doc:q}),Ne=!0,(S||M)&&(E=!0)),Ne&&(ee?(v=v.add(ee),g=Se?g.add(F):g.delete(F)):(v=v.delete(F),g=g.delete(F)))}),bA(this.query)||CA(this.query))for(;v.size>this.query.limit;){var k=bA(this.query)?v.last():v.first();v=v.delete(k.key),g=g.delete(k.key),u.track({type:1,doc:k})}return{fo:v,mo:u,Nn:E,mutatedKeys:g}},i.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},i.prototype.applyChanges=function(t,e,o){var u=this,c=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var g=t.mo.jr();g.sort(function(M,k){return j=k.type,(q=function(ee){switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}})(M.type)-q(j)||u.lo(M.doc,k.doc);var j,q}),this.po(o);var v=e?this.Eo():[],E=0===this.ho.size&&this.current?1:0,S=E!==this.ao;return this.ao=E,0!==g.length||S?{snapshot:new BA(this.query,t.fo,c,g,t.mutatedKeys,0===E,S,!1),To:v}:{To:v}},i.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new nB,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},i.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},i.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(o){return e.uo=e.uo.add(o)}),t.modifiedDocuments.forEach(function(o){}),t.removedDocuments.forEach(function(o){return e.uo=e.uo.delete(o)}),this.current=t.current)},i.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Vn(),this.fo.forEach(function(u){t.Io(u.key)&&(t.ho=t.ho.add(u.key))});var o=[];return e.forEach(function(u){t.ho.has(u)||o.push(new sB(u))}),this.ho.forEach(function(u){e.has(u)||o.push(new oB(u))}),o},i.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Vn();var e=this._o(t.documents);return this.applyChanges(e,!0)},i.prototype.Ro=function(){return BA.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},i}(),mj=function(i,t,e){this.query=i,this.targetId=t,this.view=e},yj=function(i){this.key=i,this.bo=!1},_j=function(){function i(t,e,o,u,c,g){this.localStore=t,this.remoteStore=e,this.eventManager=o,this.sharedClientState=u,this.currentUser=c,this.maxConcurrentLimboResolutions=g,this.vo={},this.Po=new y_(function(v){return IL(v)},GC),this.Vo=new Map,this.So=new Set,this.Do=new ro(vt.comparator),this.Co=new Map,this.No=new Sk,this.xo={},this.Fo=new Map,this.ko=OA.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(i.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),i}();function vj(i,t){return(0,z.mG)(this,void 0,void 0,function(){var e,u,c,g,v;return(0,z.Jh)(this,function(E){switch(E.label){case 0:return e=qk(i),(c=e.Po.get(t))?(e.sharedClientState.addLocalQueryTarget(c.targetId),u=c.view.Ro(),[3,4]):[3,1];case 1:return[4,__(e.localStore,ba(t))];case 2:return g=E.sent(),v=e.sharedClientState.addLocalQueryTarget(g.targetId),[4,Uk(e,t,g.targetId,"current"===v)];case 3:u=E.sent(),e.isPrimaryClient&&LA(e.remoteStore,g),E.label=4;case 4:return[2,u]}})})}function Uk(i,t,e,o){return(0,z.mG)(this,void 0,void 0,function(){var u,c,g,v,E,S;return(0,z.Jh)(this,function(M){switch(M.label){case 0:return i.Oo=function(k,F,j){return function(q,ee,ye,Se){return(0,z.mG)(this,void 0,void 0,function(){var Ne,je,tt;return(0,z.Jh)(this,function(nt){switch(nt.label){case 0:return(Ne=ee.view._o(ye)).Nn?[4,NA(q.localStore,ee.query,!1).then(function(Ht){return ee.view._o(Ht.documents,Ne)})]:[3,2];case 1:Ne=nt.sent(),nt.label=2;case 2:return je=Se&&Se.targetChanges.get(ee.targetId),tt=ee.view.applyChanges(Ne,q.isPrimaryClient,je),[2,(Gk(q,ee.targetId,tt.To),tt.snapshot)]}})})}(i,k,F,j)},[4,NA(i.localStore,t,!0)];case 1:return u=M.sent(),c=new aB(t,u.Bn),g=c._o(u.documents),v=gk.createSynthesizedTargetChangeForCurrentChange(e,o&&"Offline"!==i.onlineState),E=c.applyChanges(g,i.isPrimaryClient,v),Gk(i,e,E.To),S=new mj(t,e,c),[2,(i.Po.set(t,S),i.Vo.has(e)?i.Vo.get(e).push(t):i.Vo.set(e,[t]),E.snapshot)]}})})}function bj(i,t){return(0,z.mG)(this,void 0,void 0,function(){var e,o,u;return(0,z.Jh)(this,function(c){switch(c.label){case 0:return e=Ze(i),o=e.Po.get(t),(u=e.Vo.get(o.targetId)).length>1?[2,(e.Vo.set(o.targetId,u.filter(function(g){return!GC(g,t)})),void e.Po.delete(t))]:e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(o.targetId),e.sharedClientState.isActiveQueryTarget(o.targetId)?[3,2]:[4,v_(e.localStore,o.targetId,!1).then(function(){e.sharedClientState.clearQueryState(o.targetId),nE(e.remoteStore,o.targetId),D_(e,o.targetId)}).catch(Ip)]):[3,3];case 1:c.sent(),c.label=2;case 2:return[3,5];case 3:return D_(e,o.targetId),[4,v_(e.localStore,o.targetId,!0)];case 4:c.sent(),c.label=5;case 5:return[2]}})})}function Cj(i,t,e){return(0,z.mG)(this,void 0,void 0,function(){var o,u,c,g;return(0,z.Jh)(this,function(v){switch(v.label){case 0:o=$k(i),v.label=1;case 1:return v.trys.push([1,5,,6]),[4,(E=o.localStore,S=t,k=Ze(E),F=Ko.now(),j=S.reduce(function(q,ee){return q.add(ee.key)},Vn()),k.persistence.runTransaction("Locally write mutations","readwrite",function(q){return k.Mn.pn(q,j).next(function(ee){M=ee;for(var ye=[],Se=0,Ne=S;Se<Ne.length;Se++){var je=Ne[Se],tt=qU(je,M.get(je.key));null!=tt&&ye.push(new yd(je.key,tt,CL(tt.value.mapValue),no.exists(!0)))}return k._n.addMutationBatch(q,F,ye,S)})}).then(function(q){return q.applyToLocalDocumentSet(M),{batchId:q.batchId,changes:M}}))];case 2:return u=v.sent(),o.sharedClientState.addPendingMutation(u.batchId),function(E,S,M){var k=E.xo[E.currentUser.toKey()];k||(k=new ro(cn)),k=k.insert(S,M),E.xo[E.currentUser.toKey()]=k}(o,u.batchId,e),[4,Pc(o,u.changes)];case 3:return v.sent(),[4,C_(o.remoteStore)];case 4:return v.sent(),[3,6];case 5:return c=v.sent(),g=w_(c,"Failed to persist write"),e.reject(g),[3,6];case 6:return[2]}var E,S,M,k,F,j})})}function uB(i,t){return(0,z.mG)(this,void 0,void 0,function(){var e,o;return(0,z.Jh)(this,function(u){switch(u.label){case 0:e=Ze(i),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,k3(e.localStore,t)];case 2:return o=u.sent(),t.targetChanges.forEach(function(c,g){var v=e.Co.get(g);v&&(Ft(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?v.bo=!0:c.modifiedDocuments.size>0?Ft(v.bo):c.removedDocuments.size>0&&(Ft(v.bo),v.bo=!1))}),[4,Pc(e,o,t)];case 3:return u.sent(),[3,6];case 4:return[4,Ip(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function lB(i,t,e){var o=Ze(i);if(o.isPrimaryClient&&0===e||!o.isPrimaryClient&&1===e){var u=[];o.Po.forEach(function(c,g){var v=g.view.zr(t);v.snapshot&&u.push(v.snapshot)}),function(c,g){var v=Ze(c);v.onlineState=g;var E=!1;v.queries.forEach(function(S,M){for(var k=0,F=M.listeners;k<F.length;k++)F[k].zr(g)&&(E=!0)}),E&&Vk(v)}(o.eventManager,t),u.length&&o.vo._r(u),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}function Ej(i,t,e){return(0,z.mG)(this,void 0,void 0,function(){var o,u,c,g,v,E;return(0,z.Jh)(this,function(S){switch(S.label){case 0:return(o=Ze(i)).sharedClientState.updateQueryState(t,"rejected",e),u=o.Co.get(t),(c=u&&u.key)?(g=(g=new ro(vt.comparator)).insert(c,zi.newNoDocument(c,rn.min())),v=Vn().add(c),E=new pk(rn.min(),new Map,new hi(cn),g,v),[4,uB(o,E)]):[3,2];case 1:return S.sent(),o.Do=o.Do.remove(c),o.Co.delete(t),zk(o),[3,4];case 2:return[4,v_(o.localStore,t,!1).then(function(){return D_(o,t,e)}).catch(Ip)];case 3:S.sent(),S.label=4;case 4:return[2]}})})}function wj(i,t){return(0,z.mG)(this,void 0,void 0,function(){var e,o,u;return(0,z.Jh)(this,function(c){switch(c.label){case 0:e=Ze(i),o=t.batch.batchId,c.label=1;case 1:return c.trys.push([1,4,,6]),[4,R3(e.localStore,t)];case 2:return u=c.sent(),Hk(e,o,null),jk(e,o),e.sharedClientState.updateMutationState(o,"acknowledged"),[4,Pc(e,u)];case 3:return c.sent(),[3,6];case 4:return[4,Ip(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}})})}function Dj(i,t,e){return(0,z.mG)(this,void 0,void 0,function(){var o,u;return(0,z.Jh)(this,function(c){switch(c.label){case 0:o=Ze(i),c.label=1;case 1:return c.trys.push([1,4,,6]),[4,(g=o.localStore,v=t,E=Ze(g),E.persistence.runTransaction("Reject batch","readwrite-primary",function(S){var M;return E._n.lookupMutationBatch(S,v).next(function(k){return Ft(null!==k),M=k.keys(),E._n.removeMutationBatch(S,k)}).next(function(){return E._n.performConsistencyCheck(S)}).next(function(){return E.Mn.pn(S,M)})}))];case 2:return u=c.sent(),Hk(o,t,e),jk(o,t),o.sharedClientState.updateMutationState(t,"rejected",e),[4,Pc(o,u)];case 3:return c.sent(),[3,6];case 4:return[4,Ip(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}var g,v,E})})}function Tj(i,t){return(0,z.mG)(this,void 0,void 0,function(){var e,o,u,c,g;return(0,z.Jh)(this,function(v){switch(v.label){case 0:wd((e=Ze(i)).remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,(E=e.localStore,S=Ze(E),S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(M){return S._n.getHighestUnacknowledgedBatchId(M)}))];case 2:return-1===(o=v.sent())?[2,void t.resolve()]:((u=e.Fo.get(o)||[]).push(t),e.Fo.set(o,u),[3,4]);case 3:return c=v.sent(),g=w_(c,"Initialization of waitForPendingWrites() operation failed"),t.reject(g),[3,4];case 4:return[2]}var E,S})})}function jk(i,t){(i.Fo.get(t)||[]).forEach(function(e){e.resolve()}),i.Fo.delete(t)}function Hk(i,t,e){var o=Ze(i),u=o.xo[o.currentUser.toKey()];if(u){var c=u.get(t);c&&(e?c.reject(e):c.resolve(),u=u.remove(t)),o.xo[o.currentUser.toKey()]=u}}function D_(i,t,e){void 0===e&&(e=null),i.sharedClientState.removeLocalQueryTarget(t);for(var o=0,u=i.Vo.get(t);o<u.length;o++){var c=u[o];i.Po.delete(c),e&&i.vo.Mo(c,e)}i.Vo.delete(t),i.isPrimaryClient&&i.No.Zn(t).forEach(function(g){i.No.containsKey(g)||cB(i,g)})}function cB(i,t){i.So.delete(t.path.canonicalString());var e=i.Do.get(t);null!==e&&(nE(i.remoteStore,e),i.Do=i.Do.remove(t),i.Co.delete(e),zk(i))}function Gk(i,t,e){for(var o=0,u=e;o<u.length;o++){var c=u[o];c instanceof oB?(i.No.addReference(c.key,t),Sj(i,c)):c instanceof sB?(ze("SyncEngine","Document no longer in limbo: "+c.key),i.No.removeReference(c.key,t),i.No.containsKey(c.key)||cB(i,c.key)):yt()}}function Sj(i,t){var e=t.key,o=e.path.canonicalString();i.Do.get(e)||i.So.has(o)||(ze("SyncEngine","New document in limbo: "+e),i.So.add(o),zk(i))}function zk(i){for(;i.So.size>0&&i.Do.size<i.maxConcurrentLimboResolutions;){var t=i.So.values().next().value;i.So.delete(t);var e=new vt(Sn.fromString(t)),o=i.ko.next();i.Co.set(o,new yj(e)),i.Do=i.Do.insert(e,o),LA(i.remoteStore,new MA(ba(r_(e.path)),o,2,Ts.o))}}function Pc(i,t,e){return(0,z.mG)(this,void 0,void 0,function(){var o,u,c,g;return(0,z.Jh)(this,function(v){switch(v.label){case 0:return o=Ze(i),u=[],c=[],g=[],o.Po.isEmpty()?[3,3]:(o.Po.forEach(function(E,S){g.push(o.Oo(S,t,e).then(function(M){if(M){o.isPrimaryClient&&o.sharedClientState.updateQueryState(S.targetId,M.fromCache?"not-current":"current"),u.push(M);var k=x3.Pn(S.targetId,M);c.push(k)}}))}),[4,Promise.all(g)]);case 1:return v.sent(),o.vo._r(u),[4,function(E,S){return(0,z.mG)(this,void 0,void 0,function(){var M,k,F,j,q,ee,ye,Ne;return(0,z.Jh)(this,function(je){switch(je.label){case 0:M=Ze(E),je.label=1;case 1:return je.trys.push([1,3,,4]),[4,M.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(tt){return Ge.forEach(S,function(nt){return Ge.forEach(nt.bn,function(Ht){return M.persistence.referenceDelegate.addReference(tt,nt.targetId,Ht)}).next(function(){return Ge.forEach(nt.vn,function(Ht){return M.persistence.referenceDelegate.removeReference(tt,nt.targetId,Ht)})})})})];case 2:return je.sent(),[3,4];case 3:if(!Sp(k=je.sent()))throw k;return ze("LocalStore","Failed to update sequence numbers: "+k),[3,4];case 4:for(F=0,j=S;F<j.length;F++)ee=(q=j[F]).targetId,q.fromCache||(ye=M.Fn.get(ee),Ne=ye.withLastLimboFreeSnapshotVersion(ye.snapshotVersion),M.Fn=M.Fn.insert(ee,Ne));return[2]}})})}(o.localStore,c)];case 2:v.sent(),v.label=3;case 3:return[2]}})})}function Aj(i,t){return(0,z.mG)(this,void 0,void 0,function(){var e,o;return(0,z.Jh)(this,function(u){switch(u.label){case 0:return(e=Ze(i)).currentUser.isEqual(t)?[3,3]:(ze("SyncEngine","User change. New user:",t.toKey()),[4,LV(e.localStore,t)]);case 1:return o=u.sent(),e.currentUser=t,(c=e).Fo.forEach(function(v){v.forEach(function(E){E.reject(new Ue(Ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Fo.clear(),e.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),[4,Pc(e,o.Ln)];case 2:u.sent(),u.label=3;case 3:return[2]}var c})})}function Ij(i,t){var e=Ze(i),o=e.Co.get(t);if(o&&o.bo)return Vn().add(o.key);var u=Vn(),c=e.Vo.get(t);if(!c)return u;for(var g=0,v=c;g<v.length;g++){var S=e.Po.get(v[g]);u=u.unionWith(S.view.wo)}return u}function Mj(i,t){return(0,z.mG)(this,void 0,void 0,function(){var e,o,u;return(0,z.Jh)(this,function(c){switch(c.label){case 0:return[4,NA((e=Ze(i)).localStore,t.query,!0)];case 1:return o=c.sent(),u=t.view.Ao(o),[2,(e.isPrimaryClient&&Gk(e,t.targetId,u.To),u)]}})})}function xj(i){return(0,z.mG)(this,void 0,void 0,function(){var t;return(0,z.Jh)(this,function(e){return[2,jV((t=Ze(i)).localStore).then(function(o){return Pc(t,o)})]})})}function Oj(i,t,e,o){return(0,z.mG)(this,void 0,void 0,function(){var u,c;return(0,z.Jh)(this,function(g){switch(g.label){case 0:return[4,(v=(u=Ze(i)).localStore,E=t,S=Ze(v),M=Ze(S._n),S.persistence.runTransaction("Lookup mutation documents","readonly",function(k){return M.jt(k,E).next(function(F){return F?S.Mn.pn(k,F):Ge.resolve(null)})}))];case 1:return null===(c=g.sent())?[3,6]:"pending"!==e?[3,3]:[4,C_(u.remoteStore)];case 2:return g.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(Hk(u,t,o||null),jk(u,t),function(v,E){Ze(Ze(v)._n).Gt(E)}(u.localStore,t)):yt(),g.label=4;case 4:return[4,Pc(u,c)];case 5:return g.sent(),[3,7];case 6:ze("SyncEngine","Cannot apply mutation batch with id: "+t),g.label=7;case 7:return[2]}var v,E,S,M})})}function Rj(i,t){return(0,z.mG)(this,void 0,void 0,function(){var e,o,u,c,g,E,S;return(0,z.Jh)(this,function(M){switch(M.label){case 0:return qk(e=Ze(i)),$k(e),!0!==t||!0===e.$o?[3,3]:(o=e.sharedClientState.getAllActiveQueryTargets(),[4,hB(e,o.toArray())]);case 1:return u=M.sent(),e.$o=!0,[4,Nk(e.remoteStore,!0)];case 2:for(M.sent(),c=0,g=u;c<g.length;c++)LA(e.remoteStore,g[c]);return[3,7];case 3:return!1!==t||!1===e.$o?[3,7]:(E=[],S=Promise.resolve(),e.Vo.forEach(function(k,F){e.sharedClientState.isLocalQueryTarget(F)?E.push(F):S=S.then(function(){return D_(e,F),v_(e.localStore,F,!0)}),nE(e.remoteStore,F)}),[4,S]);case 4:return M.sent(),[4,hB(e,E)];case 5:return M.sent(),(F=Ze(e)).Co.forEach(function(j,q){nE(F.remoteStore,q)}),F.No.ts(),F.Co=new Map,F.Do=new ro(vt.comparator),e.$o=!1,[4,Nk(e.remoteStore,!1)];case 6:M.sent(),M.label=7;case 7:return[2]}var F})})}function hB(i,t,e){return(0,z.mG)(this,void 0,void 0,function(){var o,u,c,g,v,E,S,M,k,F,q,ee,ye;return(0,z.Jh)(this,function(Se){switch(Se.label){case 0:o=Ze(i),u=[],c=[],g=0,v=t,Se.label=1;case 1:return g<v.length?(S=void 0,(M=o.Vo.get(E=v[g]))&&0!==M.length?[4,__(o.localStore,ba(M[0]))]:[3,7]):[3,13];case 2:S=Se.sent(),k=0,F=M,Se.label=3;case 3:return k<F.length?(q=o.Po.get(F[k]),[4,Mj(o,q)]):[3,6];case 4:(ee=Se.sent()).snapshot&&c.push(ee.snapshot),Se.label=5;case 5:return k++,[3,3];case 6:return[3,11];case 7:return[4,UV(o.localStore,E)];case 8:return ye=Se.sent(),[4,__(o.localStore,ye)];case 9:return S=Se.sent(),[4,Uk(o,dB(ye),E,!1)];case 10:Se.sent(),Se.label=11;case 11:u.push(S),Se.label=12;case 12:return g++,[3,1];case 13:return[2,(o.vo._r(c),u)]}})})}function dB(i){return SL(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function kj(i){var t=Ze(i);return Ze(Ze(t.localStore).persistence).fn()}function Pj(i,t,e,o){return(0,z.mG)(this,void 0,void 0,function(){var u,c,g;return(0,z.Jh)(this,function(v){switch(v.label){case 0:return(u=Ze(i)).$o?(ze("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!u.Vo.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,jV(u.localStore)];case 3:return c=v.sent(),g=pk.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,Pc(u,c,g)];case 4:return v.sent(),[3,8];case 5:return[4,v_(u.localStore,t,!0)];case 6:return v.sent(),D_(u,t,o),[3,8];case 7:yt(),v.label=8;case 8:return[2]}})})}function Nj(i,t,e){return(0,z.mG)(this,void 0,void 0,function(){var o,u,c,g,v,E,S,M,k;return(0,z.Jh)(this,function(j){switch(j.label){case 0:if(!(o=qk(i)).$o)return[3,10];u=0,c=t,j.label=1;case 1:return u<c.length?o.Vo.has(g=c[u])?(ze("SyncEngine","Adding an already active target "+g),[3,5]):[4,UV(o.localStore,g)]:[3,6];case 2:return v=j.sent(),[4,__(o.localStore,v)];case 3:return E=j.sent(),[4,Uk(o,dB(v),E.targetId,!1)];case 4:j.sent(),LA(o.remoteStore,E),j.label=5;case 5:return u++,[3,1];case 6:S=function(q){return(0,z.Jh)(this,function(ee){switch(ee.label){case 0:return o.Vo.has(q)?[4,v_(o.localStore,q,!1).then(function(){nE(o.remoteStore,q),D_(o,q)}).catch(Ip)]:[3,2];case 1:ee.sent(),ee.label=2;case 2:return[2]}})},M=0,k=e,j.label=7;case 7:return M<k.length?[5,S(k[M])]:[3,10];case 8:j.sent(),j.label=9;case 9:return M++,[3,7];case 10:return[2]}})})}function qk(i){var t=Ze(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=uB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ij.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ej.bind(null,t),t.vo._r=dj.bind(null,t.eventManager),t.vo.Mo=fj.bind(null,t.eventManager),t}function $k(i){var t=Ze(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dj.bind(null,t),t}var fB=function(){function i(){this.synchronizeTabs=!1}return i.prototype.initialize=function(t){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(e){switch(e.label){case 0:return this.R=eE(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},i.prototype.Uo=function(t){return null},i.prototype.Ko=function(t){return FV(this.persistence,new NV,t.initialUser,this.R)},i.prototype.qo=function(t){return new G3(q3.bs,this.R)},i.prototype.Bo=function(t){return new $V},i.prototype.terminate=function(){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},i}(),pB=function(i){function t(e,o,u){var c=this;return(c=i.call(this)||this).Qo=e,c.cacheSizeBytes=o,c.forceOwnership=u,c.synchronizeTabs=!1,c}return(0,z.ZT)(t,i),t.prototype.initialize=function(e){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(o){switch(o.label){case 0:return[4,i.prototype.initialize.call(this,e)];case 1:return o.sent(),[4,N3(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,e)];case 3:return o.sent(),[4,$k(this.Qo.syncEngine)];case 4:return o.sent(),[4,C_(this.Qo.remoteStore)];case 5:return o.sent(),[2]}})})},t.prototype.Ko=function(e){return FV(this.persistence,new NV,e.initialUser,this.R)},t.prototype.Uo=function(e){return new E3(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var o=Tk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?cl.withCacheSize(this.cacheSizeBytes):cl.DEFAULT;return new I3(this.synchronizeTabs,o,e.clientId,u,e.asyncQueue,YV(),FA(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new $V},t}(fB),Lj=function(i){function t(e,o){var u=this;return(u=i.call(this,e,o,!1)||this).Qo=e,u.cacheSizeBytes=o,u.synchronizeTabs=!0,u}return(0,z.ZT)(t,i),t.prototype.initialize=function(e){return(0,z.mG)(this,void 0,void 0,function(){var o,u=this;return(0,z.Jh)(this,function(c){switch(c.label){case 0:return[4,i.prototype.initialize.call(this,e)];case 1:return c.sent(),o=this.Qo.syncEngine,this.sharedClientState instanceof xk?(this.sharedClientState.syncEngine={ui:Oj.bind(null,o),ai:Pj.bind(null,o),hi:Nj.bind(null,o),fn:kj.bind(null,o),ci:xj.bind(null,o)},[4,this.sharedClientState.start()]):[3,3];case 2:c.sent(),c.label=3;case 3:return[4,this.persistence.He(function(g){return(0,z.mG)(u,void 0,void 0,function(){return(0,z.Jh)(this,function(v){switch(v.label){case 0:return[4,Rj(this.Qo.syncEngine,g)];case 1:return v.sent(),this.gcScheduler&&(g&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):g||this.gcScheduler.stop()),[2]}})})})];case 4:return c.sent(),[2]}})})},t.prototype.Bo=function(e){var o=YV();if(!xk.yt(o))throw new Ue(Ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var u=Tk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xk(o,e.asyncQueue,u,e.clientId,e.initialUser)},t}(pB),Wk=function(){function i(){}return i.prototype.initialize=function(t,e){return(0,z.mG)(this,void 0,void 0,function(){var o=this;return(0,z.Jh)(this,function(u){switch(u.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(c){return lB(o.syncEngine,c,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Aj.bind(null,this.syncEngine),[4,Nk(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:u.sent(),u.label=2;case 2:return[2]}})})},i.prototype.createEventManager=function(t){return new hj},i.prototype.createDatastore=function(t){var o=eE(t.databaseInfo.databaseId),u=new Q3(t.databaseInfo);return new X3(t.credentials,u,o)},i.prototype.createRemoteStore=function(t){var e,o,u,c,g,v=this;return e=this.localStore,o=this.datastore,u=t.asyncQueue,c=function(E){return lB(v.syncEngine,E,0)},g=WV.yt()?new WV:new W3,new tj(e,o,u,c,g)},i.prototype.createSyncEngine=function(t,e){return S=e,M=new _j(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions),S&&(M.$o=!0),M;var S,M},i.prototype.terminate=function(){return function(t){return(0,z.mG)(this,void 0,void 0,function(){var e;return(0,z.Jh)(this,function(o){switch(o.label){case 0:return e=Ze(t),ze("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,b_(e)];case 1:return o.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},i}(),UA=function(){function i(t){this.observer=t,this.muted=!1}return i.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},i.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},i.prototype.Wo=function(){this.muted=!0},i.prototype.jo=function(t,e){var o=this;this.muted||setTimeout(function(){o.muted||t(e)},0)},i}(),Bj=(function(){function i(t,e){var o=this;this.Go=t,this.R=e,this.metadata=new oo,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(u){u&&u.io()?o.metadata.resolve(u.payload.metadata):o.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==u?void 0:u.payload)))},function(u){return o.metadata.reject(u)})}i.prototype.close=function(){return this.Go.cancel()},i.prototype.getMetadata=function(){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(t){return[2,this.metadata.promise]})})},i.prototype.Lo=function(){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},i.prototype.Ho=function(){return(0,z.mG)(this,void 0,void 0,function(){var t,e,o,u;return(0,z.Jh)(this,function(c){switch(c.label){case 0:return[4,this.Jo()];case 1:return null===(t=c.sent())?[2,null]:(e=this.zo.decode(t),o=Number(e),isNaN(o)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(o)]);case 2:return u=c.sent(),[2,new pj(JSON.parse(u),t.length+o)]}})})},i.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},i.prototype.Jo=function(){return(0,z.mG)(this,void 0,void 0,function(){var t,e;return(0,z.Jh)(this,function(o){switch(o.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(o.sent())return[3,3];o.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},i.prototype.Xo=function(t){return(0,z.mG)(this,void 0,void 0,function(){var e;return(0,z.Jh)(this,function(o){switch(o.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:o.sent()&&this.Yo("Reached the end of bundle when more is expected."),o.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},i.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},i.prototype.tc=function(){return(0,z.mG)(this,void 0,void 0,function(){var t,e;return(0,z.Jh)(this,function(o){switch(o.label){case 0:return[4,this.Go.read()];case 1:return(t=o.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function i(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return i.prototype.lookup=function(t){return(0,z.mG)(this,void 0,void 0,function(){var e,o=this;return(0,z.Jh)(this,function(u){switch(u.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ue(Ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(c,g){return(0,z.mG)(this,void 0,void 0,function(){var v,E,S,M,k,F;return(0,z.Jh)(this,function(j){switch(j.label){case 0:return v=Ze(c),E=QC(v.R)+"/documents",S={documents:g.map(function(q){return KC(v.R,q)})},[4,v.$i("BatchGetDocuments",E,S)];case 1:return M=j.sent(),k=new Map,M.forEach(function(q){var ye,Se,ee=(ye=v.R,"found"in(Se=q)?function(Ne,je){Ft(!!je.found);var tt=ul(Ne,je.found.name),nt=wi(je.found.updateTime),Ht=new Ss({mapValue:{fields:je.found.fields}});return zi.newFoundDocument(tt,nt,Ht)}(ye,Se):"missing"in Se?function(Ne,je){Ft(!!je.missing),Ft(!!je.readTime);var tt=ul(Ne,je.missing),nt=wi(je.readTime);return zi.newNoDocument(tt,nt)}(ye,Se):yt());k.set(ee.key.toString(),ee)}),F=[],[2,(g.forEach(function(q){var ee=k.get(q.toString());Ft(!!ee),F.push(ee)}),F)]}})})}(this.datastore,t)];case 1:return[2,((e=u.sent()).forEach(function(c){return o.recordVersion(c)}),e)]}})})},i.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},i.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(t.toString())},i.prototype.delete=function(t){this.write(new WC(t,this.precondition(t))),this.writtenDocs.add(t.toString())},i.prototype.commit=function(){return(0,z.mG)(this,void 0,void 0,function(){var t,e=this;return(0,z.Jh)(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(u){t.delete(u.key.toString())}),t.forEach(function(u,c){var g=vt.fromPath(c);e.mutations.push(new dk(g,e.precondition(g)))}),[4,function(u,c){return(0,z.mG)(this,void 0,void 0,function(){var g,v,E;return(0,z.Jh)(this,function(S){switch(S.label){case 0:return g=Ze(u),v=QC(g.R)+"/documents",E={writes:c.map(function(M){return IA(g.R,M)})},[4,g.Ni("Commit",v,E)];case 1:return S.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return o.sent(),this.committed=!0,[2]}})})},i.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw yt();e=rn.min()}var o=this.readVersions.get(t.key.toString());if(o){if(!e.isEqual(o))throw new Ue(Ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},i.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?no.updateTime(e):no.none()},i.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(rn.min()))throw new Ue(Ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return no.updateTime(e)}return no.exists(!0)},i.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},i.prototype.ensureCommitNotCalled=function(){},i}()),Uj=function(){function i(t,e,o,u){this.asyncQueue=t,this.datastore=e,this.updateFunction=o,this.deferred=u,this.ec=5,this.Zi=new Ok(this.asyncQueue,"transaction_retry")}return i.prototype.run=function(){this.ec-=1,this.nc()},i.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,z.mG)(t,void 0,void 0,function(){var e,o,u=this;return(0,z.Jh)(this,function(c){return e=new Bj(this.datastore),(o=this.sc(e))&&o.then(function(g){u.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){u.deferred.resolve(g)}).catch(function(v){u.ic(v)})})}).catch(function(g){u.ic(g)}),[2]})})})},i.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Cp(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}},i.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},i.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!GL(e)}return!1},i}(),jj=function(){function i(t,e,o){var u=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=o,this.user=Jo.UNAUTHENTICATED,this.clientId=hL.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(c){return(0,z.mG)(u,void 0,void 0,function(){return(0,z.Jh)(this,function(g){switch(g.label){case 0:return ze("FirestoreClient","Received user=",c.uid),[4,this.credentialListener(c)];case 1:return g.sent(),this.user=c,[2]}})})})}return i.prototype.getConfiguration=function(){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},i.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},i.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ue(Ae.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,z.mG)(t,void 0,void 0,function(){var o,u;return(0,z.Jh)(this,function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:c.sent(),c.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:c.sent(),c.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return o=c.sent(),u=w_(o,"Failed to shutdown persistence"),e.reject(u),[3,6];case 6:return[2]}})})}),e.promise},i}();function mB(i,t){return(0,z.mG)(this,void 0,void 0,function(){var e,o,u=this;return(0,z.Jh)(this,function(c){switch(c.label){case 0:return i.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider"),[4,i.getConfiguration()];case 1:return e=c.sent(),[4,t.initialize(e)];case 2:return c.sent(),o=e.initialUser,i.setCredentialChangeListener(function(g){return(0,z.mG)(u,void 0,void 0,function(){return(0,z.Jh)(this,function(v){switch(v.label){case 0:return o.isEqual(g)?[3,2]:[4,LV(t.localStore,g)];case 1:v.sent(),o=g,v.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return i.terminate()}),i.offlineComponents=t,[2]}})})}function yB(i,t){return(0,z.mG)(this,void 0,void 0,function(){var e,o;return(0,z.Jh)(this,function(u){switch(u.label){case 0:return i.asyncQueue.verifyOperationInProgress(),[4,Yk(i)];case 1:return e=u.sent(),ze("FirestoreClient","Initializing OnlineComponentProvider"),[4,i.getConfiguration()];case 2:return o=u.sent(),[4,t.initialize(e,o)];case 3:return u.sent(),i.setCredentialChangeListener(function(c){return function(g,v){return(0,z.mG)(this,void 0,void 0,function(){var E,S;return(0,z.Jh)(this,function(M){switch(M.label){case 0:return(E=Ze(g)).asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials"),S=wd(E),E.Or.add(3),[4,b_(E)];case 1:return M.sent(),S&&E.Br.set("Unknown"),[4,E.remoteSyncer.handleCredentialChange(v)];case 2:return M.sent(),E.Or.delete(3),[4,tE(E)];case 3:return M.sent(),[2]}})})}(t.remoteStore,c)}),i.onlineComponents=t,[2]}})})}function Yk(i){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(t){switch(t.label){case 0:return i.offlineComponents?[3,2]:(ze("FirestoreClient","Using default OfflineComponentProvider"),[4,mB(i,new fB)]);case 1:t.sent(),t.label=2;case 2:return[2,i.offlineComponents]}})})}function jA(i){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(t){switch(t.label){case 0:return i.onlineComponents?[3,2]:(ze("FirestoreClient","Using default OnlineComponentProvider"),[4,yB(i,new Wk)]);case 1:t.sent(),t.label=2;case 2:return[2,i.onlineComponents]}})})}function _B(i){return Yk(i).then(function(t){return t.persistence})}function Kk(i){return Yk(i).then(function(t){return t.localStore})}function vB(i){return jA(i).then(function(t){return t.remoteStore})}function Qk(i){return jA(i).then(function(t){return t.syncEngine})}function T_(i){return(0,z.mG)(this,void 0,void 0,function(){var t,e;return(0,z.Jh)(this,function(o){switch(o.label){case 0:return[4,jA(i)];case 1:return t=o.sent(),[2,((e=t.eventManager).onListen=vj.bind(null,t.syncEngine),e.onUnlisten=bj.bind(null,t.syncEngine),e)]}})})}function bB(i,t,e){var o=this;void 0===e&&(e={});var u=new oo;return i.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(o,void 0,void 0,function(){var c;return(0,z.Jh)(this,function(g){switch(g.label){case 0:return c=function(v,E,S,M,k){var F=new UA({next:function(q){E.enqueueAndForget(function(){return Lk(v,j)});var ee=q.docs.has(S);!ee&&q.fromCache?k.reject(new Ue(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):ee&&q.fromCache&&M&&"server"===M.source?k.reject(new Ue(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):k.resolve(q)},error:function(q){return k.reject(q)}}),j=new Bk(r_(S.path),F,{includeMetadataChanges:!0,so:!0});return Fk(v,j)},[4,T_(i)];case 1:return[2,c.apply(void 0,[g.sent(),i.asyncQueue,t,e,u])]}})})}),u.promise}function CB(i,t,e){var o=this;void 0===e&&(e={});var u=new oo;return i.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(o,void 0,void 0,function(){var c;return(0,z.Jh)(this,function(g){switch(g.label){case 0:return c=function(v,E,S,M,k){var F=new UA({next:function(q){E.enqueueAndForget(function(){return Lk(v,j)}),q.fromCache&&"server"===M.source?k.reject(new Ue(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):k.resolve(q)},error:function(q){return k.reject(q)}}),j=new Bk(S,F,{includeMetadataChanges:!0,so:!0});return Fk(v,j)},[4,T_(i)];case 1:return[2,c.apply(void 0,[g.sent(),i.asyncQueue,t,e,u])]}})})}),u.promise}var Hj=function(i,t,e,o,u,c,g,v){this.databaseId=i,this.appId=t,this.persistenceKey=e,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.useFetchStreams=v},HA=function(){function i(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(i.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database},i}(),EB=new Map,wB=function(i,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+i},DB=function(){function i(){this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(null)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Jo.UNAUTHENTICATED)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),Gj=function(){function i(t){this.token=t,this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(this.token)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(t,e){var o=this;this.changeListener=e,t.enqueueRetryable(function(){return e(o.token.user)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),zj=function(){function i(t){var e=this;this.currentUser=Jo.UNAUTHENTICATED,this.oc=new oo,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var o=function(u){ze("FirebaseCredentialsProvider","Auth detected"),e.auth=u,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(u){return o(u)}),setTimeout(function(){if(!e.auth){var u=t.getImmediate({optional:!0});u?o(u):(ze("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return i.prototype.getToken=function(){var t=this,e=this.cc,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(function(u){return t.cc!==e?(ze("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):u?(Ft("string"==typeof u.accessToken),new wB(u.accessToken,t.currentUser)):null}):Promise.resolve(null)},i.prototype.invalidateToken=function(){this.forceRefresh=!0},i.prototype.setChangeListener=function(t,e){var o=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,z.mG)(o,void 0,void 0,function(){return(0,z.Jh)(this,function(u){switch(u.label){case 0:return[4,this.oc.promise];case 1:return u.sent(),[4,e(this.currentUser)];case 2:return u.sent(),this.changeListener=e,[2]}})})})},i.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},i.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Ft(null===t||"string"==typeof t),new Jo(t)},i}(),qj=function(){function i(t,e,o){this.hc=t,this.lc=e,this.fc=o,this.type="FirstParty",this.user=Jo.FIRST_PARTY}return Object.defineProperty(i.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),i}(),$j=function(){function i(t,e,o){this.hc=t,this.lc=e,this.fc=o}return i.prototype.getToken=function(){return Promise.resolve(new qj(this.hc,this.lc,this.fc))},i.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Jo.FIRST_PARTY)})},i.prototype.removeChangeListener=function(){},i.prototype.invalidateToken=function(){},i}();function Zk(i,t,e){if(!e)throw new Ue(Ae.INVALID_ARGUMENT,"Function "+i+"() cannot be called with an empty "+t+".")}function Jk(i,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ue(Ae.INVALID_ARGUMENT,"Invalid options passed to function "+i+'(): You cannot specify both "merge" and "mergeFields".');return t}function TB(i,t,e,o){if(!0===t&&!0===o)throw new Ue(Ae.INVALID_ARGUMENT,i+" and "+e+" cannot be used together.")}function SB(i){if(!vt.isDocumentKey(i))throw new Ue(Ae.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i+" has "+i.length+".")}function AB(i){if(vt.isDocumentKey(i))throw new Ue(Ae.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+i+" has "+i.length+".")}function GA(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=i.substring(0,20)+"..."),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";var t=function(e){if(e.constructor){var o=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(o&&o.length>1)return o[1]}return null}(i);return t?"a custom "+t+" object":"an object"}return"function"==typeof i?"a function":yt()}function An(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Ue(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var e=GA(i);throw new Ue(Ae.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+e)}return i}function IB(i,t){if(t<=0)throw new Ue(Ae.INVALID_ARGUMENT,"Function "+i+"() requires a positive number, but it was: "+t+".")}var MB=function(){function i(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ue(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ue(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,TB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return i.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},i}(),rE=function(){function i(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MB({}),this._settingsFrozen=!1,t instanceof HA?(this._databaseId=t,this._credentials=new DB):(this._app=t,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ue(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new HA(o.options.projectId)}(t),this._credentials=new zj(e))}return Object.defineProperty(i.prototype,"app",{get:function(){if(!this._app)throw new Ue(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),i.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ue(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MB(t),void 0!==t.credentials&&(this._credentials=function(e){if(!e)return new DB;switch(e.type){case"gapi":var o=e.client;return Ft(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new $j(o,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ue(Ae.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},i.prototype._getSettings=function(){return this._settings},i.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},i.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},i.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},i.prototype._terminate=function(){return(e=EB.get(this))&&(ze("ComponentProvider","Removing Datastore"),EB.delete(this),e.terminate()),Promise.resolve();var e},i}(),Dr=function(){function i(t,e,o){this.converter=e,this._key=o,this.type="document",this.firestore=t}return Object.defineProperty(i.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new Td(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(t){return new i(this.firestore,t,this._key)},i}(),Xo=function(){function i(t,e,o){this.converter=e,this._query=o,this.type="query",this.firestore=t}return i.prototype.withConverter=function(t){return new i(this.firestore,t,this._query)},i}(),Td=function(i){function t(e,o,u){var c=this;return(c=i.call(this,e,o,r_(u))||this)._path=u,c.type="collection",c}return(0,z.ZT)(t,i),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Dr(this.firestore,null,new vt(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Xo);function xB(i,t){for(var e,o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];if(i=(0,bn.m9)(i),Zk("collection","path",t),i instanceof rE)return AB(e=Sn.fromString.apply(Sn,(0,z.ev)([t],o))),new Td(i,null,e);if(!(i instanceof Dr||i instanceof Td))throw new Ue(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return AB(e=Sn.fromString.apply(Sn,(0,z.ev)([i.path],o)).child(Sn.fromString(t))),new Td(i.firestore,null,e)}function zA(i,t){for(var e,o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];if(i=(0,bn.m9)(i),1===arguments.length&&(t=hL.u()),Zk("doc","path",t),i instanceof rE)return SB(e=Sn.fromString.apply(Sn,(0,z.ev)([t],o))),new Dr(i,null,new vt(e));if(!(i instanceof Dr||i instanceof Td))throw new Ue(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return SB(e=i._path.child(Sn.fromString.apply(Sn,(0,z.ev)([t],o)))),new Dr(i.firestore,i instanceof Td?i.converter:null,new vt(e))}function OB(i,t){return i=(0,bn.m9)(i),t=(0,bn.m9)(t),(i instanceof Dr||i instanceof Td)&&(t instanceof Dr||t instanceof Td)&&i.firestore===t.firestore&&i.path===t.path&&i.converter===t.converter}function RB(i,t){return i=(0,bn.m9)(i),t=(0,bn.m9)(t),i instanceof Xo&&t instanceof Xo&&i.firestore===t.firestore&&GC(i._query,t._query)&&i.converter===t.converter}var Wj=function(){function i(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Ok(this,"async_queue_retry"),this.Ic=function(){var o=FA();o&&ze("AsyncQueue","Visibility state changed to "+o.visibilityState),t.Zi.Gi()};var e=FA();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(i.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),i.prototype.enqueueAndForget=function(t){this.enqueue(t)},i.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},i.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=FA();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},i.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var o=new oo;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(o.resolve,o.reject),o.promise)}).then(function(){return o.promise})},i.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},i.prototype.bc=function(){return(0,z.mG)(this,void 0,void 0,function(){var t,e=this;return(0,z.Jh)(this,function(o){switch(o.label){case 0:if(0===this.wc.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return o.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Sp(t=o.sent()))throw t;return ze("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),o.label=5;case 5:return[2]}})})},i.prototype.Rc=function(t){var e=this,o=this.dc.then(function(){return e.gc=!0,t().catch(function(u){throw e.yc=u,e.gc=!1,Xr("INTERNAL UNHANDLED ERROR: ",(g=(c=u).message||"",c.stack&&(g=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),g)),u;var c,g}).then(function(u){return e.gc=!1,u})});return this.dc=o,o},i.prototype.enqueueAfterDelay=function(t,e,o){var u=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var c=lj.createAndSchedule(this,t,e,o,function(g){return u.vc(g)});return this.mc.push(c),c},i.prototype.Ac=function(){this.yc&&yt()},i.prototype.verifyOperationInProgress=function(){},i.prototype.Pc=function(){return(0,z.mG)(this,void 0,void 0,function(){var t;return(0,z.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},i.prototype.Vc=function(t){for(var e=0,o=this.mc;e<o.length;e++)if(o[e].timerId===t)return!0;return!1},i.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(g,v){return g.targetTimeMs-v.targetTimeMs});for(var o=0,u=e.mc;o<u.length;o++){var c=u[o];if(c.skipDelay(),"all"!==t&&c.timerId===t)break}return e.Pc()})},i.prototype.Dc=function(t){this.Tc.push(t)},i.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},i}();function S_(i){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var o=t,u=0,c=["next","error","complete"];u<c.length;u++){var g=c[u];if(g in o&&"function"==typeof o[g])return!0}return!1}(i)}!function(){function i(){this._progressObserver={},this._taskCompletionResolver=new oo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}i.prototype.onProgress=function(t,e,o){this._progressObserver={next:t,error:e,complete:o}},i.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},i.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},i.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},i.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},i.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var qr=function(i){function t(e,o){var u=this;return(u=i.call(this,e,o)||this).type="firestore",u._queue=new Wj,u._persistenceKey="name"in e?e.name:"[DEFAULT]",u}return(0,z.ZT)(t,i),t.prototype._terminate=function(){return this._firestoreClient||kB(this),this._firestoreClient.terminate()},t}(rE);function Ti(i){return i._firestoreClient||kB(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function kB(i){var t,c,v,e=i._freezeSettings(),o=(c=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new Hj(i._databaseId,c,i._persistenceKey,(v=e).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));i._firestoreClient=new jj(i._credentials,i._queue,o)}function PB(i,t,e){var o=this,u=new oo;return i.asyncQueue.enqueue(function(){return(0,z.mG)(o,void 0,void 0,function(){var c;return(0,z.Jh)(this,function(g){switch(g.label){case 0:return g.trys.push([0,3,,4]),[4,mB(i,e)];case 1:return g.sent(),[4,yB(i,t)];case 2:return g.sent(),u.resolve(),[3,4];case 3:if(!("FirebaseError"===(v=c=g.sent()).name?v.code===Ae.FAILED_PRECONDITION||v.code===Ae.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw c;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),u.reject(c),[3,4];case 4:return[2]}var v})})}).then(function(){return u.promise})}function NB(i){if(i._initialized||i._terminated)throw new Ue(Ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hl=function(){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=0;o<t.length;++o)if(0===t[o].length)throw new Ue(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new uu(t)}return i.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},i}(),Mp=function(){function i(t){this._byteString=t}return i.fromBase64String=function(t){try{return new i(wo.fromBase64String(t))}catch(e){throw new Ue(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},i.fromUint8Array=function(t){return new i(wo.fromUint8Array(t))},i.prototype.toBase64=function(){return this._byteString.toBase64()},i.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},i.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},i.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},i}(),xp=function(i){this._methodName=i},qA=function(){function i(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ue(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ue(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(i.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},i.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},i.prototype._compareTo=function(t){return cn(this._lat,t._lat)||cn(this._long,t._long)},i}(),Qj=/^__.*__$/,Zj=function(){function i(t,e,o){this.data=t,this.fieldMask=e,this.fieldTransforms=o}return i.prototype.toMutation=function(t,e){return null!==this.fieldMask?new yd(t,this.data,this.fieldMask,e,this.fieldTransforms):new $C(t,this.data,e,this.fieldTransforms)},i}(),FB=function(){function i(t,e,o){this.data=t,this.fieldMask=e,this.fieldTransforms=o}return i.prototype.toMutation=function(t,e){return new yd(t,this.data,this.fieldMask,e,this.fieldTransforms)},i}();function LB(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}var VB=function(){function i(t,e,o,u,c,g){this.settings=t,this.databaseId=e,this.R=o,this.ignoreUndefinedProperties=u,void 0===c&&this.Cc(),this.fieldTransforms=c||[],this.fieldMask=g||[]}return Object.defineProperty(i.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),i.prototype.xc=function(t){return new i(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},i.prototype.Fc=function(t){var e,o=null===(e=this.path)||void 0===e?void 0:e.child(t),u=this.xc({path:o,kc:!1});return u.$c(t),u},i.prototype.Oc=function(t){var e,o=null===(e=this.path)||void 0===e?void 0:e.child(t),u=this.xc({path:o,kc:!1});return u.Cc(),u},i.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},i.prototype.Lc=function(t){return WA(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},i.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},i.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},i.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(LB(this.Nc)&&Qj.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},i}(),Jj=function(){function i(t,e,o){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=o||eE(t)}return i.prototype.Uc=function(t,e,o,u){return void 0===u&&(u=!1),new VB({Nc:t,methodName:e,qc:o,path:uu.emptyPath(),kc:!1,Bc:u},this.databaseId,this.R,this.ignoreUndefinedProperties)},i}();function Op(i){var t=i._freezeSettings(),e=eE(i._databaseId);return new Jj(i._databaseId,!!t.ignoreUndefinedProperties,e)}function $A(i,t,e,o,u,c){void 0===c&&(c={});var g=i.Uc(c.merge||c.mergeFields?2:0,t,e,u);nP("Data must be an object, but it was:",g,o);var v,E,S=jB(o,g);if(c.merge)v=new Xy(g.fieldMask),E=g.fieldTransforms;else if(c.mergeFields){for(var M=[],k=0,F=c.mergeFields;k<F.length;k++){var j=rP(t,F[k],e);if(!g.contains(j))throw new Ue(Ae.INVALID_ARGUMENT,"Field '"+j+"' is specified in your field mask but missing from your input data.");GB(M,j)||M.push(j)}v=new Xy(M),E=g.fieldTransforms.filter(function(q){return v.covers(q.field)})}else v=null,E=g.fieldTransforms;return new Zj(new Ss(S),v,E)}var Xk=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,z.ZT)(t,i),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(xp);function BB(i,t,e){return new VB({Nc:3,qc:t.settings.qc,methodName:i._methodName,kc:e},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Xj=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,z.ZT)(t,i),t.prototype._toFieldTransform=function(e){return new qC(e.path,new o_)},t.prototype.isEqual=function(e){return e instanceof t},t}(xp),eH=function(i){function t(e,o){var u=this;return(u=i.call(this,e)||this).Kc=o,u}return(0,z.ZT)(t,i),t.prototype._toFieldTransform=function(e){var o=BB(this,e,!0),u=this.Kc.map(function(g){return Rp(g,o)}),c=new wp(u);return new qC(e.path,c)},t.prototype.isEqual=function(e){return this===e},t}(xp),tH=function(i){function t(e,o){var u=this;return(u=i.call(this,e)||this).Kc=o,u}return(0,z.ZT)(t,i),t.prototype._toFieldTransform=function(e){var o=BB(this,e,!0),u=this.Kc.map(function(g){return Rp(g,o)}),c=new Dp(u);return new qC(e.path,c)},t.prototype.isEqual=function(e){return this===e},t}(xp),nH=function(i){function t(e,o){var u=this;return(u=i.call(this,e)||this).Qc=o,u}return(0,z.ZT)(t,i),t.prototype._toFieldTransform=function(e){var o=new s_(e.R,RL(e.R,this.Qc));return new qC(e.path,o)},t.prototype.isEqual=function(e){return this===e},t}(xp);function eP(i,t,e,o){var u=i.Uc(1,t,e);nP("Data must be an object, but it was:",u,o);var c=[],g=Ss.empty();bp(o,function(E,S){var M=iP(t,E,e);S=(0,bn.m9)(S);var k=u.Oc(M);if(S instanceof Xk)c.push(M);else{var F=Rp(S,k);null!=F&&(c.push(M),g.set(M,F))}});var v=new Xy(c);return new FB(g,v,u.fieldTransforms)}function tP(i,t,e,o,u,c){var g=i.Uc(1,t,e),v=[rP(t,o,e)],E=[u];if(c.length%2!=0)throw new Ue(Ae.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var S=0;S<c.length;S+=2)v.push(rP(t,c[S])),E.push(c[S+1]);for(var M=[],k=Ss.empty(),F=v.length-1;F>=0;--F)if(!GB(M,v[F])){var j=v[F],q=E[F];q=(0,bn.m9)(q);var ee=g.Oc(j);if(q instanceof Xk)M.push(j);else{var ye=Rp(q,ee);null!=ye&&(M.push(j),k.set(j,ye))}}var Se=new Xy(M);return new FB(k,Se,g.fieldTransforms)}function UB(i,t,e,o){return void 0===o&&(o=!1),Rp(e,i.Uc(o?4:3,t))}function Rp(i,t){if(HB(i=(0,bn.m9)(i)))return nP("Unsupported field value:",t,i),jB(i,t);if(i instanceof xp)return function(e,o){if(!LB(o.Nc))throw o.Lc(e._methodName+"() can only be used with update() and set()");if(!o.path)throw o.Lc(e._methodName+"() is not currently supported inside arrays");var u=e._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.kc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,o){for(var u=[],c=0,g=0,v=e;g<v.length;g++){var E=Rp(v[g],o.Mc(c));null==E&&(E={nullValue:"NULL_VALUE"}),u.push(E),c++}return{arrayValue:{values:u}}}(i,t)}return function(e,o){if(null===(e=(0,bn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return RL(o.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var u=Ko.fromDate(e);return{timestampValue:YC(o.R,u)}}if(e instanceof Ko)return u=new Ko(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:YC(o.R,u)};if(e instanceof qA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Mp)return{bytesValue:JL(o.R,e._byteString)};if(e instanceof Dr){var c=e.firestore._databaseId;if(!c.isEqual(u=o.databaseId))throw o.Lc("Document reference is for database "+c.projectId+"/"+c.database+" but should be for database "+u.projectId+"/"+u.database);return{referenceValue:mk(e.firestore._databaseId||o.databaseId,e._key.path)}}throw o.Lc("Unsupported field value: "+GA(e))}(i,t)}function jB(i,t){var e={};return pL(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bp(i,function(o,u){var c=Rp(u,t.Fc(o));null!=c&&(e[o]=c)}),{mapValue:{fields:e}}}function HB(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ko||i instanceof qA||i instanceof Mp||i instanceof Dr||i instanceof xp)}function nP(i,t,e){if(!HB(e)||"object"!=typeof(u=e)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){var o=GA(e);throw t.Lc("an object"===o?i+" a custom object":i+" "+o)}var u}function rP(i,t,e){if((t=(0,bn.m9)(t))instanceof hl)return t._internalPath;if("string"==typeof t)return iP(i,t);throw WA("Field path arguments must be of type string or FieldPath.",i,!1,void 0,e)}var rH=new RegExp("[~\\*/\\[\\]]");function iP(i,t,e){if(t.search(rH)>=0)throw WA("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",i,!1,void 0,e);try{return(new(hl.bind.apply(hl,(0,z.ev)([void 0],t.split(".")))))._internalPath}catch(o){throw WA("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",i,!1,void 0,e)}}function WA(i,t,e,o,u){var c=o&&!o.isEmpty(),g=void 0!==u,v="Function "+t+"() called with invalid data";e&&(v+=" (via `toFirestore()`)");var E="";return(c||g)&&(E+=" (found",c&&(E+=" in field "+o),g&&(E+=" in document "+u),E+=")"),new Ue(Ae.INVALID_ARGUMENT,(v+=". ")+i+E)}function GB(i,t){return i.some(function(e){return e.isEqual(t)})}var iE=function(){function i(t,e,o,u,c){this._firestore=t,this._userDataWriter=e,this._key=o,this._document=u,this._converter=c}return Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ref",{get:function(){return new Dr(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),i.prototype.exists=function(){return null!==this._document},i.prototype.data=function(){if(this._document){if(this._converter){var t=new iH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},i.prototype.get=function(t){if(this._document){var e=this._document.data.field(YA("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},i}(),iH=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,z.ZT)(t,i),t.prototype.data=function(){return i.prototype.data.call(this)},t}(iE);function YA(i,t){return"string"==typeof t?iP(i,t):t instanceof hl?t._internalPath:t._delegate._internalPath}var kp=function(){function i(t,e){this.hasPendingWrites=t,this.fromCache=e}return i.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},i}(),Nc=function(i){function t(e,o,u,c,g,v){var E=this;return(E=i.call(this,e,o,u,c,v)||this)._firestore=e,E._firestoreImpl=e,E.metadata=g,E}return(0,z.ZT)(t,i),t.prototype.exists=function(){return i.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var o=new oE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,o){if(void 0===o&&(o={}),this._document){var u=this._document.data.field(YA("DocumentSnapshot.get",e));if(null!==u)return this._userDataWriter.convertValue(u,o.serverTimestamps)}},t}(iE),oE=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,z.ZT)(t,i),t.prototype.data=function(e){return void 0===e&&(e={}),i.prototype.data.call(this,e)},t}(Nc),Sd=function(){function i(t,e,o,u){this._firestore=t,this._userDataWriter=e,this._snapshot=u,this.metadata=new kp(u.hasPendingWrites,u.fromCache),this.query=o}return Object.defineProperty(i.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(t,e){var o=this;this._snapshot.docs.forEach(function(u){t.call(e,new oE(o._firestore,o._userDataWriter,u.key,u,new kp(o._snapshot.mutatedKeys.has(u.key),o._snapshot.fromCache),o.query.converter))})},i.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ue(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){var c=0;return o._snapshot.docChanges.map(function(v){return{type:"added",doc:new oE(o._firestore,o._userDataWriter,v.doc.key,v.doc,new kp(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:c++}})}var g=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(function(v){return u||3!==v.type}).map(function(v){var E=new oE(o._firestore,o._userDataWriter,v.doc.key,v.doc,new kp(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),S=-1,M=-1;return 0!==v.type&&(S=g.indexOf(v.doc.key),g=g.delete(v.doc.key)),1!==v.type&&(M=(g=g.add(v.doc)).indexOf(v.doc.key)),{type:oH(v.type),doc:E,oldIndex:S,newIndex:M}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},i}();function oH(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function zB(i,t){return i instanceof Nc&&t instanceof Nc?i._firestore===t._firestore&&i._key.isEqual(t._key)&&(null===i._document?null===t._document:i._document.isEqual(t._document))&&i._converter===t._converter:i instanceof Sd&&t instanceof Sd&&i._firestore===t._firestore&&RB(i.query,t.query)&&i.metadata.isEqual(t.metadata)&&i._snapshot.isEqual(t._snapshot)}function qB(i){if(CA(i)&&0===i.explicitOrderBy.length)throw new Ue(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sE=function(){};function Ad(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var o=0,u=t;o<u.length;o++){var c=u[o];i=c._apply(i)}return i}var sH=function(i){function t(e,o,u){var c=this;return(c=i.call(this)||this).jc=e,c.Wc=o,c.Gc=u,c.type="where",c}return(0,z.ZT)(t,i),t.prototype._apply=function(e){var c,v,o=Op(e.firestore),u=function(c,g,v,E,S,M,k){var F;if(S.isKeyField()){if("array-contains"===M||"array-contains-any"===M)throw new Ue(Ae.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+M+"' queries on FieldPath.documentId().");if("in"===M||"not-in"===M){ZB(k,M);for(var j=[],q=0,ee=k;q<ee.length;q++)j.push(QB(E,c,ee[q]));F={arrayValue:{values:j}}}else F=QB(E,c,k)}else"in"!==M&&"not-in"!==M&&"array-contains-any"!==M||ZB(k,M),F=UB(v,"where",k,"in"===M||"not-in"===M);var Se=As.create(S,M,F);return function(Ne,je){if(je.g()){var tt=uk(Ne);if(null!==tt&&!tt.isEqual(je.field))throw new Ue(Ae.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+tt.toString()+"' and '"+je.field.toString()+"'");var nt=ak(Ne);null!==nt&&JB(0,je.field,nt)}var Ht=function(pn,Si){for(var ni=0,es=pn.filters;ni<es.length;ni++){var Lp=es[ni];if(Si.indexOf(Lp.op)>=0)return Lp.op}return null}(Ne,function(pn){switch(pn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(je.op));if(null!==Ht)throw new Ue(Ae.INVALID_ARGUMENT,Ht===je.op?"Invalid query. You cannot use more than one '"+je.op.toString()+"' filter.":"Invalid query. You cannot use '"+je.op.toString()+"' filters with '"+Ht.toString()+"' filters.")}(c,Se),Se}(e._query,0,o,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Xo(e.firestore,e.converter,(v=(c=e._query).filters.concat([u]),new Oc(c.path,c.collectionGroup,c.explicitOrderBy.slice(),v,c.limit,c.limitType,c.startAt,c.endAt)))},t}(sE),aH=function(i){function t(e,o){var u=this;return(u=i.call(this)||this).jc=e,u.zc=o,u.type="orderBy",u}return(0,z.ZT)(t,i),t.prototype._apply=function(e){var u,g,o=function(u,c,g){if(null!==u.startAt)throw new Ue(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Ue(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var v=new n_(c,g);return function(E,S){if(null===ak(E)){var M=uk(E);null!==M&&JB(0,M,S.field)}}(u,v),v}(e._query,this.jc,this.zc);return new Xo(e.firestore,e.converter,(g=(u=e._query).explicitOrderBy.concat([o]),new Oc(u.path,u.collectionGroup,g,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)))},t}(sE),$B=function(i){function t(e,o,u){var c=this;return(c=i.call(this)||this).type=e,c.Hc=o,c.Jc=u,c}return(0,z.ZT)(t,i),t.prototype._apply=function(e){return new Xo(e.firestore,e.converter,AL(e._query,this.Hc,this.Jc))},t}(sE),WB=function(i){function t(e,o,u){var c=this;return(c=i.call(this)||this).type=e,c.Yc=o,c.Xc=u,c}return(0,z.ZT)(t,i),t.prototype._apply=function(e){var u,c,o=KB(e,this.type,this.Yc,this.Xc);return new Xo(e.firestore,e.converter,(c=o,new Oc((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,c,u.endAt)))},t}(sE),YB=function(i){function t(e,o,u){var c=this;return(c=i.call(this)||this).type=e,c.Yc=o,c.Xc=u,c}return(0,z.ZT)(t,i),t.prototype._apply=function(e){var u,c,o=KB(e,this.type,this.Yc,this.Xc);return new Xo(e.firestore,e.converter,(c=o,new Oc((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,c)))},t}(sE);function KB(i,t,e,o){if(e[0]=(0,bn.m9)(e[0]),e[0]instanceof iE)return function(c,g,v,E,S){if(!E)throw new Ue(Ae.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+v+"().");for(var M=[],k=0,F=i_(c);k<F.length;k++){var j=F[k];if(j.field.isKeyField())M.push(gA(g,E.key));else{var q=E.data.field(j.field);if(nk(q))throw new Ue(Ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+j.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===q){var ee=j.field.canonicalString();throw new Ue(Ae.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+ee+"' (used as the orderBy) does not exist.")}M.push(q)}}return new HC(M,S)}(i._query,i.firestore._databaseId,t,e[0]._document,o);var u=Op(i.firestore);return function(c,g,v,E,S,M){var k=c.explicitOrderBy;if(S.length>k.length)throw new Ue(Ae.INVALID_ARGUMENT,"Too many arguments provided to "+E+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var F=[],j=0;j<S.length;j++){var q=S[j];if(k[j].field.isKeyField()){if("string"!=typeof q)throw new Ue(Ae.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+E+"(), but got a "+typeof q);if(!lk(c)&&-1!==q.indexOf("/"))throw new Ue(Ae.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+E+"() must be a plain document ID, but '"+q+"' contains a slash.");var ee=c.path.child(Sn.fromString(q));if(!vt.isDocumentKey(ee))throw new Ue(Ae.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+E+"() must result in a valid document path, but '"+ee+"' is not because it contains an odd number of segments.");var ye=new vt(ee);F.push(gA(g,ye))}else{var Se=UB(v,E,q);F.push(Se)}}return new HC(F,M)}(i._query,i.firestore._databaseId,u,t,e,o)}function QB(i,t,e){if("string"==typeof(e=(0,bn.m9)(e))){if(""===e)throw new Ue(Ae.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!lk(t)&&-1!==e.indexOf("/"))throw new Ue(Ae.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var o=t.path.child(Sn.fromString(e));if(!vt.isDocumentKey(o))throw new Ue(Ae.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+o+"' is not because it has an odd number of segments ("+o.length+").");return gA(i,new vt(o))}if(e instanceof Dr)return gA(i,e._key);throw new Ue(Ae.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+GA(e)+".")}function ZB(i,t){if(!Array.isArray(i)||0===i.length)throw new Ue(Ae.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(i.length>10)throw new Ue(Ae.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function JB(i,t,e){if(!e.isEqual(t))throw new Ue(Ae.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+e.toString()+"' instead.")}var oP=function(){function i(){}return i.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Ep(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ei(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(e_(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw yt()}},i.prototype.convertObject=function(t,e){var o=this,u={};return bp(t.fields,function(c,g){u[c]=o.convertValue(g,e)}),u},i.prototype.convertGeoPoint=function(t){return new qA(ei(t.latitude),ei(t.longitude))},i.prototype.convertArray=function(t,e){var o=this;return(t.values||[]).map(function(u){return o.convertValue(u,e)})},i.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var o=mL(t);return null==o?null:this.convertValue(o,e);case"estimate":return this.convertTimestamp(VC(t));default:return null}},i.prototype.convertTimestamp=function(t){var e=md(t);return new Ko(e.seconds,e.nanos)},i.prototype.convertDocumentKey=function(t,e){var o=Sn.fromString(t);Ft(hV(o));var u=new HA(o.get(1),o.get(3)),c=new vt(o.popFirst(5));return u.isEqual(e)||Xr("Document "+c+" contains a document reference within a different database ("+u.projectId+"/"+u.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),c},i}();function KA(i,t,e){return i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t}var uH=function(i){function t(e){var o=this;return(o=i.call(this)||this).firestore=e,o}return(0,z.ZT)(t,i),t.prototype.convertBytes=function(e){return new Mp(e)},t.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return new Dr(this.firestore,null,o)},t}(oP),lH=function(){function i(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Op(t)}return i.prototype.set=function(t,e,o){this._verifyNotCommitted();var u=Id(t,this._firestore),c=KA(u.converter,e,o),g=$A(this._dataReader,"WriteBatch.set",u._key,c,null!==u.converter,o);return this._mutations.push(g.toMutation(u._key,no.none())),this},i.prototype.update=function(t,e,o){for(var u=[],c=3;c<arguments.length;c++)u[c-3]=arguments[c];this._verifyNotCommitted();var g,v=Id(t,this._firestore);return g="string"==typeof(e=(0,bn.m9)(e))||e instanceof hl?tP(this._dataReader,"WriteBatch.update",v._key,e,o,u):eP(this._dataReader,"WriteBatch.update",v._key,e),this._mutations.push(g.toMutation(v._key,no.exists(!0))),this},i.prototype.delete=function(t){this._verifyNotCommitted();var e=Id(t,this._firestore);return this._mutations=this._mutations.concat(new WC(e._key,no.none())),this},i.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},i.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ue(Ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},i}();function Id(i,t){if((i=(0,bn.m9)(i)).firestore!==t)throw new Ue(Ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}var Pp=function(i){function t(e){var o=this;return(o=i.call(this)||this).firestore=e,o}return(0,z.ZT)(t,i),t.prototype.convertBytes=function(e){return new Mp(e)},t.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return new Dr(this.firestore,null,o)},t}(oP);function XB(i,t,e){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];i=An(i,Dr);var c=An(i.firestore,qr),g=Op(c);return aE(c,[("string"==typeof(t=(0,bn.m9)(t))||t instanceof hl?tP(g,"updateDoc",i._key,t,e,o):eP(g,"updateDoc",i._key,t)).toMutation(i._key,no.exists(!0))])}function e2(i){for(var t,e,o,u=[],c=1;c<arguments.length;c++)u[c-1]=arguments[c];i=(0,bn.m9)(i);var g={includeMetadataChanges:!1},v=0;"object"!=typeof u[v]||S_(u[v])||(g=u[v],v++);var E,S,M,k={includeMetadataChanges:g.includeMetadataChanges};if(S_(u[v])){var F=u[v];u[v]=null===(t=F.next)||void 0===t?void 0:t.bind(F),u[v+1]=null===(e=F.error)||void 0===e?void 0:e.bind(F),u[v+2]=null===(o=F.complete)||void 0===o?void 0:o.bind(F)}if(i instanceof Dr)S=An(i.firestore,qr),M=r_(i._key.path),E={next:function(ee){u[v]&&u[v](sP(S,i,ee))},error:u[v+1],complete:u[v+2]};else{var j=An(i,Xo);S=An(j.firestore,qr),M=j._query;var q=new Pp(S);E={next:function(ee){u[v]&&u[v](new Sd(S,q,j,ee))},error:u[v+1],complete:u[v+2]},qB(i._query)}return function(ee,ye,Se,Ne){var je=this,tt=new UA(Ne),nt=new Bk(ye,tt,Se);return ee.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(je,void 0,void 0,function(){var Ht;return(0,z.Jh)(this,function(pn){switch(pn.label){case 0:return Ht=Fk,[4,T_(ee)];case 1:return[2,Ht.apply(void 0,[pn.sent(),nt])]}})})}),function(){tt.Wo(),ee.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(je,void 0,void 0,function(){var Ht;return(0,z.Jh)(this,function(pn){switch(pn.label){case 0:return Ht=Lk,[4,T_(ee)];case 1:return[2,Ht.apply(void 0,[pn.sent(),nt])]}})})})}}(Ti(S),M,k,E)}function aE(i,t){return function(e,o){var u=this,c=new oo;return e.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(u,void 0,void 0,function(){var g;return(0,z.Jh)(this,function(v){switch(v.label){case 0:return g=Cj,[4,Qk(e)];case 1:return[2,g.apply(void 0,[v.sent(),o,c])]}})})}),c.promise}(Ti(i),t)}function sP(i,t,e){var o=e.docs.get(t._key),u=new Pp(i);return new Nc(i,u,t._key,o,new kp(e.hasPendingWrites,e.fromCache),t.converter)}var cH=function(i){function t(e,o){var u=this;return(u=i.call(this,e,o)||this)._firestore=e,u}return(0,z.ZT)(t,i),t.prototype.get=function(e){var o=this,u=Id(e,this._firestore),c=new Pp(this._firestore);return i.prototype.get.call(this,e).then(function(g){return new Nc(o._firestore,c,u._key,g._document,new kp(!1,!1),u.converter)})},t}(function(){function i(t,e){this._firestore=t,this._transaction=e,this._dataReader=Op(t)}return i.prototype.get=function(t){var e=this,o=Id(t,this._firestore),u=new uH(this._firestore);return this._transaction.lookup([o._key]).then(function(c){if(!c||1!==c.length)return yt();var g=c[0];if(g.isFoundDocument())return new iE(e._firestore,u,g.key,g,o.converter);if(g.isNoDocument())return new iE(e._firestore,u,o._key,null,o.converter);throw yt()})},i.prototype.set=function(t,e,o){var u=Id(t,this._firestore),c=KA(u.converter,e,o),g=$A(this._dataReader,"Transaction.set",u._key,c,null!==u.converter,o);return this._transaction.set(u._key,g),this},i.prototype.update=function(t,e,o){for(var u=[],c=3;c<arguments.length;c++)u[c-3]=arguments[c];var g,v=Id(t,this._firestore);return g="string"==typeof(e=(0,bn.m9)(e))||e instanceof hl?tP(this._dataReader,"Transaction.update",v._key,e,o,u):eP(this._dataReader,"Transaction.update",v._key,e),this._transaction.update(v._key,g),this},i.prototype.delete=function(t){var e=Id(t,this._firestore);return this._transaction.delete(e._key),this},i}());function t2(){if("undefined"==typeof Uint8Array)throw new Ue(Ae.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function n2(){if("undefined"==typeof atob)throw new Ue(Ae.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var r2=function(){function i(t){this._delegate=t}return i.fromBase64String=function(t){return n2(),new i(Mp.fromBase64String(t))},i.fromUint8Array=function(t){return t2(),new i(Mp.fromUint8Array(t))},i.prototype.toBase64=function(){return n2(),this._delegate.toBase64()},i.prototype.toUint8Array=function(){return t2(),this._delegate.toUint8Array()},i.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},i.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},i}(),hH=function(){function i(){}return i.prototype.enableIndexedDbPersistence=function(t,e){return function(o,u){NB(o=An(o,qr));var c=Ti(o),g=o._freezeSettings(),v=new Wk;return PB(c,v,new pB(v,g.cacheSizeBytes,null==u?void 0:u.forceOwnership))}(t._delegate,{forceOwnership:e})},i.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(e){NB(e=An(e,qr));var o=Ti(e),u=e._freezeSettings(),c=new Wk;return PB(o,c,new Lj(c,u.cacheSizeBytes))}(t._delegate)},i.prototype.clearIndexedDbPersistence=function(t){return function(e){var o=this;if(e._initialized&&!e._terminated)throw new Ue(Ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var u=new oo;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,z.mG)(o,void 0,void 0,function(){var c;return(0,z.Jh)(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,function(v){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(S){switch(S.label){case 0:return h_.yt()?[4,h_.delete(v+"main")]:[2,Promise.resolve()];case 1:return S.sent(),[2]}})})}(Tk(e._databaseId,e._persistenceKey))];case 1:return g.sent(),u.resolve(),[3,3];case 2:return c=g.sent(),u.reject(c),[3,3];case 3:return[2]}})})}),u.promise}(t._delegate)},i}(),o2=function(){function i(t,e,o){var u=this;this._delegate=e,this.Zc=o,this.INTERNAL={delete:function(){return u.terminate()}},t instanceof HA||(this.tu=t)}return Object.defineProperty(i.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),i.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||LC("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},i.prototype.useEmulator=function(t,e,o){void 0===o&&(o={}),function(u,c,g,v){void 0===v&&(v={});var E=(u=An(u,rE))._getSettings();if("firestore.googleapis.com"!==E.host&&E.host!==c&&LC("Host has been set in both settings() and useEmulator(), emulator host will be used"),u._setSettings(Object.assign(Object.assign({},E),{host:c+":"+g,ssl:!1})),v.mockUserToken){var S=(0,bn.Sg)(v.mockUserToken),M=v.mockUserToken.sub||v.mockUserToken.user_id;if(!M)throw new Ue(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u._credentials=new Gj(new wB(S,new Jo(M)))}}(this._delegate,t,e,o)},i.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,z.mG)(e,void 0,void 0,function(){var o,u;return(0,z.Jh)(this,function(c){switch(c.label){case 0:return[4,_B(t)];case 1:return o=c.sent(),[4,vB(t)];case 2:return u=c.sent(),[2,(o.setNetworkEnabled(!0),g=u,v=Ze(g),v.Or.delete(0),tE(v))]}var g,v})})})}(Ti(An(this._delegate,qr)))},i.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,z.mG)(e,void 0,void 0,function(){var o,u;return(0,z.Jh)(this,function(c){switch(c.label){case 0:return[4,_B(t)];case 1:return o=c.sent(),[4,vB(t)];case 2:return u=c.sent(),[2,(o.setNetworkEnabled(!1),function(g){return(0,z.mG)(this,void 0,void 0,function(){var v;return(0,z.Jh)(this,function(E){switch(E.label){case 0:return(v=Ze(g)).Or.add(0),[4,b_(v)];case 1:return E.sent(),v.Br.set("Offline"),[2]}})})}(u))]}})})})}(Ti(An(this._delegate,qr)))},i.prototype.enablePersistence=function(t){var e=!1,o=!1;return t&&TB("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",o=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,o)},i.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},i.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},i.prototype.waitForPendingWrites=function(){return function(t){var e=this,o=new oo;return t.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(e,void 0,void 0,function(){var u;return(0,z.Jh)(this,function(c){switch(c.label){case 0:return u=Tj,[4,Qk(t)];case 1:return[2,u.apply(void 0,[c.sent(),o])]}})})}),o.promise}(Ti(An(this._delegate,qr)))},i.prototype.onSnapshotsInSync=function(t){return o=t,function(u,c){var g=this,v=new UA(c);return u.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(g,void 0,void 0,function(){var E;return(0,z.Jh)(this,function(S){switch(S.label){case 0:return E=function(M,k){Ze(M).Gr.add(k),k.next()},[4,T_(u)];case 1:return[2,E.apply(void 0,[S.sent(),v])]}})})}),function(){v.Wo(),u.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(g,void 0,void 0,function(){var E;return(0,z.Jh)(this,function(S){switch(S.label){case 0:return E=function(M,k){Ze(M).Gr.delete(k)},[4,T_(u)];case 1:return[2,E.apply(void 0,[S.sent(),v])]}})})})}}(Ti(An(this._delegate,qr)),S_(o)?o:{next:o});var o},Object.defineProperty(i.prototype,"app",{get:function(){if(!this.tu)throw new Ue(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),i.prototype.collection=function(t){try{return new JA(this,xB(this._delegate,t))}catch(e){throw Do(e,"collection()","Firestore.collection()")}},i.prototype.doc=function(t){try{return new Np(this,zA(this._delegate,t))}catch(e){throw Do(e,"doc()","Firestore.doc()")}},i.prototype.collectionGroup=function(t){try{return new cE(this,function(e,o){if(e=An(e,rE),Zk("collectionGroup","collection id",o),o.indexOf("/")>=0)throw new Ue(Ae.INVALID_ARGUMENT,"Invalid collection ID '"+o+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Xo(e,null,(u=o,new Oc(Sn.emptyPath(),u)));var u}(this._delegate,t))}catch(e){throw Do(e,"collectionGroup()","Firestore.collectionGroup()")}},i.prototype.runTransaction=function(t){var o,e=this;return function(c,g){var v=this,E=new oo;return c.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(v,void 0,void 0,function(){var S;return(0,z.Jh)(this,function(M){switch(M.label){case 0:return[4,(k=c,jA(k).then(function(F){return F.datastore}))];case 1:return S=M.sent(),new Uj(c.asyncQueue,S,g,E).run(),[2]}var k})})}),E.promise}(Ti(o=this._delegate),function(c){return function(o){return t(new s2(e,o))}(new cH(o,c))})},i.prototype.batch=function(){var t=this;return Ti(this._delegate),new a2(new lH(this._delegate,function(e){return aE(t._delegate,e)}))},i.prototype.loadBundle=function(t){throw new Ue(Ae.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},i.prototype.namedQuery=function(t){throw new Ue(Ae.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},i}(),QA=function(i){function t(e){var o=this;return(o=i.call(this)||this).firestore=e,o}return(0,z.ZT)(t,i),t.prototype.convertBytes=function(e){return new r2(new Mp(e))},t.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return Np.eu(o,this.firestore,null)},t}(oP),s2=function(){function i(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new QA(t)}return i.prototype.get=function(t){var e=this,o=Fp(t);return this._delegate.get(o).then(function(u){return new uE(e._firestore,new Nc(e._firestore._delegate,e._userDataWriter,u._key,u._document,u.metadata,o.converter))})},i.prototype.set=function(t,e,o){var u=Fp(t);return o?(Jk("Transaction.set",o),this._delegate.set(u,e,o)):this._delegate.set(u,e),this},i.prototype.update=function(t,e,o){for(var u,c=[],g=3;g<arguments.length;g++)c[g-3]=arguments[g];var v=Fp(t);return 2===arguments.length?this._delegate.update(v,e):(u=this._delegate).update.apply(u,(0,z.ev)([v,e,o],c)),this},i.prototype.delete=function(t){var e=Fp(t);return this._delegate.delete(e),this},i}(),a2=function(){function i(t){this._delegate=t}return i.prototype.set=function(t,e,o){var u=Fp(t);return o?(Jk("WriteBatch.set",o),this._delegate.set(u,e,o)):this._delegate.set(u,e),this},i.prototype.update=function(t,e,o){for(var u,c=[],g=3;g<arguments.length;g++)c[g-3]=arguments[g];var v=Fp(t);return 2===arguments.length?this._delegate.update(v,e):(u=this._delegate).update.apply(u,(0,z.ev)([v,e,o],c)),this},i.prototype.delete=function(t){var e=Fp(t);return this._delegate.delete(e),this},i.prototype.commit=function(){return this._delegate.commit()},i}(),ZA=function(){function i(t,e,o){this._firestore=t,this._userDataWriter=e,this._delegate=o}return i.prototype.fromFirestore=function(t,e){var o=new oE(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new lE(this._firestore,o),null!=e?e:{})},i.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},i.nu=function(t,e){var o=i.su,u=o.get(t);u||(u=new WeakMap,o.set(t,u));var c=u.get(e);return c||(c=new i(t,new QA(t),e),u.set(e,c)),c},i}();ZA.su=new WeakMap;var Np=function(){function i(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new QA(t)}return i.iu=function(t,e,o){if(t.length%2!=0)throw new Ue(Ae.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new i(e,new Dr(e._delegate,o,new vt(t)))},i.eu=function(t,e,o){return new i(e,new Dr(e._delegate,o,t))},Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new JA(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),i.prototype.collection=function(t){try{return new JA(this.firestore,xB(this._delegate,t))}catch(e){throw Do(e,"collection()","DocumentReference.collection()")}},i.prototype.isEqual=function(t){return(t=(0,bn.m9)(t))instanceof Dr&&OB(this._delegate,t)},i.prototype.set=function(t,e){e=Jk("DocumentReference.set",e);try{return function(o,u,c){o=An(o,Dr);var g=An(o.firestore,qr),v=KA(o.converter,u,c);return aE(g,[$A(Op(g),"setDoc",o._key,v,null!==o.converter,c).toMutation(o._key,no.none())])}(this._delegate,t,e)}catch(o){throw Do(o,"setDoc()","DocumentReference.set()")}},i.prototype.update=function(t,e){for(var o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];try{return 1===arguments.length?XB(this._delegate,t):XB.apply(void 0,(0,z.ev)([this._delegate,t,e],o))}catch(c){throw Do(c,"updateDoc()","DocumentReference.update()")}},i.prototype.delete=function(){return aE(An((t=this._delegate).firestore,qr),[new WC(t._key,no.none())]);var t},i.prototype.onSnapshot=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var u=u2(e),c=l2(e,function(g){return new uE(t.firestore,new Nc(t.firestore._delegate,t._userDataWriter,g._key,g._document,g.metadata,t._delegate.converter))});return e2(this._delegate,u,c)},i.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(o){o=An(o,Dr);var u=An(o.firestore,qr),c=Ti(u),g=new Pp(u);return function(v,E){var S=this,M=new oo;return v.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(S,void 0,void 0,function(){var k;return(0,z.Jh)(this,function(F){switch(F.label){case 0:return k=function(j,q,ee){return(0,z.mG)(this,void 0,void 0,function(){var ye,Se;return(0,z.Jh)(this,function(Ne){switch(Ne.label){case 0:return Ne.trys.push([0,2,,3]),[4,(je=j,tt=q,nt=Ze(je),nt.persistence.runTransaction("read document","readonly",function(Ht){return nt.Mn.mn(Ht,tt)}))];case 1:return(Se=Ne.sent()).isFoundDocument()?ee.resolve(Se):Se.isNoDocument()?ee.resolve(null):ee.reject(new Ue(Ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return ye=Ne.sent(),Se=w_(ye,"Failed to get document '"+q+" from cache"),ee.reject(Se),[3,3];case 3:return[2]}var je,tt,nt})})},[4,Kk(v)];case 1:return[2,k.apply(void 0,[F.sent(),E,M])]}})})}),M.promise}(c,o._key).then(function(v){return new Nc(u,g,o._key,v,new kp(null!==v&&v.hasLocalMutations,!0),o.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(o){o=An(o,Dr);var u=An(o.firestore,qr);return bB(Ti(u),o._key,{source:"server"}).then(function(c){return sP(u,o,c)})}(this._delegate):function(o){o=An(o,Dr);var u=An(o.firestore,qr);return bB(Ti(u),o._key).then(function(c){return sP(u,o,c)})}(this._delegate)).then(function(o){return new uE(e.firestore,new Nc(e.firestore._delegate,e._userDataWriter,o._key,o._document,o.metadata,e._delegate.converter))})},i.prototype.withConverter=function(t){return new i(this.firestore,this._delegate.withConverter(t?ZA.nu(this.firestore,t):null))},i}();function Do(i,t,e){return i.message=i.message.replace(t,e),i}function u2(i){for(var t=0,e=i;t<e.length;t++){var o=e[t];if("object"==typeof o&&!S_(o))return o}return{}}function l2(i,t){var e,o,u;return{next:function(c){u.next&&u.next(t(c))},error:null===(e=(u=S_(i[0])?i[0]:S_(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]}).error)||void 0===e?void 0:e.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}var uE=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"ref",{get:function(){return new Np(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),i.prototype.data=function(t){return this._delegate.data(t)},i.prototype.get=function(t,e){return this._delegate.get(t,e)},i.prototype.isEqual=function(t){return zB(this._delegate,t._delegate)},i}(),lE=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,z.ZT)(t,i),t.prototype.data=function(e){return this._delegate.data(e)},t}(uE),cE=function(){function i(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new QA(t)}return i.prototype.where=function(t,e,o){try{return new i(this.firestore,Ad(this._delegate,(g=o,v=e,E=YA("where",u=t),new sH(E,v,g))))}catch(u){throw Do(u,/(orderBy|where)\(\)/,"Query.$1()")}var u,g,v,E},i.prototype.orderBy=function(t,e){try{return new i(this.firestore,Ad(this._delegate,function(o,u){void 0===u&&(u="asc");var c=u,g=YA("orderBy",o);return new aH(g,c)}(t,e)))}catch(o){throw Do(o,/(orderBy|where)\(\)/,"Query.$1()")}},i.prototype.limit=function(t){try{return new i(this.firestore,Ad(this._delegate,(IB("limit",e=t),new $B("limit",e,"F"))))}catch(e){throw Do(e,"limit()","Query.limit()")}var e},i.prototype.limitToLast=function(t){try{return new i(this.firestore,Ad(this._delegate,(IB("limitToLast",e=t),new $B("limitToLast",e,"L"))))}catch(e){throw Do(e,"limitToLast()","Query.limitToLast()")}var e},i.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,Ad(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new WB("startAt",o,!0)}.apply(void 0,t)))}catch(o){throw Do(o,"startAt()","Query.startAt()")}},i.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,Ad(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new WB("startAfter",o,!1)}.apply(void 0,t)))}catch(o){throw Do(o,"startAfter()","Query.startAfter()")}},i.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,Ad(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new YB("endBefore",o,!0)}.apply(void 0,t)))}catch(o){throw Do(o,"endBefore()","Query.endBefore()")}},i.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,Ad(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new YB("endAt",o,!1)}.apply(void 0,t)))}catch(o){throw Do(o,"endAt()","Query.endAt()")}},i.prototype.isEqual=function(t){return RB(this._delegate,t._delegate)},i.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(o){o=An(o,Xo);var u=An(o.firestore,qr),c=Ti(u),g=new Pp(u);return function(v,E){var S=this,M=new oo;return v.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(S,void 0,void 0,function(){var k;return(0,z.Jh)(this,function(F){switch(F.label){case 0:return k=function(j,q,ee){return(0,z.mG)(this,void 0,void 0,function(){var ye,Se,Ne,je,tt;return(0,z.Jh)(this,function(nt){switch(nt.label){case 0:return nt.trys.push([0,2,,3]),[4,NA(j,q,!0)];case 1:return tt=nt.sent(),ye=new aB(q,tt.Bn),Se=ye._o(tt.documents),Ne=ye.applyChanges(Se,!1),ee.resolve(Ne.snapshot),[3,3];case 2:return je=nt.sent(),tt=w_(je,"Failed to execute query '"+q+" against cache"),ee.reject(tt),[3,3];case 3:return[2]}})})},[4,Kk(v)];case 1:return[2,k.apply(void 0,[F.sent(),E,M])]}})})}),M.promise}(c,o._query).then(function(v){return new Sd(u,g,o,v)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(o){o=An(o,Xo);var u=An(o.firestore,qr),c=Ti(u),g=new Pp(u);return CB(c,o._query,{source:"server"}).then(function(v){return new Sd(u,g,o,v)})}(this._delegate):function(o){o=An(o,Xo);var u=An(o.firestore,qr),c=Ti(u),g=new Pp(u);return qB(o._query),CB(c,o._query).then(function(v){return new Sd(u,g,o,v)})}(this._delegate)).then(function(o){return new aP(e.firestore,new Sd(e.firestore._delegate,e._userDataWriter,e._delegate,o._snapshot))})},i.prototype.onSnapshot=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var u=u2(e),c=l2(e,function(g){return new aP(t.firestore,new Sd(t.firestore._delegate,t._userDataWriter,t._delegate,g._snapshot))});return e2(this._delegate,u,c)},i.prototype.withConverter=function(t){return new i(this.firestore,this._delegate.withConverter(t?ZA.nu(this.firestore,t):null))},i}(),fH=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"doc",{get:function(){return new lE(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),i}(),aP=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"query",{get:function(){return new cE(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new lE(t._firestore,e)})},enumerable:!1,configurable:!0}),i.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(o){return new fH(e._firestore,o)})},i.prototype.forEach=function(t,e){var o=this;this._delegate.forEach(function(u){t.call(e,new lE(o._firestore,u))})},i.prototype.isEqual=function(t){return zB(this._delegate,t._delegate)},i}(),JA=function(i){function t(e,o){var u=this;return(u=i.call(this,e,o)||this).firestore=e,u._delegate=o,u}return(0,z.ZT)(t,i),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Np(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Np(this.firestore,void 0===e?zA(this._delegate):zA(this._delegate,e))}catch(o){throw Do(o,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var u,c,g,v,E,o=this;return(u=this._delegate,c=e,g=An(u.firestore,qr),v=zA(u),E=KA(u.converter,c),aE(g,[$A(Op(u.firestore),"addDoc",v._key,E,null!==u.converter,{}).toMutation(v._key,no.exists(!1))]).then(function(){return v})).then(function(u){return new Np(o.firestore,u)})},t.prototype.isEqual=function(e){return OB(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?ZA.nu(this.firestore,e):null))},t}(cE);function Fp(i){return An(i,Dr)}var pH=function(){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(hl.bind.apply(hl,(0,z.ev)([void 0],t)))}return i.documentId=function(){return new i(uu.keyField().canonicalString())},i.prototype.isEqual=function(t){return(t=(0,bn.m9)(t))instanceof hl&&this._delegate._internalPath.isEqual(t._internalPath)},i}(),gH=function(){function i(t){this._delegate=t}return i.serverTimestamp=function(){var t=new Xj("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new i(t)},i.delete=function(){var t=new Xk("deleteField");return t._methodName="FieldValue.delete",new i(t)},i.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return new eH("arrayUnion",u)}.apply(void 0,t);return o._methodName="FieldValue.arrayUnion",new i(o)},i.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return new tH("arrayRemove",u)}.apply(void 0,t);return o._methodName="FieldValue.arrayRemove",new i(o)},i.increment=function(t){var e=new nH("increment",t);return e._methodName="FieldValue.increment",new i(e)},i.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},i}(),mH=Y(6034),yH={Firestore:o2,GeoPoint:qA,Timestamp:Ko,Blob:r2,Transaction:s2,WriteBatch:a2,DocumentReference:Np,DocumentSnapshot:uE,Query:cE,QueryDocumentSnapshot:lE,QuerySnapshot:aP,CollectionReference:JA,FieldPath:pH,FieldValue:gH,setLogLevel:function(i){au.setLogLevel(i)},CACHE_SIZE_UNLIMITED:-1};function c2(i,t){return function(i,t=Oh.z){return new Hn.y(e=>{let o;return null!=t?t.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},e)}):o=i.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=o&&o()}})}(i,t)}function uP(i,t){return c2(i,t).pipe((0,ft.U)(e=>({payload:e,type:"query"})))}function XA(i,t){return uP(i,t).pipe(cs(void 0),Av(),(0,ft.U)(([e,o])=>{const u=o.payload.docChanges(),c=u.map(g=>({type:g.type,payload:g}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((g,v)=>{const E=u.find(M=>M.doc.ref.isEqual(g.ref)),S=null==e?void 0:e.payload.docs.find(M=>M.ref.isEqual(g.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(g.metadata)||!E&&S&&JSON.stringify(S.metadata)===JSON.stringify(g.metadata)||c.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:g}})}),c}))}function h2(i,t,e){return XA(i,e).pipe(Ma((o,u)=>function(i,t,e){return t.forEach(o=>{e.indexOf(o.type)>-1&&(i=function(i,t){switch(t.type){case"added":if(!i[t.newIndex]||!i[t.newIndex].doc.ref.isEqual(t.doc.ref))return lP(i,t.newIndex,0,t);break;case"modified":if(null==i[t.oldIndex]||i[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=i.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return lP(i,t.newIndex,1,t)}break;case"removed":if(i[t.oldIndex]&&i[t.oldIndex].doc.ref.isEqual(t.doc.ref))return lP(i,t.oldIndex,1)}return i}(i,o))}),i}(o,u.map(c=>c.payload),t),[]),xh(),(0,ft.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function lP(i,t,e,...o){const u=i.slice();return u.splice(t,e,...o),u}function d2(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}!function(i){i.INTERNAL.registerComponent(new mH.wA("firestore",function(o){return t=o.getProvider("app").getImmediate(),e=o.getProvider("auth-internal"),new o2(t,new qr(t,e),new hH);var t,e},"PUBLIC").setServiceProps(Object.assign({},yH))),i.registerVersion("@firebase/firestore","2.3.9")}(vR.Z);class f2{constructor(t,e,o){this.ref=t,this.query=e,this.afs=o}stateChanges(t){let e=XA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ft.U)(o=>o.filter(u=>t.indexOf(u.type)>-1)))),e.pipe(cs(void 0),Av(),ui(([o,u])=>u.length>0||!o),(0,ft.U)(([o,u])=>u),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ma((e,o)=>[...e,...o],[]))}snapshotChanges(t){const e=d2(t);return h2(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return uP(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(e=>e.payload.docs.map(o=>t.idField?Object.assign(Object.assign({},o.data()),{[t.idField]:o.id}):o.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,jn.D)(this.query.get(t)).pipe((0,rc.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new p2(this.ref.doc(t),this.afs)}}class p2{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const o=this.ref.collection(t),{ref:u,query:c}=y2(o,e);return new f2(u,c,this.afs)}snapshotChanges(){return function(i,t){return c2(i,t).pipe(cs(void 0),Av(),(0,ft.U)(([e,o])=>o.exists?(null==e?void 0:e.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ft.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,jn.D)(this.ref.get(t)).pipe((0,rc.QV)(this.afs.schedulers.insideAngular))}}class wH{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?XA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(e=>e.filter(o=>t.indexOf(o.type)>-1)),ui(e=>e.length>0),this.afs.keepUnstableUntilFirst):XA(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ma((e,o)=>[...e,...o],[]))}snapshotChanges(t){const e=d2(t);return h2(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return uP(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(o=>o.payload.docs.map(u=>t.idField?Object.assign({[t.idField]:u.id},u.data()):u.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,jn.D)(this.query.get(t)).pipe((0,rc.QV)(this.afs.schedulers.insideAngular))}}const cP=new p.OlP("angularfire2.enableFirestorePersistence"),hP=new p.OlP("angularfire2.firestore.persistenceSettings"),g2=new p.OlP("angularfire2.firestore.settings"),m2=new p.OlP("angularfire2.firestore.use-emulator");function y2(i,t=(e=>e)){return{query:t(i),ref:i}}let DH=(()=>{class i{constructor(e,o,u,c,g,v,E,S,M){this.schedulers=new Mn.HU(v),this.keepUnstableUntilFirst=(0,Mn.ss)(this.schedulers);const k=(0,Mn.on)(e,v,o);!by.Z.auth&&M&&(0,Mn.yq)();const F=S;[this.firestore,this.persistenceEnabled$]=(0,Mn.sI)(`${k.name}.firestore`,"AngularFirestore",k,()=>{const j=v.runOutsideAngular(()=>k.firestore());if(c&&j.settings(c),F&&j.useEmulator(...F),u&&!function(i){return"server"===i}(g)){const q=()=>{try{return(0,jn.D)(j.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(ee){return"undefined"!=typeof console&&console.warn(ee),(0,ot.of)(!1)}};return[j,v.runOutsideAngular(q)]}return[j,(0,ot.of)(!1)]},[c,F,u])}collection(e,o){let u;u="string"==typeof e?this.firestore.collection(e):e;const{ref:c,query:g}=y2(u,o),v=this.schedulers.ngZone.run(()=>c);return new f2(v,g,this)}collectionGroup(e,o){const u=o||(g=>g),c=this.firestore.collectionGroup(e);return new wH(u(c),this)}doc(e){let o;o="string"==typeof e?this.firestore.doc(e):e;const u=this.schedulers.ngZone.run(()=>o);return new p2(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Mn.Dh),p.LFG(Mn.xv,8),p.LFG(cP,8),p.LFG(g2,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(hP,8),p.LFG(m2,8),p.LFG(tl,8))},i.\u0275prov=p.Yz7({factory:function(){return new i(p.LFG(Mn.Dh),p.LFG(Mn.xv,8),p.LFG(cP,8),p.LFG(g2,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(hP,8),p.LFG(m2,8),p.LFG(tl,8))},token:i,providedIn:"any"}),i})(),TH=(()=>{class i{static enablePersistence(e){return{ngModule:i,providers:[{provide:cP,useValue:!0},{provide:hP,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[DH]}),i})();const _2_firebaseConfig={apiKey:"AIzaSyCC5D0tJD7h3zYyO_IfV6jWsCc9qniIrUk",authDomain:"todo-app0355.firebaseapp.com",databaseURL:"https://todo-app0355-default-rtdb.firebaseio.com",projectId:"todo-app0355",storageBucket:"todo-app0355.appspot.com",messagingSenderId:"551618612055",appId:"1:551618612055:web:1e3c054f54672f63264c12"};let RH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[Hr],Hr]}),i})(),kH=(()=>{class i extends zc{constructor(){super(...arguments),this.overrides={swipe:{direction:Hammer.DIRECTION_HORIZONTAL},pinch:{enable:!1},rotate:{enable:!1},pan:{enable:!0}}}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=p.n5z(i)))(o||i)}}(),i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),PH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i,bootstrap:[jS]}),i.\u0275inj=p.cJS({providers:[Mn.hO,{provide:Ls,useClass:kH}],imports:[[Vd,lI,yx,vN,FO,RH,US,Y0,U0,BT,Y0,wT,FS,Nt,Mn.hO.initializeApp(_2_firebaseConfig),W0,TH,Xp,JN,n0]]}),i})();Y(1524),(0,p.G48)(),js().bootstrapModule(PH).catch(i=>console.error(i))},4762:(rt,ke,Y)=>{"use strict";Y.d(ke,{ZT:()=>fe,pi:()=>P,mG:()=>he,Jh:()=>re,XA:()=>G,CR:()=>X,ev:()=>Me});var p=function(_e,be){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,ve){Ce.__proto__=ve}||function(Ce,ve){for(var Re in ve)Object.prototype.hasOwnProperty.call(ve,Re)&&(Ce[Re]=ve[Re])})(_e,be)};function fe(_e,be){if("function"!=typeof be&&null!==be)throw new TypeError("Class extends value "+String(be)+" is not a constructor or null");function Ce(){this.constructor=_e}p(_e,be),_e.prototype=null===be?Object.create(be):(Ce.prototype=be.prototype,new Ce)}var P=function(){return(P=Object.assign||function(be){for(var Ce,ve=1,Re=arguments.length;ve<Re;ve++)for(var De in Ce=arguments[ve])Object.prototype.hasOwnProperty.call(Ce,De)&&(be[De]=Ce[De]);return be}).apply(this,arguments)};function he(_e,be,Ce,ve){return new(Ce||(Ce=Promise))(function(De,gt){function mt(ct){try{lt(ve.next(ct))}catch(Je){gt(Je)}}function _n(ct){try{lt(ve.throw(ct))}catch(Je){gt(Je)}}function lt(ct){ct.done?De(ct.value):function(De){return De instanceof Ce?De:new Ce(function(gt){gt(De)})}(ct.value).then(mt,_n)}lt((ve=ve.apply(_e,be||[])).next())})}function re(_e,be){var ve,Re,De,gt,Ce={label:0,sent:function(){if(1&De[0])throw De[1];return De[1]},trys:[],ops:[]};return gt={next:mt(0),throw:mt(1),return:mt(2)},"function"==typeof Symbol&&(gt[Symbol.iterator]=function(){return this}),gt;function mt(lt){return function(ct){return function(lt){if(ve)throw new TypeError("Generator is already executing.");for(;Ce;)try{if(ve=1,Re&&(De=2&lt[0]?Re.return:lt[0]?Re.throw||((De=Re.return)&&De.call(Re),0):Re.next)&&!(De=De.call(Re,lt[1])).done)return De;switch(Re=0,De&&(lt=[2&lt[0],De.value]),lt[0]){case 0:case 1:De=lt;break;case 4:return Ce.label++,{value:lt[1],done:!1};case 5:Ce.label++,Re=lt[1],lt=[0];continue;case 7:lt=Ce.ops.pop(),Ce.trys.pop();continue;default:if(!(De=(De=Ce.trys).length>0&&De[De.length-1])&&(6===lt[0]||2===lt[0])){Ce=0;continue}if(3===lt[0]&&(!De||lt[1]>De[0]&&lt[1]<De[3])){Ce.label=lt[1];break}if(6===lt[0]&&Ce.label<De[1]){Ce.label=De[1],De=lt;break}if(De&&Ce.label<De[2]){Ce.label=De[2],Ce.ops.push(lt);break}De[2]&&Ce.ops.pop(),Ce.trys.pop();continue}lt=be.call(_e,Ce)}catch(ct){lt=[6,ct],Re=0}finally{ve=De=0}if(5&lt[0])throw lt[1];return{value:lt[0]?lt[1]:void 0,done:!0}}([lt,ct])}}}function G(_e){var be="function"==typeof Symbol&&Symbol.iterator,Ce=be&&_e[be],ve=0;if(Ce)return Ce.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&ve>=_e.length&&(_e=void 0),{value:_e&&_e[ve++],done:!_e}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}function X(_e,be){var Ce="function"==typeof Symbol&&_e[Symbol.iterator];if(!Ce)return _e;var Re,gt,ve=Ce.call(_e),De=[];try{for(;(void 0===be||be-- >0)&&!(Re=ve.next()).done;)De.push(Re.value)}catch(mt){gt={error:mt}}finally{try{Re&&!Re.done&&(Ce=ve.return)&&Ce.call(ve)}finally{if(gt)throw gt.error}}return De}function Me(_e,be){for(var Ce=0,ve=be.length,Re=_e.length;Ce<ve;Ce++,Re++)_e[Re]=be[Ce];return _e}}},rt=>{rt(rt.s=8104)}]);